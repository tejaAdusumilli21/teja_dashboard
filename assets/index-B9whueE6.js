(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var bd={exports:{}},ml={};var R_;function s1(){if(R_)return ml;R_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return ml.Fragment=t,ml.jsx=i,ml.jsxs=i,ml}var I_;function a1(){return I_||(I_=1,bd.exports=s1()),bd.exports}var Z=a1(),wd={exports:{}},Et={};var C_;function o1(){if(C_)return Et;C_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),M=Symbol.iterator;function Y(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,et={};function ft(O,G,K){this.props=O,this.context=G,this.refs=et,this.updater=K||tt}ft.prototype.isReactComponent={},ft.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},ft.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function _t(){}_t.prototype=ft.prototype;function yt(O,G,K){this.props=O,this.context=G,this.refs=et,this.updater=K||tt}var Lt=yt.prototype=new _t;Lt.constructor=yt,it(Lt,ft.prototype),Lt.isPureReactComponent=!0;var Wt=Array.isArray;function At(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(O,G,K){var nt=K.ref;return{$$typeof:s,type:O,key:G,ref:nt!==void 0?nt:null,props:K}}function V(O,G){return I(O.type,G,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(K){return G[K]})}var w=/\/+/g;function Pt(O,G){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):G.toString(36)}function ce(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(At,At):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function q(O,G,K,nt,at){var gt=typeof O;(gt==="undefined"||gt==="boolean")&&(O=null);var St=!1;if(O===null)St=!0;else switch(gt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(O.$$typeof){case s:case t:St=!0;break;case S:return St=O._init,q(St(O._payload),G,K,nt,at)}}if(St)return at=at(O),St=nt===""?"."+Pt(O,0):nt,Wt(at)?(K="",St!=null&&(K=St.replace(w,"$&/")+"/"),q(at,G,K,"",function(ns){return ns})):at!=null&&(D(at)&&(at=V(at,K+(at.key==null||O&&O.key===at.key?"":(""+at.key).replace(w,"$&/")+"/")+St)),G.push(at)),1;St=0;var Ie=nt===""?".":nt+":";if(Wt(O))for(var ie=0;ie<O.length;ie++)nt=O[ie],gt=Ie+Pt(nt,ie),St+=q(nt,G,K,gt,at);else if(ie=Y(O),typeof ie=="function")for(O=ie.call(O),ie=0;!(nt=O.next()).done;)nt=nt.value,gt=Ie+Pt(nt,ie++),St+=q(nt,G,K,gt,at);else if(gt==="object"){if(typeof O.then=="function")return q(ce(O),G,K,nt,at);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return St}function W(O,G,K){if(O==null)return O;var nt=[],at=0;return q(O,nt,"","",function(gt){return G.call(K,gt,at++)}),nt}function ut(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(K){(O._status===0||O._status===-1)&&(O._status=1,O._result=K)},function(K){(O._status===0||O._status===-1)&&(O._status=2,O._result=K)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var xt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},zt={map:W,forEach:function(O,G,K){W(O,function(){G.apply(this,arguments)},K)},count:function(O){var G=0;return W(O,function(){G++}),G},toArray:function(O){return W(O,function(G){return G})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Et.Activity=b,Et.Children=zt,Et.Component=ft,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=yt,Et.StrictMode=a,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Et.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Et.cache=function(O){return function(){return O.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(O,G,K){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var nt=it({},O.props),at=O.key;if(G!=null)for(gt in G.key!==void 0&&(at=""+G.key),G)!A.call(G,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&G.ref===void 0||(nt[gt]=G[gt]);var gt=arguments.length-2;if(gt===1)nt.children=K;else if(1<gt){for(var St=Array(gt),Ie=0;Ie<gt;Ie++)St[Ie]=arguments[Ie+2];nt.children=St}return I(O.type,at,nt)},Et.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Et.createElement=function(O,G,K){var nt,at={},gt=null;if(G!=null)for(nt in G.key!==void 0&&(gt=""+G.key),G)A.call(G,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(at[nt]=G[nt]);var St=arguments.length-2;if(St===1)at.children=K;else if(1<St){for(var Ie=Array(St),ie=0;ie<St;ie++)Ie[ie]=arguments[ie+2];at.children=Ie}if(O&&O.defaultProps)for(nt in St=O.defaultProps,St)at[nt]===void 0&&(at[nt]=St[nt]);return I(O,gt,at)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(O){return{$$typeof:g,render:O}},Et.isValidElement=D,Et.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ut}},Et.memo=function(O,G){return{$$typeof:v,type:O,compare:G===void 0?null:G}},Et.startTransition=function(O){var G=C.T,K={};C.T=K;try{var nt=O(),at=C.S;at!==null&&at(K,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(At,xt)}catch(gt){xt(gt)}finally{G!==null&&K.types!==null&&(G.types=K.types),C.T=G}},Et.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Et.use=function(O){return C.H.use(O)},Et.useActionState=function(O,G,K){return C.H.useActionState(O,G,K)},Et.useCallback=function(O,G){return C.H.useCallback(O,G)},Et.useContext=function(O){return C.H.useContext(O)},Et.useDebugValue=function(){},Et.useDeferredValue=function(O,G){return C.H.useDeferredValue(O,G)},Et.useEffect=function(O,G){return C.H.useEffect(O,G)},Et.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Et.useId=function(){return C.H.useId()},Et.useImperativeHandle=function(O,G,K){return C.H.useImperativeHandle(O,G,K)},Et.useInsertionEffect=function(O,G){return C.H.useInsertionEffect(O,G)},Et.useLayoutEffect=function(O,G){return C.H.useLayoutEffect(O,G)},Et.useMemo=function(O,G){return C.H.useMemo(O,G)},Et.useOptimistic=function(O,G){return C.H.useOptimistic(O,G)},Et.useReducer=function(O,G,K){return C.H.useReducer(O,G,K)},Et.useRef=function(O){return C.H.useRef(O)},Et.useState=function(O){return C.H.useState(O)},Et.useSyncExternalStore=function(O,G,K){return C.H.useSyncExternalStore(O,G,K)},Et.useTransition=function(){return C.H.useTransition()},Et.version="19.2.4",Et}var D_;function gm(){return D_||(D_=1,wd.exports=o1()),wd.exports}var He=gm(),Rd={exports:{}},gl={},Id={exports:{}},Cd={};var N_;function l1(){return N_||(N_=1,(function(s){function t(q,W){var ut=q.length;q.push(W);t:for(;0<ut;){var xt=ut-1>>>1,zt=q[xt];if(0<l(zt,W))q[xt]=W,q[ut]=zt,ut=xt;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var W=q[0],ut=q.pop();if(ut!==W){q[0]=ut;t:for(var xt=0,zt=q.length,O=zt>>>1;xt<O;){var G=2*(xt+1)-1,K=q[G],nt=G+1,at=q[nt];if(0>l(K,ut))nt<zt&&0>l(at,K)?(q[xt]=at,q[nt]=ut,xt=nt):(q[xt]=K,q[G]=ut,xt=G);else if(nt<zt&&0>l(at,ut))q[xt]=at,q[nt]=ut,xt=nt;else break t}}return W}function l(q,W){var ut=q.sortIndex-W.sortIndex;return ut!==0?ut:q.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],S=1,b=null,M=3,Y=!1,tt=!1,it=!1,et=!1,ft=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function Lt(q){for(var W=i(v);W!==null;){if(W.callback===null)a(v);else if(W.startTime<=q)a(v),W.sortIndex=W.expirationTime,t(_,W);else break;W=i(v)}}function Wt(q){if(it=!1,Lt(q),!tt)if(i(_)!==null)tt=!0,At||(At=!0,k());else{var W=i(v);W!==null&&ce(Wt,W.startTime-q)}}var At=!1,C=-1,A=5,I=-1;function V(){return et?!0:!(s.unstable_now()-I<A)}function D(){if(et=!1,At){var q=s.unstable_now();I=q;var W=!0;try{t:{tt=!1,it&&(it=!1,_t(C),C=-1),Y=!0;var ut=M;try{e:{for(Lt(q),b=i(_);b!==null&&!(b.expirationTime>q&&V());){var xt=b.callback;if(typeof xt=="function"){b.callback=null,M=b.priorityLevel;var zt=xt(b.expirationTime<=q);if(q=s.unstable_now(),typeof zt=="function"){b.callback=zt,Lt(q),W=!0;break e}b===i(_)&&a(_),Lt(q)}else a(_);b=i(_)}if(b!==null)W=!0;else{var O=i(v);O!==null&&ce(Wt,O.startTime-q),W=!1}}break t}finally{b=null,M=ut,Y=!1}W=void 0}}finally{W?k():At=!1}}}var k;if(typeof yt=="function")k=function(){yt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Pt=w.port2;w.port1.onmessage=D,k=function(){Pt.postMessage(null)}}else k=function(){ft(D,0)};function ce(q,W){C=ft(function(){q(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(q){switch(M){case 1:case 2:case 3:var W=3;break;default:W=M}var ut=M;M=W;try{return q()}finally{M=ut}},s.unstable_requestPaint=function(){et=!0},s.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ut=M;M=q;try{return W()}finally{M=ut}},s.unstable_scheduleCallback=function(q,W,ut){var xt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?xt+ut:xt):ut=xt,q){case 1:var zt=-1;break;case 2:zt=250;break;case 5:zt=1073741823;break;case 4:zt=1e4;break;default:zt=5e3}return zt=ut+zt,q={id:S++,callback:W,priorityLevel:q,startTime:ut,expirationTime:zt,sortIndex:-1},ut>xt?(q.sortIndex=ut,t(v,q),i(_)===null&&q===i(v)&&(it?(_t(C),C=-1):it=!0,ce(Wt,ut-xt))):(q.sortIndex=zt,t(_,q),tt||Y||(tt=!0,At||(At=!0,k()))),q},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(q){var W=M;return function(){var ut=M;M=W;try{return q.apply(this,arguments)}finally{M=ut}}}})(Cd)),Cd}var O_;function u1(){return O_||(O_=1,Id.exports=l1()),Id.exports}var Dd={exports:{}},Ye={};var V_;function c1(){if(V_)return Ye;V_=1;var s=gm();function t(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,v,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:v,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(_,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(_,v,null,S)},Ye.flushSync=function(_){var v=d.T,S=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=S,a.d.f()}},Ye.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},Ye.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ye.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var S=v.as,b=g(S,v.crossOrigin),M=typeof v.integrity=="string"?v.integrity:void 0,Y=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:M,fetchPriority:Y}):S==="script"&&a.d.X(_,{crossOrigin:b,integrity:M,fetchPriority:Y,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ye.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},Ye.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,b=g(S,v.crossOrigin);a.d.L(_,S,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ye.preloadModule=function(_,v){if(typeof _=="string")if(v){var S=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},Ye.requestFormReset=function(_){a.d.r(_)},Ye.unstable_batchedUpdates=function(_,v){return _(v)},Ye.useFormState=function(_,v,S){return d.H.useFormState(_,v,S)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var M_;function h1(){if(M_)return Dd.exports;M_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Dd.exports=c1(),Dd.exports}var x_;function f1(){if(x_)return gl;x_=1;var s=u1(),t=gm(),i=h1();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,M=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Pt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case ft:return"Profiler";case et:return"StrictMode";case Wt:return"Suspense";case At:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case yt:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case Lt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:Pt(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return Pt(e(n))}catch{}}return null}var ce=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},xt=[],zt=-1;function O(e){return{current:e}}function G(e){0>zt||(e.current=xt[zt],xt[zt]=null,zt--)}function K(e,n){zt++,xt[zt]=e.current,e.current=n}var nt=O(null),at=O(null),gt=O(null),St=O(null);function Ie(e,n){switch(K(gt,n),K(at,e),K(nt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Xy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Xy(n),e=Jy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(nt),K(nt,e)}function ie(){G(nt),G(at),G(gt)}function ns(e){e.memoizedState!==null&&K(St,e);var n=nt.current,r=Jy(n,e.type);n!==r&&(K(at,e),K(nt,r))}function Ys(e){at.current===e&&(G(nt),G(at)),St.current===e&&(G(St),cl._currentValue=ut)}var Qs,Xs;function Wn(e){if(Qs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Qs=n&&n[1]||"",Xs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qs+e+Xs}var uo=!1;function is(e,n){if(!e||uo)return"";uo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(j){var z=j}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(j){z=j}e.call(Q.prototype)}}else{try{throw Error()}catch(j){z=j}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var H=`
`+R[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{uo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Wn(r):""}function co(e,n){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return is(e.type,!1);case 11:return is(e.type.render,!1);case 1:return is(e.type,!0);case 31:return Wn("Activity");default:return""}}function ho(e){try{var n="",r=null;do n+=co(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,Ce=s.unstable_scheduleCallback,rr=s.unstable_cancelCallback,wh=s.unstable_shouldYield,$l=s.unstable_requestPaint,$e=s.unstable_now,rs=s.unstable_getCurrentPriorityLevel,fo=s.unstable_ImmediatePriority,mo=s.unstable_UserBlockingPriority,sr=s.unstable_NormalPriority,Rh=s.unstable_LowPriority,Wl=s.unstable_IdlePriority,tu=s.log,eu=s.unstable_setDisableYieldValue,Ln=null,Le=null;function Tn(e){if(typeof tu=="function"&&eu(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Ln,e)}catch{}}var he=Math.clz32?Math.clz32:iu,nu=Math.log,Js=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(nu(e)/Js|0)|0}var ti=256,ss=262144,ye=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ei(o):(p&=E,p!==0?h=ei(p):r||(r=E&~e,r!==0&&(h=ei(r))))):(E=o&~f,E!==0?h=ei(E):p!==0?h=ei(p):r||(r=o&~e,r!==0&&(h=ei(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Pn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ih(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ii(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function as(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ch(e,n,r,o,h,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(r=p&~r;0<r;){var H=31-he(r),Q=1<<H;E[H]=0,R[H]=-1;var z=P[H];if(z!==null)for(P[H]=null,H=0;H<z.length;H++){var j=z[H];j!==null&&(j.lane&=-536870913)}r&=~Q}o!==0&&os(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function os(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function go(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-he(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function po(e,n){var r=n&-n;return r=(r&42)!==0?1:ls(r),(r&(e.suspendedLanes|n))!==0?0:r}function ls(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ci(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function su(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:v_(e.type))}function zn(e,n){var r=W.p;try{return W.p=e,n()}finally{W.p=r}}var Bn=Math.random().toString(36).slice(2),_e="__reactFiber$"+Bn,Ve="__reactProps$"+Bn,ri="__reactContainer$"+Bn,Zs="__reactEvents$"+Bn,Dh="__reactListeners$"+Bn,au="__reactHandles$"+Bn,ou="__reactResources$"+Bn,si="__reactMarker$"+Bn;function $s(e){delete e[_e],delete e[Ve],delete e[Zs],delete e[Dh],delete e[au]}function ai(e){var n=e[_e];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ri]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=i_(e);e!==null;){if(r=e[_e])return r;e=i_(e)}return n}e=r,r=e.parentNode}return null}function Sn(e){if(e=e[_e]||e[ri]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function cn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function oi(e){var n=e[ou];return n||(n=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[si]=!0}var yo=new Set,_o={};function li(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(_o[e]=n,e=0;e<n.length;e++)yo.add(n[e])}var vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eo={},To={};function lu(e){return pe.call(To,e)?!0:pe.call(Eo,e)?!1:vo.test(e)?To[e]=!0:(Eo[e]=!0,!1)}function Ws(e,n,r){if(lu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function hn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ee(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Me(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ar(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function So(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=ar(e)?"checked":"value";e._valueTracker=So(e,n,""+e[n])}}function us(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=ar(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cs=/[\n"\\]/g;function en(e){return e.replace(cs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ta(e,n,r,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Me(n)):e.value!==""+Me(n)&&(e.value=""+Me(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Ao(e,p,Me(n)):r!=null?Ao(e,p,Me(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Me(E):e.removeAttribute("name")}function uu(e,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}r=r!=null?""+Me(r):"",n=n!=null?""+Me(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Gt(e)}function Ao(e,n,r){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function or(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Me(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,r){if(n!=null&&(n=""+Me(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Me(r):""}function lr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(ce(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Me(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Gt(e)}function nn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||hu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function wo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&bo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&bo(e,f,n[f])}function ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ur=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(e){return ur.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var Ro=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cr=null,hi=null;function hs(e){var n=Sn(e);if(n&&(e=n.stateNode)){var r=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(ta(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(a(90));ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&us(o)}break t;case"textarea":cu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&or(e,!!r.multiple,n,!1)}}}var ia=!1;function hr(e,n,r){if(ia)return e(n,r);ia=!0;try{var o=e(n);return o}finally{if(ia=!1,(cr!==null||hi!==null)&&(sc(),cr&&(n=cr,e=hi,hi=cr=null,hs(n),e)))for(n=0;n<e.length;n++)hs(e[n])}}function qn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ve]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fs=!1;if(bn)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){fs=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{fs=!1}var fi=null,Io=null,ds=null;function Co(){if(ds)return ds;var e,n=Io,r=n.length,o,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var p=r-e;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return ds=h.slice(e,1<o?1-o:void 0)}function ms(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function Hn(){return!1}function Pe(e){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:Hn,this.isPropagationStopped=Hn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=Pe(Ni),fr=b({},Ni,{view:0,detail:0}),Do=Pe(fr),dr,ra,mi,sa=b({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(dr=e.screenX-mi.screenX,ra=e.screenY-mi.screenY):ra=dr=0,mi=e),dr)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),No=Pe(sa),gs=b({},sa,{dataTransfer:0}),du=Pe(gs),mu=b({},fr,{relatedTarget:0}),ps=Pe(mu),Oo=b({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=Pe(Oo),aa=b({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=Pe(aa),yu=b({},Ni,{data:0}),gi=Pe(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Eu[e])?!!n[e]:!1}function mr(){return Tu}var We=b({},fr,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(e){return e.type==="keypress"?ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=Pe(We),Au=b({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Pe(Au),u=b({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),m=Pe(u),y=b({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Pe(y),U=b({},sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Pe(U),$=b({},Ni,{newState:0,oldState:0}),bt=Pe($),fe=[9,13,27,32],qt=bn&&"CompositionEvent"in window,re=null;bn&&"documentMode"in document&&(re=document.documentMode);var wn=bn&&"TextEvent"in window&&!re,pi=bn&&(!qt||re&&8<re&&11>=re),Fn=" ",Gn=!1;function ys(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var la=!1;function D0(e,n){switch(e){case"compositionend":return oa(n);case"keypress":return n.which!==32?null:(Gn=!0,Fn);case"textInput":return e=n.data,e===Fn&&Gn?null:e;default:return null}}function N0(e,n){if(la)return e==="compositionend"||!qt&&ys(e,n)?(e=Co(),ds=Io=fi=null,la=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var O0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!O0[e.type]:n==="textarea"}function og(e,n,r,o){cr?hi?hi.push(o):hi=[o]:cr=o,n=fc(n,"onChange"),0<n.length&&(r=new di("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Vo=null,Mo=null;function V0(e){Hy(e,0)}function bu(e){var n=cn(e);if(us(n))return e}function lg(e,n){if(e==="change")return n}var ug=!1;if(bn){var Nh;if(bn){var Oh="oninput"in document;if(!Oh){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),Oh=typeof cg.oninput=="function"}Nh=Oh}else Nh=!1;ug=Nh&&(!document.documentMode||9<document.documentMode)}function hg(){Vo&&(Vo.detachEvent("onpropertychange",fg),Mo=Vo=null)}function fg(e){if(e.propertyName==="value"&&bu(Mo)){var n=[];og(n,Mo,e,An(e)),hr(V0,n)}}function M0(e,n,r){e==="focusin"?(hg(),Vo=n,Mo=r,Vo.attachEvent("onpropertychange",fg)):e==="focusout"&&hg()}function x0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(Mo)}function k0(e,n){if(e==="click")return bu(n)}function U0(e,n){if(e==="input"||e==="change")return bu(n)}function L0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:L0;function xo(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!pe.call(n,h)||!fn(e[h],n[h]))return!1}return!0}function dg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mg(e,n){var r=dg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=dg(r)}}function gg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?gg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function pg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ci(e.document)}return n}function Vh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var P0=bn&&"documentMode"in document&&11>=document.documentMode,ua=null,Mh=null,ko=null,xh=!1;function yg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xh||ua==null||ua!==ci(o)||(o=ua,"selectionStart"in o&&Vh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ko&&xo(ko,o)||(ko=o,o=fc(Mh,"onSelect"),0<o.length&&(n=new di("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ua)))}function _s(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ca={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},kh={},_g={};bn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function vs(e){if(kh[e])return kh[e];if(!ca[e])return e;var n=ca[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in _g)return kh[e]=n[r];return e}var vg=vs("animationend"),Eg=vs("animationiteration"),Tg=vs("animationstart"),z0=vs("transitionrun"),B0=vs("transitionstart"),j0=vs("transitioncancel"),Sg=vs("transitionend"),Ag=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function Kn(e,n){Ag.set(e,n),li(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],ha=0,Lh=0;function Ru(){for(var e=ha,n=Lh=ha=0;n<e;){var r=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&bg(r,h,f)}}function Iu(e,n,r,o){Rn[ha++]=e,Rn[ha++]=n,Rn[ha++]=r,Rn[ha++]=o,Lh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ph(e,n,r,o){return Iu(e,n,r,o),Cu(e)}function Es(e,n){return Iu(e,null,null,n),Cu(e)}function bg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Cu(e){if(50<il)throw il=0,Qf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fa={};function q0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,r,o){return new q0(e,n,r,o)}function zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var r=e.alternate;return r===null?(r=dn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function wg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Du(e,n,r,o,h,f){var p=0;if(o=e,typeof e=="function")zh(e)&&(p=1);else if(typeof e=="string")p=YS(e,r,nt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=dn(31,r,n,h),e.elementType=I,e.lanes=f,e;case it:return Ts(r.children,h,f,n);case et:p=8,h|=24;break;case ft:return e=dn(12,r,n,h|2),e.elementType=ft,e.lanes=f,e;case Wt:return e=dn(13,r,n,h),e.elementType=Wt,e.lanes=f,e;case At:return e=dn(19,r,n,h),e.elementType=At,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:p=10;break t;case _t:p=9;break t;case Lt:p=11;break t;case C:p=14;break t;case A:p=16,o=null;break t}p=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=dn(p,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ts(e,n,r,o){return e=dn(7,e,o,n),e.lanes=r,e}function Bh(e,n,r){return e=dn(6,e,null,n),e.lanes=r,e}function Rg(e){var n=dn(18,null,null,0);return n.stateNode=e,n}function jh(e,n,r){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ig=new WeakMap;function In(e,n){if(typeof e=="object"&&e!==null){var r=Ig.get(e);return r!==void 0?r:(n={value:e,source:n,stack:ho(n)},Ig.set(e,n),n)}return{value:e,source:n,stack:ho(n)}}var da=[],ma=0,Nu=null,Uo=0,Cn=[],Dn=0,gr=null,yi=1,_i="";function Mi(e,n){da[ma++]=Uo,da[ma++]=Nu,Nu=e,Uo=n}function Cg(e,n,r){Cn[Dn++]=yi,Cn[Dn++]=_i,Cn[Dn++]=gr,gr=e;var o=yi;e=_i;var h=32-he(o)-1;o&=~(1<<h),r+=1;var f=32-he(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,yi=1<<32-he(n)+h|r<<h|o,_i=f+e}else yi=1<<f|r<<h|o,_i=e}function qh(e){e.return!==null&&(Mi(e,1),Cg(e,1,0))}function Hh(e){for(;e===Nu;)Nu=da[--ma],da[ma]=null,Uo=da[--ma],da[ma]=null;for(;e===gr;)gr=Cn[--Dn],Cn[Dn]=null,_i=Cn[--Dn],Cn[Dn]=null,yi=Cn[--Dn],Cn[Dn]=null}function Dg(e,n){Cn[Dn++]=yi,Cn[Dn++]=_i,Cn[Dn++]=gr,yi=n.id,_i=n.overflow,gr=e}var ze=null,te=null,kt=!1,pr=null,Nn=!1,Fh=Error(a(519));function yr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(In(n,e)),Fh}function Ng(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[_e]=e,n[Ve]=o,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<sl.length;r++)Ct(sl[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),uu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),lr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Yy(n.textContent,r)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||yr(e,!0)}function Og(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:ze=ze.return}}function ga(e){if(e!==ze)return!1;if(!kt)return Og(e),kt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||ud(e.type,e.memoizedProps)),r=!r),r&&te&&yr(e),Og(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=n_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=n_(e)}else n===27?(n=te,Or(e.type)?(e=md,md=null,te=e):te=n):te=ze?Vn(e.stateNode.nextSibling):null;return!0}function Ss(){te=ze=null,kt=!1}function Gh(){var e=pr;return e!==null&&(on===null?on=e:on.push.apply(on,e),pr=null),e}function Lo(e){pr===null?pr=[e]:pr.push(e)}var Kh=O(null),As=null,xi=null;function _r(e,n,r){K(Kh,n._currentValue),n._currentValue=r}function ki(e){e._currentValue=Kh.current,G(Kh)}function Yh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Qh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Yh(f.return,r,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Yh(p,r,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function pa(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;fn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===St.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}h=h.return}e!==null&&Qh(n,e,r,o),n.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bs(e){As=e,xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Vg(As,e)}function Vu(e,n){return As===null&&bs(e),Vg(e,n)}function Vg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},xi===null){if(e===null)throw Error(a(308));xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else xi=xi.next=n;return r}var H0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},F0=s.unstable_scheduleCallback,G0=s.unstable_NormalPriority,Te={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new H0,data:new Map,refCount:0}}function Po(e){e.refCount--,e.refCount===0&&F0(G0,function(){e.controller.abort()})}var zo=null,Jh=0,ya=0,_a=null;function K0(e,n){if(zo===null){var r=zo=[];Jh=0,ya=td(),_a={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Jh++,n.then(Mg,Mg),n}function Mg(){if(--Jh===0&&zo!==null){_a!==null&&(_a.status="fulfilled");var e=zo;zo=null,ya=0,_a=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Y0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var xg=q.S;q.S=function(e,n){yy=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&K0(e,n),xg!==null&&xg(e,n)};var ws=O(null);function Zh(){var e=ws.current;return e!==null?e:$t.pooledCache}function Mu(e,n){n===null?K(ws,ws.current):K(ws,n.pool)}function kg(){var e=Zh();return e===null?null:{parent:Te._currentValue,pool:e}}var va=Error(a(460)),$h=Error(a(474)),xu=Error(a(542)),ku={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Lg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(jn,jn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zg(e),e;default:if(typeof n.status=="string")n.then(jn,jn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zg(e),e}throw Is=n,va}}function Rs(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Is=r,va):r}}var Is=null;function Pg(){if(Is===null)throw Error(a(459));var e=Is;return Is=null,e}function zg(e){if(e===va||e===xu)throw Error(a(483))}var Ea=null,Bo=0;function Uu(e){var n=Bo;return Bo+=1,Ea===null&&(Ea=[]),Lg(Ea,e,n)}function jo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Bg(e){function n(x,N){if(e){var L=x.deletions;L===null?(x.deletions=[N],x.flags|=16):L.push(N)}}function r(x,N){if(!e)return null;for(;N!==null;)n(x,N),N=N.sibling;return null}function o(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=Vi(x,N),x.index=0,x.sibling=null,x}function f(x,N,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<N?(x.flags|=67108866,N):L):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function p(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,N,L,F){return N===null||N.tag!==6?(N=Bh(L,x.mode,F),N.return=x,N):(N=h(N,L),N.return=x,N)}function R(x,N,L,F){var ct=L.type;return ct===it?H(x,N,L.props.children,F,L.key):N!==null&&(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&Rs(ct)===N.type)?(N=h(N,L.props),jo(N,L),N.return=x,N):(N=Du(L.type,L.key,L.props,null,x.mode,F),jo(N,L),N.return=x,N)}function P(x,N,L,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=jh(L,x.mode,F),N.return=x,N):(N=h(N,L.children||[]),N.return=x,N)}function H(x,N,L,F,ct){return N===null||N.tag!==7?(N=Ts(L,x.mode,F,ct),N.return=x,N):(N=h(N,L),N.return=x,N)}function Q(x,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Bh(""+N,x.mode,L),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Y:return L=Du(N.type,N.key,N.props,null,x.mode,L),jo(L,N),L.return=x,L;case tt:return N=jh(N,x.mode,L),N.return=x,N;case A:return N=Rs(N),Q(x,N,L)}if(ce(N)||k(N))return N=Ts(N,x.mode,L,null),N.return=x,N;if(typeof N.then=="function")return Q(x,Uu(N),L);if(N.$$typeof===yt)return Q(x,Vu(x,N),L);Lu(x,N)}return null}function z(x,N,L,F){var ct=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:E(x,N,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:return L.key===ct?R(x,N,L,F):null;case tt:return L.key===ct?P(x,N,L,F):null;case A:return L=Rs(L),z(x,N,L,F)}if(ce(L)||k(L))return ct!==null?null:H(x,N,L,F,null);if(typeof L.then=="function")return z(x,N,Uu(L),F);if(L.$$typeof===yt)return z(x,N,Vu(x,L),F);Lu(x,L)}return null}function j(x,N,L,F,ct){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(L)||null,E(N,x,""+F,ct);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Y:return x=x.get(F.key===null?L:F.key)||null,R(N,x,F,ct);case tt:return x=x.get(F.key===null?L:F.key)||null,P(N,x,F,ct);case A:return F=Rs(F),j(x,N,L,F,ct)}if(ce(F)||k(F))return x=x.get(L)||null,H(N,x,F,ct,null);if(typeof F.then=="function")return j(x,N,L,Uu(F),ct);if(F.$$typeof===yt)return j(x,N,L,Vu(N,F),ct);Lu(N,F)}return null}function st(x,N,L,F){for(var ct=null,Bt=null,ot=N,Rt=N=0,Nt=null;ot!==null&&Rt<L.length;Rt++){ot.index>Rt?(Nt=ot,ot=null):Nt=ot.sibling;var jt=z(x,ot,L[Rt],F);if(jt===null){ot===null&&(ot=Nt);break}e&&ot&&jt.alternate===null&&n(x,ot),N=f(jt,N,Rt),Bt===null?ct=jt:Bt.sibling=jt,Bt=jt,ot=Nt}if(Rt===L.length)return r(x,ot),kt&&Mi(x,Rt),ct;if(ot===null){for(;Rt<L.length;Rt++)ot=Q(x,L[Rt],F),ot!==null&&(N=f(ot,N,Rt),Bt===null?ct=ot:Bt.sibling=ot,Bt=ot);return kt&&Mi(x,Rt),ct}for(ot=o(ot);Rt<L.length;Rt++)Nt=j(ot,x,Rt,L[Rt],F),Nt!==null&&(e&&Nt.alternate!==null&&ot.delete(Nt.key===null?Rt:Nt.key),N=f(Nt,N,Rt),Bt===null?ct=Nt:Bt.sibling=Nt,Bt=Nt);return e&&ot.forEach(function(Ur){return n(x,Ur)}),kt&&Mi(x,Rt),ct}function dt(x,N,L,F){if(L==null)throw Error(a(151));for(var ct=null,Bt=null,ot=N,Rt=N=0,Nt=null,jt=L.next();ot!==null&&!jt.done;Rt++,jt=L.next()){ot.index>Rt?(Nt=ot,ot=null):Nt=ot.sibling;var Ur=z(x,ot,jt.value,F);if(Ur===null){ot===null&&(ot=Nt);break}e&&ot&&Ur.alternate===null&&n(x,ot),N=f(Ur,N,Rt),Bt===null?ct=Ur:Bt.sibling=Ur,Bt=Ur,ot=Nt}if(jt.done)return r(x,ot),kt&&Mi(x,Rt),ct;if(ot===null){for(;!jt.done;Rt++,jt=L.next())jt=Q(x,jt.value,F),jt!==null&&(N=f(jt,N,Rt),Bt===null?ct=jt:Bt.sibling=jt,Bt=jt);return kt&&Mi(x,Rt),ct}for(ot=o(ot);!jt.done;Rt++,jt=L.next())jt=j(ot,x,Rt,jt.value,F),jt!==null&&(e&&jt.alternate!==null&&ot.delete(jt.key===null?Rt:jt.key),N=f(jt,N,Rt),Bt===null?ct=jt:Bt.sibling=jt,Bt=jt);return e&&ot.forEach(function(r1){return n(x,r1)}),kt&&Mi(x,Rt),ct}function Zt(x,N,L,F){if(typeof L=="object"&&L!==null&&L.type===it&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:t:{for(var ct=L.key;N!==null;){if(N.key===ct){if(ct=L.type,ct===it){if(N.tag===7){r(x,N.sibling),F=h(N,L.props.children),F.return=x,x=F;break t}}else if(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&Rs(ct)===N.type){r(x,N.sibling),F=h(N,L.props),jo(F,L),F.return=x,x=F;break t}r(x,N);break}else n(x,N);N=N.sibling}L.type===it?(F=Ts(L.props.children,x.mode,F,L.key),F.return=x,x=F):(F=Du(L.type,L.key,L.props,null,x.mode,F),jo(F,L),F.return=x,x=F)}return p(x);case tt:t:{for(ct=L.key;N!==null;){if(N.key===ct)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){r(x,N.sibling),F=h(N,L.children||[]),F.return=x,x=F;break t}else{r(x,N);break}else n(x,N);N=N.sibling}F=jh(L,x.mode,F),F.return=x,x=F}return p(x);case A:return L=Rs(L),Zt(x,N,L,F)}if(ce(L))return st(x,N,L,F);if(k(L)){if(ct=k(L),typeof ct!="function")throw Error(a(150));return L=ct.call(L),dt(x,N,L,F)}if(typeof L.then=="function")return Zt(x,N,Uu(L),F);if(L.$$typeof===yt)return Zt(x,N,Vu(x,L),F);Lu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(r(x,N.sibling),F=h(N,L),F.return=x,x=F):(r(x,N),F=Bh(L,x.mode,F),F.return=x,x=F),p(x)):r(x,N)}return function(x,N,L,F){try{Bo=0;var ct=Zt(x,N,L,F);return Ea=null,ct}catch(ot){if(ot===va||ot===xu)throw ot;var Bt=dn(29,ot,null,x.mode);return Bt.lanes=F,Bt.return=x,Bt}}}var Cs=Bg(!0),jg=Bg(!1),vr=!1;function Wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Er(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Tr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Cu(e),bg(e,null,r),n}return Iu(e,o,n,r),Cu(e)}function qo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,go(e,r)}}function ef(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var nf=!1;function Ho(){if(nf){var e=_a;if(e!==null)throw e}}function Fo(e,n,r,o){nf=!1;var h=e.updateQueue;vr=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,p===null?f=P:p.next=P,p=R;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==p&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;p=0,H=P=R=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(Dt&z)===z:(o&z)===z){z!==0&&z===ya&&(nf=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,dt=E;z=n;var Zt=r;switch(dt.tag){case 1:if(st=dt.payload,typeof st=="function"){Q=st.call(Zt,Q,z);break t}Q=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=dt.payload,z=typeof st=="function"?st.call(Zt,Q,z):st,z==null)break t;Q=b({},Q,z);break t;case 2:vr=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=j,R=Q):H=H.next=j,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);H===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Rr|=p,e.lanes=p,e.memoizedState=Q}}function qg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Hg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)qg(r[e],n)}var Ta=O(null),Pu=O(0);function Fg(e,n){e=Fi,K(Pu,e),K(Ta,n),Fi=e|n.baseLanes}function rf(){K(Pu,Fi),K(Ta,Ta.current)}function sf(){Fi=Pu.current,G(Ta),G(Pu)}var mn=O(null),On=null;function Sr(e){var n=e.alternate;K(de,de.current&1),K(mn,e),On===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(On=e)}function af(e){K(de,de.current),K(mn,e),On===null&&(On=e)}function Gg(e){e.tag===22?(K(de,de.current),K(mn,e),On===null&&(On=e)):Ar()}function Ar(){K(de,de.current),K(mn,mn.current)}function gn(e){G(mn),On===e&&(On=null),G(de)}var de=O(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||fd(r)||dd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ui=0,wt=null,Xt=null,Se=null,Bu=!1,Sa=!1,Ds=!1,ju=0,Go=0,Aa=null,Q0=0;function le(){throw Error(a(321))}function of(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!fn(e[r],n[r]))return!1;return!0}function lf(e,n,r,o,h,f){return Ui=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?Cp:Af,Ds=!1,f=r(o,h),Ds=!1,Sa&&(f=Yg(n,r,o,h)),Kg(e),f}function Kg(e){q.H=Qo;var n=Xt!==null&&Xt.next!==null;if(Ui=0,Se=Xt=wt=null,Bu=!1,Go=0,Aa=null,n)throw Error(a(300));e===null||Ae||(e=e.dependencies,e!==null&&Ou(e)&&(Ae=!0))}function Yg(e,n,r,o){wt=e;var h=0;do{if(Sa&&(Aa=null),Go=0,Sa=!1,25<=h)throw Error(a(301));if(h+=1,Se=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Dp,f=n(r,o)}while(Sa);return f}function X0(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?Ko(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(wt.flags|=1024),n}function uf(){var e=ju!==0;return ju=0,e}function cf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function hf(e){if(Bu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Bu=!1}Ui=0,Se=Xt=wt=null,Sa=!1,Go=ju=0,Aa=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?wt.memoizedState=Se=e:Se=Se.next=e,Se}function me(){if(Xt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Se===null?wt.memoizedState:Se.next;if(n!==null)Se=n,Xt=e;else{if(e===null)throw wt.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Se===null?wt.memoizedState=Se=e:Se=Se.next=e}return Se}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(e){var n=Go;return Go+=1,Aa===null&&(Aa=[]),e=Lg(Aa,e,n),n=wt,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Cp:Af),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ko(e);if(e.$$typeof===yt)return Be(e)}throw Error(a(438,String(e)))}function ff(e){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=qu(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function Li(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=me();return df(n,Xt,e)}function df(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,R=null,P=n,H=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(Dt&Q)===Q:(Ui&Q)===Q){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===ya&&(H=!0);else if((Ui&z)===z){P=P.next,z===ya&&(H=!0);continue}else Q={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=Q,p=f):R=R.next=Q,wt.lanes|=z,Rr|=z;Q=P.action,Ds&&r(f,Q),f=P.hasEagerState?P.eagerState:r(f,Q)}else z={lane:Q,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,p=f):R=R.next=z,wt.lanes|=Q,Rr|=Q;P=P.next}while(P!==null&&P!==n);if(R===null?p=f:R.next=E,!fn(f,e.memoizedState)&&(Ae=!0,H&&(r=_a,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function mf(e){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);fn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Qg(e,n,r){var o=wt,h=me(),f=kt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!fn((Xt||h).memoizedState,r);if(p&&(h.memoizedState=r,Ae=!0),h=h.queue,yf(Zg.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,ba(9,{destroy:void 0},Jg.bind(null,o,h,r,n),null),$t===null)throw Error(a(349));f||(Ui&127)!==0||Xg(o,n,r)}return r}function Xg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=qu(),wt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Jg(e,n,r,o){n.value=r,n.getSnapshot=o,$g(n)&&Wg(e)}function Zg(e,n,r){return r(function(){$g(n)&&Wg(e)})}function $g(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!fn(e,r)}catch{return!0}}function Wg(e){var n=Es(e,2);n!==null&&ln(n,e,2)}function gf(e){var n=tn();if(typeof e=="function"){var r=e;if(e=r(),Ds){Tn(!0);try{r()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},n}function tp(e,n,r,o){return e.baseState=r,df(e,Xt,typeof o=="function"?o:Li)}function J0(e,n,r,o,h){if(Yu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};q.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,ep(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ep(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=q.T,p={};q.T=p;try{var E=r(h,o),R=q.S;R!==null&&R(p,E),np(e,n,E)}catch(P){pf(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),q.T=f}}else try{f=r(h,o),np(e,n,f)}catch(P){pf(e,n,P)}}function np(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){ip(e,n,o)},function(o){return pf(e,n,o)}):ip(e,n,r)}function ip(e,n,r){n.status="fulfilled",n.value=r,rp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,ep(e,r)))}function pf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,rp(n),n=n.next;while(n!==o)}e.action=null}function rp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function sp(e,n){return n}function ap(e,n){if(kt){var r=$t.formState;if(r!==null){t:{var o=wt;if(kt){if(te){e:{for(var h=te,f=Nn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=Vn(h.nextSibling),o=h.data==="F!";break t}}yr(o)}o=!1}o&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sp,lastRenderedState:n},r.queue=o,r=wp.bind(null,wt,o),o.dispatch=r,o=gf(!1),f=Sf.bind(null,wt,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=J0.bind(null,wt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function op(e){var n=me();return lp(n,Xt,e)}function lp(e,n,r){if(n=df(e,n,sp)[0],e=Fu(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ko(n)}catch(p){throw p===va?xu:p}else o=n;n=me();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(wt.flags|=2048,ba(9,{destroy:void 0},Z0.bind(null,h,r),null)),[o,f,e]}function Z0(e,n){e.action=n}function up(e){var n=me(),r=Xt;if(r!==null)return lp(n,r,e);me(),n=n.memoizedState,r=me();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function ba(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=wt.updateQueue,n===null&&(n=qu(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function cp(){return me().memoizedState}function Gu(e,n,r,o){var h=tn();wt.flags|=e,h.memoizedState=ba(1|n,{destroy:void 0},r,o===void 0?null:o)}function Ku(e,n,r,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&of(o,Xt.memoizedState.deps)?h.memoizedState=ba(n,f,r,o):(wt.flags|=e,h.memoizedState=ba(1|n,f,r,o))}function hp(e,n){Gu(8390656,8,e,n)}function yf(e,n){Ku(2048,8,e,n)}function $0(e){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=qu(),wt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function fp(e){var n=me().memoizedState;return $0({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function dp(e,n){return Ku(4,2,e,n)}function mp(e,n){return Ku(4,4,e,n)}function gp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function pp(e,n,r){r=r!=null?r.concat([e]):null,Ku(4,4,gp.bind(null,n,e),r)}function _f(){}function yp(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&of(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function _p(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&of(n,o[1]))return o[0];if(o=e(),Ds){Tn(!0);try{e()}finally{Tn(!1)}}return r.memoizedState=[o,n],o}function vf(e,n,r){return r===void 0||(Ui&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=vy(),wt.lanes|=e,Rr|=e,r)}function vp(e,n,r,o){return fn(r,n)?r:Ta.current!==null?(e=vf(e,r,o),fn(e,n)||(Ae=!0),e):(Ui&42)===0||(Ui&1073741824)!==0&&(Dt&261930)===0?(Ae=!0,e.memoizedState=r):(e=vy(),wt.lanes|=e,Rr|=e,n)}function Ep(e,n,r,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var p=q.T,E={};q.T=E,Sf(e,!1,n,r);try{var R=h(),P=q.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=Y0(R,o);Yo(e,n,H,_n(e))}else Yo(e,n,o,_n(e))}catch(Q){Yo(e,n,{then:function(){},status:"rejected",reason:Q},_n())}finally{W.p=f,p!==null&&E.types!==null&&(p.types=E.types),q.T=p}}function W0(){}function Ef(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Tp(e).queue;Ep(e,h,n,ut,r===null?W0:function(){return Sp(e),r(o)})}function Tp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Sp(e){var n=Tp(e);n.next===null&&(n=e.alternate.memoizedState),Yo(e,n.next.queue,{},_n())}function Tf(){return Be(cl)}function Ap(){return me().memoizedState}function bp(){return me().memoizedState}function tS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=_n();e=Er(r);var o=Tr(n,e,r);o!==null&&(ln(o,n,r),qo(o,n,r)),n={cache:Xh()},e.payload=n;return}n=n.return}}function eS(e,n,r){var o=_n();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Yu(e)?Rp(n,r):(r=Ph(e,n,r,o),r!==null&&(ln(r,e,o),Ip(r,n,o)))}function wp(e,n,r){var o=_n();Yo(e,n,r,o)}function Yo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Rp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,fn(E,p))return Iu(e,n,h,0),$t===null&&Ru(),!1}catch{}if(r=Ph(e,n,h,o),r!==null)return ln(r,e,o),Ip(r,n,o),!0}return!1}function Sf(e,n,r,o){if(o={lane:2,revertLane:td(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(a(479))}else n=Ph(e,r,o,2),n!==null&&ln(n,e,2)}function Yu(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function Rp(e,n){Sa=Bu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Ip(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,go(e,r)}}var Qo={readContext:Be,use:Hu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Qo.useEffectEvent=le;var Cp={readContext:Be,use:Hu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:hp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Gu(4194308,4,gp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var r=tn();n=n===void 0?null:n;var o=e();if(Ds){Tn(!0);try{e()}finally{Tn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=tn();if(r!==void 0){var h=r(n);if(Ds){Tn(!0);try{r(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=eS.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=gf(e);var n=e.queue,r=wp.bind(null,wt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:_f,useDeferredValue:function(e,n){var r=tn();return vf(r,e,n)},useTransition:function(){var e=gf(!1);return e=Ep.bind(null,wt,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=wt,h=tn();if(kt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),$t===null)throw Error(a(349));(Dt&127)!==0||Xg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,hp(Zg.bind(null,o,f,e),[e]),o.flags|=2048,ba(9,{destroy:void 0},Jg.bind(null,o,f,r,n),null),r},useId:function(){var e=tn(),n=$t.identifierPrefix;if(kt){var r=_i,o=yi;r=(o&~(1<<32-he(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=ju++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=Q0++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Tf,useFormState:ap,useActionState:ap,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Sf.bind(null,wt,!0,r),r.dispatch=n,[e,n]},useMemoCache:ff,useCacheRefresh:function(){return tn().memoizedState=tS.bind(null,wt)},useEffectEvent:function(e){var n=tn(),r={impl:e};return n.memoizedState=r,function(){if((Ht&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Af={readContext:Be,use:Hu,useCallback:yp,useContext:Be,useEffect:yf,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:mp,useMemo:_p,useReducer:Fu,useRef:cp,useState:function(){return Fu(Li)},useDebugValue:_f,useDeferredValue:function(e,n){var r=me();return vp(r,Xt.memoizedState,e,n)},useTransition:function(){var e=Fu(Li)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:Qg,useId:Ap,useHostTransitionStatus:Tf,useFormState:op,useActionState:op,useOptimistic:function(e,n){var r=me();return tp(r,Xt,e,n)},useMemoCache:ff,useCacheRefresh:bp};Af.useEffectEvent=fp;var Dp={readContext:Be,use:Hu,useCallback:yp,useContext:Be,useEffect:yf,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:mp,useMemo:_p,useReducer:mf,useRef:cp,useState:function(){return mf(Li)},useDebugValue:_f,useDeferredValue:function(e,n){var r=me();return Xt===null?vf(r,e,n):vp(r,Xt.memoizedState,e,n)},useTransition:function(){var e=mf(Li)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:Qg,useId:Ap,useHostTransitionStatus:Tf,useFormState:up,useActionState:up,useOptimistic:function(e,n){var r=me();return Xt!==null?tp(r,Xt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:ff,useCacheRefresh:bp};Dp.useEffectEvent=fp;function bf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=_n(),h=Er(o);h.payload=n,r!=null&&(h.callback=r),n=Tr(e,h,o),n!==null&&(ln(n,e,o),qo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=_n(),h=Er(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Tr(e,h,o),n!==null&&(ln(n,e,o),qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=_n(),o=Er(r);o.tag=2,n!=null&&(o.callback=n),n=Tr(e,o,r),n!==null&&(ln(n,e,r),qo(n,e,r))}};function Np(e,n,r,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!xo(r,o)||!xo(h,f):!0}function Op(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&wf.enqueueReplaceState(n,n.state,null)}function Ns(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Vp(e){wu(e)}function Mp(e){console.error(e)}function xp(e){wu(e)}function Qu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function kp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rf(e,n,r){return r=Er(r),r.tag=3,r.payload={element:null},r.callback=function(){Qu(e,n)},r}function Up(e){return e=Er(e),e.tag=3,e}function Lp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){kp(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){kp(n,r,o),typeof h!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function nS(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&pa(n,r,h,!0),r=mn.current,r!==null){switch(r.tag){case 31:case 13:return On===null?ac():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===ku?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Zf(e,o,h)),!1;case 22:return r.flags|=65536,o===ku?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Zf(e,o,h)),!1}throw Error(a(435,r.tag))}return Zf(e,o,h),ac(),!1}if(kt)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Fh&&(e=Error(a(422),{cause:o}),Lo(In(e,r)))):(o!==Fh&&(n=Error(a(423),{cause:o}),Lo(In(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=In(o,r),h=Rf(e.stateNode,o,h),ef(e,h),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:o});if(f=In(f,r),nl===null?nl=[f]:nl.push(f),ue!==4&&(ue=2),n===null)return!0;o=In(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Rf(r.stateNode,o,e),ef(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ir===null||!Ir.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Up(h),Lp(h,e,r,o),ef(r,h),!1}r=r.return}while(r!==null);return!1}var If=Error(a(461)),Ae=!1;function je(e,n,r,o){n.child=e===null?jg(n,null,r,o):Cs(n,e.child,r,o)}function Pp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return bs(n),o=lf(e,n,r,p,f,h),E=uf(),e!==null&&!Ae?(cf(e,n,h),Pi(e,n,h)):(kt&&E&&qh(n),n.flags|=1,je(e,n,o,h),n.child)}function zp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!zh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Bp(e,n,f,o,h)):(e=Du(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!kf(e,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:xo,r(p,o)&&e.ref===n.ref)return Pi(e,n,h)}return n.flags|=1,e=Vi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Bp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(xo(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,kf(e,h))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,Pi(e,n,h)}return Cf(e,n,r,o,h)}function jp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return qp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?Fg(n,f):rf(),Gg(n);else return o=n.lanes=536870912,qp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Mu(n,f.cachePool),Fg(n,f),Ar(),n.memoizedState=null):(e!==null&&Mu(n,null),rf(),Ar());return je(e,n,h,r),n.child}function Xo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function qp(e,n,r,o,h){var f=Zh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Mu(n,null),rf(),Gg(n),e!==null&&pa(e,n,o,!0),n.childLanes=h,null}function Xu(e,n){return n=Zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Hp(e,n,r){return Cs(n,e.child,null,r),e=Xu(n,n.pendingProps),e.flags|=2,gn(n),n.memoizedState=null,e}function iS(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=Xu(n,o),n.lanes=536870912,Xo(null,e);if(af(n),(e=te)?(e=e_(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gr!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=Rg(e),r.return=n,n.child=r,ze=n,te=null)):e=null,e===null)throw yr(n);return n.lanes=536870912,null}return Xu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(af(n),h)if(n.flags&256)n.flags&=-257,n=Hp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ae||pa(e,n,r,!1),h=(r&e.childLanes)!==0,Ae||h){if(o=$t,o!==null&&(p=po(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Es(e,p),ln(o,e,p),If;ac(),n=Hp(e,n,r)}else e=f.treeContext,te=Vn(p.nextSibling),ze=n,kt=!0,pr=null,Nn=!1,e!==null&&Dg(n,e),n=Xu(n,o),n.flags|=4096;return n}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ju(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Cf(e,n,r,o,h){return bs(n),r=lf(e,n,r,o,void 0,h),o=uf(),e!==null&&!Ae?(cf(e,n,h),Pi(e,n,h)):(kt&&o&&qh(n),n.flags|=1,je(e,n,r,h),n.child)}function Fp(e,n,r,o,h,f){return bs(n),n.updateQueue=null,r=Yg(n,o,r,h),Kg(e),o=uf(),e!==null&&!Ae?(cf(e,n,f),Pi(e,n,f)):(kt&&o&&qh(n),n.flags|=1,je(e,n,r,f),n.child)}function Gp(e,n,r,o,h){if(bs(n),n.stateNode===null){var f=fa,p=r.contextType;typeof p=="object"&&p!==null&&(f=Be(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=wf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Wh(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Be(p):fa,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(bf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&wf.enqueueReplaceState(f,f.state,null),Fo(n,o,f,h),Ho(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Ns(r,E);f.props=R;var P=f.context,H=r.contextType;p=fa,typeof H=="object"&&H!==null&&(p=Be(H));var Q=r.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&Op(n,f,o,p),vr=!1;var z=n.memoizedState;f.state=z,Fo(n,o,f,h),Ho(),P=n.memoizedState,E||z!==P||vr?(typeof Q=="function"&&(bf(n,r,Q,o),P=n.memoizedState),(R=vr||Np(n,r,R,o,z,P,p))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,tf(e,n),p=n.memoizedProps,H=Ns(r,p),f.props=H,Q=n.pendingProps,z=f.context,P=r.contextType,R=fa,typeof P=="object"&&P!==null&&(R=Be(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Q||z!==R)&&Op(n,f,o,R),vr=!1,z=n.memoizedState,f.state=z,Fo(n,o,f,h),Ho();var j=n.memoizedState;p!==Q||z!==j||vr||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof E=="function"&&(bf(n,r,E,o),j=n.memoizedState),(H=vr||Np(n,r,H,o,z,j,R)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=R,o=H):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Cs(n,e.child,null,h),n.child=Cs(n,null,r,h)):je(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Pi(e,n,h),e}function Kp(e,n,r,o){return Ss(),n.flags|=256,je(e,n,r,o),n.child}var Df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(e){return{baseLanes:e,cachePool:kg()}}function Of(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=yn),e}function Yp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?Sr(n):Ar(),(e=te)?(e=e_(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gr!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=Rg(e),r.return=n,n.child=r,ze=n,te=null)):e=null,e===null)throw yr(n);return dd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ar(),h=n.mode,E=Zu({mode:"hidden",children:E},h),o=Ts(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Nf(r),o.childLanes=Of(e,p,r),n.memoizedState=Df,Xo(null,o)):(Sr(n),Vf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Sr(n),n.flags&=-257,n=Mf(e,n,r)):n.memoizedState!==null?(Ar(),n.child=e.child,n.flags|=128,n=null):(Ar(),E=o.fallback,h=n.mode,o=Zu({mode:"visible",children:o.children},h),E=Ts(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Cs(n,e.child,null,r),o=n.child,o.memoizedState=Nf(r),o.childLanes=Of(e,p,r),n.memoizedState=Df,n=Xo(null,o));else if(Sr(n),dd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(a(419)),o.stack="",o.digest=p,Lo({value:o,source:null,stack:null}),n=Mf(e,n,r)}else if(Ae||pa(e,n,r,!1),p=(r&e.childLanes)!==0,Ae||p){if(p=$t,p!==null&&(o=po(p,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,Es(e,o),ln(p,e,o),If;fd(E)||ac(),n=Mf(e,n,r)}else fd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,te=Vn(E.nextSibling),ze=n,kt=!0,pr=null,Nn=!1,e!==null&&Dg(n,e),n=Vf(n,o.children),n.flags|=4096);return n}return h?(Ar(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=Vi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=Vi(P,E):(E=Ts(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Xo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Nf(r):(h=E.cachePool,h!==null?(R=Te._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=kg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Of(e,p,r),n.memoizedState=Df,Xo(e.child,o)):(Sr(n),r=e.child,e=r.sibling,r=Vi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function Vf(e,n){return n=Zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zu(e,n){return e=dn(22,e,null,n),e.lanes=0,e}function Mf(e,n,r){return Cs(n,e.child,null,r),e=Vf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Qp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Yh(e.return,n,r)}function xf(e,n,r,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function Xp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=de.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,K(de,p),je(e,n,o,r),o=kt?Uo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qp(e,r,n);else if(e.tag===19)Qp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&zu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),xf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}xf(n,!0,r,null,f,o);break;case"together":xf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Pi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Rr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(pa(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Vi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Vi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function kf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function rS(e,n,r){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),_r(n,Te,e.memoizedState.cache),Ss();break;case 27:case 5:ns(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:_r(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,af(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Sr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Yp(e,n,r):(Sr(n),e=Pi(e,n,r),e!==null?e.sibling:null);Sr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(pa(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Xp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),K(de,de.current),o)break;return null;case 22:return n.lanes=0,jp(e,n,r,n.pendingProps);case 24:_r(n,Te,e.memoizedState.cache)}return Pi(e,n,r)}function Jp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!kf(e,r)&&(n.flags&128)===0)return Ae=!1,rS(e,n,r);Ae=(e.flags&131072)!==0}else Ae=!1,kt&&(n.flags&1048576)!==0&&Cg(n,Uo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Rs(n.elementType),n.type=e,typeof e=="function")zh(e)?(o=Ns(e,o),n.tag=1,n=Gp(null,n,e,o,r)):(n.tag=0,n=Cf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Lt){n.tag=11,n=Pp(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=zp(null,n,e,o,r);break t}}throw n=Pt(e)||e,Error(a(306,n,""))}}return n;case 0:return Cf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Ns(o,n.pendingProps),Gp(e,n,o,h,r);case 3:t:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,tf(e,n),Fo(n,o,null,r);var p=n.memoizedState;if(o=p.cache,_r(n,Te,o),o!==f.cache&&Qh(n,[Te],r,!0),Ho(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Kp(e,n,o,r);break t}else if(o!==h){h=In(Error(a(424)),n),Lo(h),n=Kp(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,te=Vn(e.firstChild),ze=n,kt=!0,pr=null,Nn=!0,r=jg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ss(),o===h){n=Pi(e,n,r);break t}je(e,n,o,r)}n=n.child}return n;case 26:return Ju(e,n),e===null?(r=o_(n.type,null,n.pendingProps,null))?n.memoizedState=r:kt||(r=n.type,e=n.pendingProps,o=dc(gt.current).createElement(r),o[_e]=n,o[Ve]=e,qe(o,r,e),ve(o),n.stateNode=o):n.memoizedState=o_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ns(n),e===null&&kt&&(o=n.stateNode=r_(n.type,n.pendingProps,gt.current),ze=n,Nn=!0,h=te,Or(n.type)?(md=h,te=Vn(o.firstChild)):te=h),je(e,n,n.pendingProps.children,r),Ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=o=te)&&(o=xS(o,n.type,n.pendingProps,Nn),o!==null?(n.stateNode=o,ze=n,te=Vn(o.firstChild),Nn=!1,h=!0):h=!1),h||yr(n)),ns(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,ud(h,f)?o=null:p!==null&&ud(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=lf(e,n,X0,null,null,r),cl._currentValue=h),Ju(e,n),je(e,n,o,r),n.child;case 6:return e===null&&kt&&((e=r=te)&&(r=kS(r,n.pendingProps,Nn),r!==null?(n.stateNode=r,ze=n,te=null,e=!0):e=!1),e||yr(n)),null;case 13:return Yp(e,n,r);case 4:return Ie(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Cs(n,null,o,r):je(e,n,o,r),n.child;case 11:return Pp(e,n,n.type,n.pendingProps,r);case 7:return je(e,n,n.pendingProps,r),n.child;case 8:return je(e,n,n.pendingProps.children,r),n.child;case 12:return je(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,_r(n,n.type,o.value),je(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,bs(n),h=Be(h),o=o(h),n.flags|=1,je(e,n,o,r),n.child;case 14:return zp(e,n,n.type,n.pendingProps,r);case 15:return Bp(e,n,n.type,n.pendingProps,r);case 19:return Xp(e,n,r);case 31:return iS(e,n,r);case 22:return jp(e,n,r,n.pendingProps);case 24:return bs(n),o=Be(Te),e===null?(h=Zh(),h===null&&(h=$t,f=Xh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Wh(n),_r(n,Te,h)):((e.lanes&r)!==0&&(tf(e,n),Fo(n,null,null,r),Ho()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_r(n,Te,o)):(o=f.cache,_r(n,Te,o),o!==h.cache&&Qh(n,[Te],r,!0))),je(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function zi(e){e.flags|=4}function Uf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ay())e.flags|=8192;else throw Is=ku,$h}else e.flags&=-16777217}function Zp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!f_(n))if(Ay())e.flags|=8192;else throw Is=ku,$h}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ru():536870912,e.lanes|=n,Ca|=n)}function Jo(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function sS(e,n,r){var o=n.pendingProps;switch(Hh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ki(Te),ie(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ga(n)?zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(zi(n),f!==null?(ee(n),Zp(n,f)):(ee(n),Uf(n,h,null,o,r))):f?f!==e.memoizedState?(zi(n),ee(n),Zp(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&zi(n),ee(n),Uf(n,h,e,o,r)),null;case 27:if(Ys(n),r=gt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}e=nt.current,ga(n)?Ng(n):(e=r_(h,o,r),n.stateNode=e,zi(n))}return ee(n),null;case 5:if(Ys(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(f=nt.current,ga(n))Ng(n);else{var p=dc(gt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[_e]=n,f[Ve]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(qe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&zi(n)}}return ee(n),Uf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=gt.current,ga(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Yy(e.nodeValue,r)),e||yr(n,!0)}else e=dc(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ee(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ga(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[_e]=n}else Ss(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else r=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ga(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_e]=n}else Ss(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),$u(n,n.updateQueue),ee(n),null);case 4:return ie(),e===null&&rd(n.stateNode.containerInfo),ee(n),null;case 10:return ki(n.type),ee(n),null;case 19:if(G(de),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Jo(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,Jo(o,!1),e=f.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)wg(r,e),r=r.sibling;return K(de,de.current&1|2),kt&&Mi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>ic&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),Jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return ee(n),null}else 2*$e()-o.renderingStartTime>ic&&r!==536870912&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,r=de.current,K(de,h?r&1|2:r&1),kt&&Mi(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return gn(n),sf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&$u(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&G(ws),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ki(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function aS(e,n){switch(Hh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ki(Te),ie(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ys(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(a(340));Ss()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(gn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ss()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return G(de),null;case 4:return ie(),null;case 10:return ki(n.type),null;case 22:case 23:return gn(n),sf(),e!==null&&G(ws),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ki(Te),null;case 25:return null;default:return null}}function $p(e,n){switch(Hh(n),n.tag){case 3:ki(Te),ie();break;case 26:case 27:case 5:Ys(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:G(de);break;case 10:ki(n.type);break;case 22:case 23:gn(n),sf(),e!==null&&G(ws);break;case 24:ki(Te)}}function Zo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){Yt(n,n.return,E)}}function br(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=r,P=E;try{P()}catch(H){Yt(h,R,H)}}}o=o.next}while(o!==f)}}catch(H){Yt(n,n.return,H)}}function Wp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Hg(n,r)}catch(o){Yt(e,e.return,o)}}}function ty(e,n,r){r.props=Ns(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Yt(e,n,o)}}function $o(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Yt(e,n,h)}}function vi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Yt(e,n,h)}else r.current=null}function ey(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Yt(e,e.return,h)}}function Lf(e,n,r){try{var o=e.stateNode;CS(o,e.type,r,n),o[Ve]=n}catch(h){Yt(e,e.return,h)}}function ny(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Or(e.type)||e.tag===4}function Pf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ny(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Or(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=jn));else if(o!==4&&(o===27&&Or(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(zf(e,n,r),e=e.sibling;e!==null;)zf(e,n,r),e=e.sibling}function Wu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Or(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Wu(e,n,r),e=e.sibling;e!==null;)Wu(e,n,r),e=e.sibling}function iy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);qe(n,o,r),n[_e]=e,n[Ve]=r}catch(f){Yt(e,e.return,f)}}var Bi=!1,be=!1,Bf=!1,ry=typeof WeakSet=="function"?WeakSet:Set,xe=null;function oS(e,n){if(e=e.containerInfo,od=Ec,e=pg(e),Vh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,R=-1,P=0,H=0,Q=e,z=null;e:for(;;){for(var j;Q!==r||h!==0&&Q.nodeType!==3||(E=p+h),Q!==f||o!==0&&Q.nodeType!==3||(R=p+o),Q.nodeType===3&&(p+=Q.nodeValue.length),(j=Q.firstChild)!==null;)z=Q,Q=j;for(;;){if(Q===e)break e;if(z===r&&++P===h&&(E=p),z===f&&++H===o&&(R=p),(j=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=j}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(ld={focusedElem:e,selectionRange:r},Ec=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){switch(n=xe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var st=Ns(r.type,h);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Yt(r,r.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)hd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}}function sy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:qi(e,r),o&4&&Zo(5,r);break;case 1:if(qi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Yt(r,r.return,p)}else{var h=Ns(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Yt(r,r.return,p)}}o&64&&Wp(r),o&512&&$o(r,r.return);break;case 3:if(qi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Hg(e,n)}catch(p){Yt(r,r.return,p)}}break;case 27:n===null&&o&4&&iy(r);case 26:case 5:qi(e,r),n===null&&o&4&&ey(r),o&512&&$o(r,r.return);break;case 12:qi(e,r);break;case 31:qi(e,r),o&4&&ly(e,r);break;case 13:qi(e,r),o&4&&uy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=pS.bind(null,r),US(e,r))));break;case 22:if(o=r.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||be,h=Bi;var f=be;Bi=o,(be=n)&&!f?Hi(e,r,(r.subtreeFlags&8772)!==0):qi(e,r),Bi=h,be=f}break;case 30:break;default:qi(e,r)}}function ay(e){var n=e.alternate;n!==null&&(e.alternate=null,ay(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&$s(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var se=null,rn=!1;function ji(e,n,r){for(r=r.child;r!==null;)oy(e,n,r),r=r.sibling}function oy(e,n,r){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Ln,r)}catch{}switch(r.tag){case 26:be||vi(r,n),ji(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:be||vi(r,n);var o=se,h=rn;Or(r.type)&&(se=r.stateNode,rn=!1),ji(e,n,r),ol(r.stateNode),se=o,rn=h;break;case 5:be||vi(r,n);case 6:if(o=se,h=rn,se=null,ji(e,n,r),se=o,rn=h,se!==null)if(rn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(r.stateNode)}catch(f){Yt(r,n,f)}else try{se.removeChild(r.stateNode)}catch(f){Yt(r,n,f)}break;case 18:se!==null&&(rn?(e=se,Wy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ua(e)):Wy(se,r.stateNode));break;case 4:o=se,h=rn,se=r.stateNode.containerInfo,rn=!0,ji(e,n,r),se=o,rn=h;break;case 0:case 11:case 14:case 15:br(2,r,n),be||br(4,r,n),ji(e,n,r);break;case 1:be||(vi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&ty(r,n,o)),ji(e,n,r);break;case 21:ji(e,n,r);break;case 22:be=(o=be)||r.memoizedState!==null,ji(e,n,r),be=o;break;default:ji(e,n,r)}}function ly(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(r){Yt(n,n.return,r)}}}function uy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(r){Yt(n,n.return,r)}}function lS(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ry),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ry),n;default:throw Error(a(435,e.tag))}}function tc(e,n){var r=lS(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=yS.bind(null,e,o);o.then(h,h)}})}function sn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Or(E.type)){se=E.stateNode,rn=!1;break t}break;case 5:se=E.stateNode,rn=!1;break t;case 3:case 4:se=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(se===null)throw Error(a(160));oy(f,p,h),se=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)cy(n,e),n=n.sibling}var Yn=null;function cy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),an(e),o&4&&(br(3,e,e.return),Zo(3,e),br(5,e,e.return));break;case 1:sn(n,e),an(e),o&512&&(be||r===null||vi(r,r.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Yn;if(sn(n,e),an(e),o&512&&(be||r===null||vi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),qe(f,o,r),f[_e]=e,ve(f),o=f;break t;case"link":var p=c_("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),qe(f,o,r),h.head.appendChild(f);break;case"meta":if(p=c_("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=h.createElement(o),qe(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else h_(h,e.type,e.stateNode);else e.stateNode=u_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?h_(h,e.type,e.stateNode):u_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Lf(e,e.memoizedProps,r.memoizedProps)}break;case 27:sn(n,e),an(e),o&512&&(be||r===null||vi(r,r.return)),r!==null&&o&4&&Lf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(sn(n,e),an(e),o&512&&(be||r===null||vi(r,r.return)),e.flags&32){h=e.stateNode;try{nn(h,"")}catch(st){Yt(e,e.return,st)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Lf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Bf=!0);break;case 6:if(sn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(st){Yt(e,e.return,st)}}break;case 3:if(pc=null,h=Yn,Yn=mc(n.containerInfo),sn(n,e),Yn=h,an(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(st){Yt(e,e.return,st)}Bf&&(Bf=!1,hy(e));break;case 4:o=Yn,Yn=mc(e.stateNode.containerInfo),sn(n,e),an(e),Yn=o;break;case 12:sn(n,e),an(e);break;case 31:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 13:sn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(nc=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=Bi,H=be;if(Bi=P||h,be=H||R,sn(n,e),be=H,Bi=P,an(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||Bi||be||Os(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Yt(R,R.return,st)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(st){Yt(R,R.return,st)}}}else if(n.tag===18){if(r===null){R=n;try{var j=R.stateNode;h?t_(j,!0):t_(R.stateNode,!1)}catch(st){Yt(R,R.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,tc(e,r))));break;case 19:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 30:break;case 21:break;default:sn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(ny(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Pf(e);Wu(e,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(nn(p,""),r.flags&=-33);var E=Pf(e);Wu(e,E,p);break;case 3:case 4:var R=r.stateNode.containerInfo,P=Pf(e);zf(e,P,R);break;default:throw Error(a(161))}}catch(H){Yt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function hy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;hy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sy(e,n.alternate,n),n=n.sibling}function Os(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:br(4,n,n.return),Os(n);break;case 1:vi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ty(n,n.return,r),Os(n);break;case 27:ol(n.stateNode);case 26:case 5:vi(n,n.return),Os(n);break;case 22:n.memoizedState===null&&Os(n);break;case 30:Os(n);break;default:Os(n)}e=e.sibling}}function Hi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(h,f,r),Zo(4,f);break;case 1:if(Hi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Yt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)qg(R[h],E)}catch(P){Yt(o,o.return,P)}}r&&p&64&&Wp(f),$o(f,f.return);break;case 27:iy(f);case 26:case 5:Hi(h,f,r),r&&o===null&&p&4&&ey(f),$o(f,f.return);break;case 12:Hi(h,f,r);break;case 31:Hi(h,f,r),r&&p&4&&ly(h,f);break;case 13:Hi(h,f,r),r&&p&4&&uy(h,f);break;case 22:f.memoizedState===null&&Hi(h,f,r),$o(f,f.return);break;case 30:break;default:Hi(h,f,r)}n=n.sibling}}function jf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Po(r))}function qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e))}function Qn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fy(e,n,r,o),n=n.sibling}function fy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,r,o),h&2048&&Zo(9,n);break;case 1:Qn(e,n,r,o);break;case 3:Qn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e)));break;case 12:if(h&2048){Qn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Yt(n,n.return,R)}}else Qn(e,n,r,o);break;case 31:Qn(e,n,r,o);break;case 13:Qn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,r,o):Wo(e,n):f._visibility&2?Qn(e,n,r,o):(f._visibility|=2,wa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&jf(p,n);break;case 24:Qn(e,n,r,o),h&2048&&qf(n.alternate,n);break;default:Qn(e,n,r,o)}}function wa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=r,R=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:wa(f,p,E,R,h),Zo(8,p);break;case 23:break;case 22:var H=p.stateNode;p.memoizedState!==null?H._visibility&2?wa(f,p,E,R,h):Wo(f,p):(H._visibility|=2,wa(f,p,E,R,h)),h&&P&2048&&jf(p.alternate,p);break;case 24:wa(f,p,E,R,h),h&&P&2048&&qf(p.alternate,p);break;default:wa(f,p,E,R,h)}n=n.sibling}}function Wo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Wo(r,o),h&2048&&jf(o.alternate,o);break;case 24:Wo(r,o),h&2048&&qf(o.alternate,o);break;default:Wo(r,o)}n=n.sibling}}var tl=8192;function Ra(e,n,r){if(e.subtreeFlags&tl)for(e=e.child;e!==null;)dy(e,n,r),e=e.sibling}function dy(e,n,r){switch(e.tag){case 26:Ra(e,n,r),e.flags&tl&&e.memoizedState!==null&&QS(r,Yn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e,n,r);break;case 3:case 4:var o=Yn;Yn=mc(e.stateNode.containerInfo),Ra(e,n,r),Yn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=tl,tl=16777216,Ra(e,n,r),tl=o):Ra(e,n,r));break;default:Ra(e,n,r)}}function my(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function el(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];xe=o,py(o,e)}my(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gy(e),e=e.sibling}function gy(e){switch(e.tag){case 0:case 11:case 15:el(e),e.flags&2048&&br(9,e,e.return);break;case 3:el(e);break;case 12:el(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):el(e);break;default:el(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];xe=o,py(o,e)}my(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:br(8,n,n.return),ec(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function py(e,n){for(;xe!==null;){var r=xe;switch(r.tag){case 0:case 11:case 15:br(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Po(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,xe=o;else t:for(r=e;xe!==null;){o=xe;var h=o.sibling,f=o.return;if(ay(o),o===r){xe=null;break t}if(h!==null){h.return=f,xe=h;break t}xe=f}}}var uS={getCacheForType:function(e){var n=Be(Te),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Be(Te).controller.signal}},cS=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,It=null,Dt=0,Kt=0,pn=null,wr=!1,Ia=!1,Hf=!1,Fi=0,ue=0,Rr=0,Vs=0,Ff=0,yn=0,Ca=0,nl=null,on=null,Gf=!1,nc=0,yy=0,ic=1/0,rc=null,Ir=null,De=0,Cr=null,Da=null,Gi=0,Kf=0,Yf=null,_y=null,il=0,Qf=null;function _n(){return(Ht&2)!==0&&Dt!==0?Dt&-Dt:q.T!==null?td():su()}function vy(){if(yn===0)if((Dt&536870912)===0||kt){var e=ss;ss<<=1,(ss&3932160)===0&&(ss=262144),yn=e}else yn=536870912;return e=mn.current,e!==null&&(e.flags|=32),yn}function ln(e,n,r){(e===$t&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Na(e,0),Dr(e,Dt,yn,!1)),as(e,r),((Ht&2)===0||e!==$t)&&(e===$t&&((Ht&2)===0&&(Vs|=r),ue===4&&Dr(e,Dt,yn,!1)),Ei(e))}function Ey(e,n,r){if((Ht&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Pn(e,n),h=o?dS(e,n):Jf(e,n,!0),f=o;do{if(h===0){Ia&&!o&&Dr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!hS(r)){h=Jf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=nl;var R=E.current.memoizedState.isDehydrated;if(R&&(Na(E,p).flags|=256),p=Jf(E,p,!1),p!==2){if(Hf&&!R){E.errorRecoveryDisabledLanes|=f,Vs|=f,h=4;break t}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Na(e,0),Dr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Dr(o,n,yn,!wr);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-$e(),10<h)){if(Dr(o,n,yn,!wr),ni(o,0,!0)!==0)break t;Gi=n,o.timeoutHandle=Zy(Ty.bind(null,o,r,on,rc,Gf,n,yn,Vs,Ca,wr,f,"Throttled",-0,0),h);break t}Ty(o,r,on,rc,Gf,n,yn,Vs,Ca,wr,f,null,-0,0)}}break}while(!0);Ei(e)}function Ty(e,n,r,o,h,f,p,E,R,P,H,Q,z,j){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},dy(n,f,Q);var st=(f&62914560)===f?nc-$e():(f&4194048)===f?yy-$e():0;if(st=XS(Q,st),st!==null){Gi=f,e.cancelPendingCommit=st(Dy.bind(null,e,n,f,r,o,h,p,E,R,H,Q,null,z,j)),Dr(e,f,p,!P);return}}Dy(e,n,f,r,o,h,p,E,R)}function hS(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!fn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Dr(e,n,r,o){n&=~Ff,n&=~Vs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&os(e,r,n)}function sc(){return(Ht&6)===0?(rl(0),!1):!0}function Xf(){if(It!==null){if(Kt===0)var e=It.return;else e=It,xi=As=null,hf(e),Ea=null,Bo=0,e=It;for(;e!==null;)$p(e.alternate,e),e=e.return;It=null}}function Na(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,OS(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Gi=0,Xf(),$t=e,It=r=Vi(e.current,null),Dt=n,Kt=0,pn=null,wr=!1,Ia=Pn(e,n),Hf=!1,Ca=yn=Ff=Vs=Rr=ue=0,on=nl=null,Gf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Fi=n,Ru(),r}function Sy(e,n){wt=null,q.H=Qo,n===va||n===xu?(n=Pg(),Kt=3):n===$h?(n=Pg(),Kt=4):Kt=n===If?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,It===null&&(ue=1,Qu(e,In(n,e.current)))}function Ay(){var e=mn.current;return e===null?!0:(Dt&4194048)===Dt?On===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===On:!1}function by(){var e=q.H;return q.H=Qo,e===null?Qo:e}function wy(){var e=q.A;return q.A=uS,e}function ac(){ue=4,wr||(Dt&4194048)!==Dt&&mn.current!==null||(Ia=!0),(Rr&134217727)===0&&(Vs&134217727)===0||$t===null||Dr($t,Dt,yn,!1)}function Jf(e,n,r){var o=Ht;Ht|=2;var h=by(),f=wy();($t!==e||Dt!==n)&&(rc=null,Na(e,n)),n=!1;var p=ue;t:do try{if(Kt!==0&&It!==null){var E=It,R=pn;switch(Kt){case 8:Xf(),p=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var P=Kt;if(Kt=0,pn=null,Oa(e,E,R,P),r&&Ia){p=0;break t}break;default:P=Kt,Kt=0,pn=null,Oa(e,E,R,P)}}fS(),p=ue;break}catch(H){Sy(e,H)}while(!0);return n&&e.shellSuspendCounter++,xi=As=null,Ht=o,q.H=h,q.A=f,It===null&&($t=null,Dt=0,Ru()),p}function fS(){for(;It!==null;)Ry(It)}function dS(e,n){var r=Ht;Ht|=2;var o=by(),h=wy();$t!==e||Dt!==n?(rc=null,ic=$e()+500,Na(e,n)):Ia=Pn(e,n);t:do try{if(Kt!==0&&It!==null){n=It;var f=pn;e:switch(Kt){case 1:Kt=0,pn=null,Oa(e,n,f,1);break;case 2:case 9:if(Ug(f)){Kt=0,pn=null,Iy(n);break}n=function(){Kt!==2&&Kt!==9||$t!==e||(Kt=7),Ei(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Ug(f)?(Kt=0,pn=null,Iy(n)):(Kt=0,pn=null,Oa(e,n,f,7));break;case 5:var p=null;switch(It.tag){case 26:p=It.memoizedState;case 5:case 27:var E=It;if(p?f_(p):E.stateNode.complete){Kt=0,pn=null;var R=E.sibling;if(R!==null)It=R;else{var P=E.return;P!==null?(It=P,oc(P)):It=null}break e}}Kt=0,pn=null,Oa(e,n,f,5);break;case 6:Kt=0,pn=null,Oa(e,n,f,6);break;case 8:Xf(),ue=6;break t;default:throw Error(a(462))}}mS();break}catch(H){Sy(e,H)}while(!0);return xi=As=null,q.H=o,q.A=h,Ht=r,It!==null?0:($t=null,Dt=0,Ru(),ue)}function mS(){for(;It!==null&&!wh();)Ry(It)}function Ry(e){var n=Jp(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?oc(e):It=n}function Iy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Fp(r,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Fp(r,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:hf(n);default:$p(r,n),n=It=wg(n,Fi),n=Jp(r,n,Fi)}e.memoizedProps=e.pendingProps,n===null?oc(e):It=n}function Oa(e,n,r,o){xi=As=null,hf(n),Ea=null,Bo=0;var h=n.return;try{if(nS(e,h,n,r,Dt)){ue=1,Qu(e,In(r,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;ue=1,Qu(e,In(r,e.current)),It=null;return}n.flags&32768?(kt||o===1?e=!0:Ia||(Dt&536870912)!==0?e=!1:(wr=e=!0,(o===2||o===9||o===3||o===6)&&(o=mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Cy(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){Cy(n,wr);return}e=n.return;var r=sS(n.alternate,n,Fi);if(r!==null){It=r;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ue===0&&(ue=5)}function Cy(e,n){do{var r=aS(e.alternate,e);if(r!==null){r.flags&=32767,It=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=r}while(e!==null);ue=6,It=null}function Dy(e,n,r,o,h,f,p,E,R){e.cancelPendingCommit=null;do lc();while(De!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Lh,Ch(e,r,f,p,E,R),e===$t&&(It=$t=null,Dt=0),Da=n,Cr=e,Gi=r,Kf=f,Yf=h,_y=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_S(sr,function(){return xy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=W.p,W.p=2,p=Ht,Ht|=4;try{oS(e,n,r)}finally{Ht=p,W.p=h,q.T=o}}De=1,Ny(),Oy(),Vy()}}function Ny(){if(De===1){De=0;var e=Cr,n=Da,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var o=W.p;W.p=2;var h=Ht;Ht|=4;try{cy(n,e);var f=ld,p=pg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&gg(E.ownerDocument.documentElement,E)){if(R!==null&&Vh(E)){var P=R.start,H=R.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var j=z.getSelection(),st=E.textContent.length,dt=Math.min(R.start,st),Zt=R.end===void 0?dt:Math.min(R.end,st);!j.extend&&dt>Zt&&(p=Zt,Zt=dt,dt=p);var x=mg(E,dt),N=mg(E,Zt);if(x&&N&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var L=Q.createRange();L.setStart(x.node,x.offset),j.removeAllRanges(),dt>Zt?(j.addRange(L),j.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),j.addRange(L))}}}}for(Q=[],j=E;j=j.parentNode;)j.nodeType===1&&Q.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Ec=!!od,ld=od=null}finally{Ht=h,W.p=o,q.T=r}}e.current=n,De=2}}function Oy(){if(De===2){De=0;var e=Cr,n=Da,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var o=W.p;W.p=2;var h=Ht;Ht|=4;try{sy(e,n.alternate,n)}finally{Ht=h,W.p=o,q.T=r}}De=3}}function Vy(){if(De===4||De===3){De=0,$l();var e=Cr,n=Da,r=Gi,o=_y;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Da=Cr=null,My(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ir=null),Ci(r),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=W.p,W.p=2,q.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{q.T=n,W.p=h}}(Gi&3)!==0&&lc(),Ei(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Qf?il++:(il=0,Qf=e):il=0,rl(0)}}function My(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Po(n)))}function lc(){return Ny(),Oy(),Vy(),xy()}function xy(){if(De!==5)return!1;var e=Cr,n=Kf;Kf=0;var r=Ci(Gi),o=q.T,h=W.p;try{W.p=32>r?32:r,q.T=null,r=Yf,Yf=null;var f=Cr,p=Gi;if(De=0,Da=Cr=null,Gi=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,gy(f.current),fy(f,f.current,p,r),Ht=E,rl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{W.p=h,q.T=o,My(e,n)}}function ky(e,n,r){n=In(r,n),n=Rf(e.stateNode,n,2),e=Tr(e,n,2),e!==null&&(as(e,2),Ei(e))}function Yt(e,n,r){if(e.tag===3)ky(e,e,r);else for(;n!==null;){if(n.tag===3){ky(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ir===null||!Ir.has(o))){e=In(r,e),r=Up(2),o=Tr(n,r,2),o!==null&&(Lp(r,o,n,e),as(o,2),Ei(o));break}}n=n.return}}function Zf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new cS;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Hf=!0,h.add(r),e=gS.bind(null,e,n,r),n.then(e,e))}function gS(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,$t===e&&(Dt&r)===r&&(ue===4||ue===3&&(Dt&62914560)===Dt&&300>$e()-nc?(Ht&2)===0&&Na(e,0):Ff|=r,Ca===Dt&&(Ca=0)),Ei(e)}function Uy(e,n){n===0&&(n=ru()),e=Es(e,n),e!==null&&(as(e,n),Ei(e))}function pS(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Uy(e,r)}function yS(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Uy(e,r)}function _S(e,n){return Ce(e,n)}var uc=null,Va=null,$f=!1,cc=!1,Wf=!1,Nr=0;function Ei(e){e!==Va&&e.next===null&&(Va===null?uc=Va=e:Va=Va.next=e),cc=!0,$f||($f=!0,ES())}function rl(e,n){if(!Wf&&cc){Wf=!0;do for(var r=!1,o=uc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,By(o,f))}else f=Dt,f=ni(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Pn(o,f)||(r=!0,By(o,f));o=o.next}while(r);Wf=!1}}function vS(){Ly()}function Ly(){cc=$f=!1;var e=0;Nr!==0&&NS()&&(e=Nr);for(var n=$e(),r=null,o=uc;o!==null;){var h=o.next,f=Py(o,n);f===0?(o.next=null,r===null?uc=h:r.next=h,h===null&&(Va=r)):(r=o,(e!==0||(f&3)!==0)&&(cc=!0)),o=h}De!==0&&De!==5||rl(e),Nr!==0&&(Nr=0)}function Py(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-he(f),E=1<<p,R=h[p];R===-1?((E&r)===0||(E&o)!==0)&&(h[p]=Ih(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=$t,r=Dt,r=ni(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&rr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Pn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&rr(o),Ci(r)){case 2:case 8:r=mo;break;case 32:r=sr;break;case 268435456:r=Wl;break;default:r=sr}return o=zy.bind(null,e),r=Ce(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&rr(o),e.callbackPriority=2,e.callbackNode=null,2}function zy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(lc()&&e.callbackNode!==r)return null;var o=Dt;return o=ni(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ey(e,o,n),Py(e,$e()),e.callbackNode!=null&&e.callbackNode===r?zy.bind(null,e):null)}function By(e,n){if(lc())return null;Ey(e,n,!0)}function ES(){VS(function(){(Ht&6)!==0?Ce(fo,vS):Ly()})}function td(){if(Nr===0){var e=ya;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Nr=e}return Nr}function jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:na(""+e)}function qy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function TS(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=jy((h[Ve]||null).action),p=o.submitter;p&&(n=(n=p[Ve]||null)?jy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new di("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Nr!==0){var R=p?qy(h,p):new FormData(h);Ef(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?qy(h,p):new FormData(h),Ef(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ed=0;ed<Uh.length;ed++){var nd=Uh[ed],SS=nd.toLowerCase(),AS=nd[0].toUpperCase()+nd.slice(1);Kn(SS,"on"+AS)}Kn(vg,"onAnimationEnd"),Kn(Eg,"onAnimationIteration"),Kn(Tg,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(z0,"onTransitionRun"),Kn(B0,"onTransitionStart"),Kn(j0,"onTransitionCancel"),Kn(Sg,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function Hy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){wu(H)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){wu(H)}h.currentTarget=null,f=R}}}}function Ct(e,n){var r=n[Zs];r===void 0&&(r=n[Zs]=new Set);var o=e+"__bubble";r.has(o)||(Fy(n,e,2,!1),r.add(o))}function id(e,n,r){var o=0;n&&(o|=4),Fy(r,e,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[hc]){e[hc]=!0,yo.forEach(function(r){r!=="selectionchange"&&(bS.has(r)||id(r,!1,e),id(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,id("selectionchange",!1,n))}}function Fy(e,n,r,o){switch(v_(n)){case 2:var h=$S;break;case 8:h=WS;break;default:h=vd}r=h.bind(null,n,r,e),h=void 0,!fs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function sd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ai(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}E=E.parentNode}}o=o.return}hr(function(){var P=f,H=An(r),Q=[];t:{var z=Ag.get(e);if(z!==void 0){var j=di,st=e;switch(e){case"keypress":if(ms(r)===0)break t;case"keydown":case"keyup":j=Su;break;case"focusin":st="focus",j=ps;break;case"focusout":st="blur",j=ps;break;case"beforeblur":case"afterblur":j=ps;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case vg:case Eg:case Tg:j=gu;break;case Sg:j=T;break;case"scroll":case"scrollend":j=Do;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Oi;break;case"toggle":case"beforetoggle":j=bt}var dt=(n&4)!==0,Zt=!dt&&(e==="scroll"||e==="scrollend"),x=dt?z!==null?z+"Capture":null:z;dt=[];for(var N=P,L;N!==null;){var F=N;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||x===null||(F=qn(N,x),F!=null&&dt.push(al(N,F,L))),Zt)break;N=N.return}0<dt.length&&(z=new j(z,st,null,r,H),Q.push({event:z,listeners:dt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&r!==Ro&&(st=r.relatedTarget||r.fromElement)&&(ai(st)||st[ri]))break t;if((j||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,j?(st=r.relatedTarget||r.toElement,j=P,st=st?ai(st):null,st!==null&&(Zt=c(st),dt=st.tag,st!==Zt||dt!==5&&dt!==27&&dt!==6)&&(st=null)):(j=null,st=P),j!==st)){if(dt=No,F="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Oi,F="onPointerLeave",x="onPointerEnter",N="pointer"),Zt=j==null?z:cn(j),L=st==null?z:cn(st),z=new dt(F,N+"leave",j,r,H),z.target=Zt,z.relatedTarget=L,F=null,ai(H)===P&&(dt=new dt(x,N+"enter",st,r,H),dt.target=L,dt.relatedTarget=Zt,F=dt),Zt=F,j&&st)e:{for(dt=wS,x=j,N=st,L=0,F=x;F;F=dt(F))L++;F=0;for(var ct=N;ct;ct=dt(ct))F++;for(;0<L-F;)x=dt(x),L--;for(;0<F-L;)N=dt(N),F--;for(;L--;){if(x===N||N!==null&&x===N.alternate){dt=x;break e}x=dt(x),N=dt(N)}dt=null}else dt=null;j!==null&&Gy(Q,z,j,dt,!1),st!==null&&Zt!==null&&Gy(Q,Zt,st,dt,!0)}}t:{if(z=P?cn(P):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var Bt=lg;else if(ag(z))if(ug)Bt=U0;else{Bt=x0;var ot=M0}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ea(P.elementType)&&(Bt=lg):Bt=k0;if(Bt&&(Bt=Bt(e,P))){og(Q,Bt,r,H);break t}ot&&ot(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Ao(z,"number",z.value)}switch(ot=P?cn(P):window,e){case"focusin":(ag(ot)||ot.contentEditable==="true")&&(ua=ot,Mh=P,ko=null);break;case"focusout":ko=Mh=ua=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,yg(Q,r,H);break;case"selectionchange":if(P0)break;case"keydown":case"keyup":yg(Q,r,H)}var Rt;if(qt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else la?ys(e,r)&&(Nt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Nt="onCompositionStart");Nt&&(pi&&r.locale!=="ko"&&(la||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&la&&(Rt=Co()):(fi=H,Io="value"in fi?fi.value:fi.textContent,la=!0)),ot=fc(P,Nt),0<ot.length&&(Nt=new gi(Nt,e,null,r,H),Q.push({event:Nt,listeners:ot}),Rt?Nt.data=Rt:(Rt=oa(r),Rt!==null&&(Nt.data=Rt)))),(Rt=wn?D0(e,r):N0(e,r))&&(Nt=fc(P,"onBeforeInput"),0<Nt.length&&(ot=new gi("onBeforeInput","beforeinput",null,r,H),Q.push({event:ot,listeners:Nt}),ot.data=Rt)),TS(Q,e,P,r,H)}Hy(Q,n)})}function al(e,n,r){return{instance:e,listener:n,currentTarget:r}}function fc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(e,r),h!=null&&o.unshift(al(e,h,f)),h=qn(e,n),h!=null&&o.push(al(e,h,f))),e.tag===3)return o;e=e.return}return[]}function wS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gy(e,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=qn(r,f),P!=null&&p.unshift(al(r,P,R))):h||(P=qn(r,f),P!=null&&p.push(al(r,P,R)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var RS=/\r\n?/g,IS=/\u0000|\uFFFD/g;function Ky(e){return(typeof e=="string"?e:""+e).replace(RS,`
`).replace(IS,"")}function Yy(e,n){return n=Ky(n),Ky(e)===n}function Jt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":hn(e,"class",o);break;case"tabIndex":hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,r,o);break;case"style":wo(e,o,f);break;case"data":if(n!=="object"){hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=na(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=na(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=jn);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=na(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Ws(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ws(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=fu.get(r)||r,Ws(e,r,o))}}function ad(e,n,r,o,h,f){switch(r){case"style":wo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_o.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Ws(e,r,o)}}}function qe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,f,p,r,null)}}h&&Jt(e,n,"srcSet",r.srcSet,r,null),o&&Jt(e,n,"src",r.src,r,null);return;case"input":Ct("invalid",e);var E=f=p=h=null,R=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":h=H;break;case"type":p=H;break;case"checked":R=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Jt(e,n,o,H,r,null)}}uu(e,f,E,R,P,p,h,!1);return;case"select":Ct("invalid",e),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Jt(e,n,h,E,r,null)}n=f,r=p,e.multiple=!!o,n!=null?or(e,!!o,n,!1):r!=null&&or(e,!!o,r,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Jt(e,n,p,E,r,null)}lr(e,o,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Jt(e,n,R,o,r,null));return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<sl.length;o++)Ct(sl[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,P,o,r,null)}return;default:if(ea(n)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&ad(e,n,H,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Jt(e,n,E,o,r,null))}function CS(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,P=null,H=null;for(j in r){var Q=r[j];if(r.hasOwnProperty(j)&&Q!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":R=Q;default:o.hasOwnProperty(j)||Jt(e,n,j,null,o,Q)}}for(var z in o){var j=o[z];if(Q=r[z],o.hasOwnProperty(z)&&(j!=null||Q!=null))switch(z){case"type":f=j;break;case"name":h=j;break;case"checked":P=j;break;case"defaultChecked":H=j;break;case"value":p=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==Q&&Jt(e,n,z,j,o,Q)}}ta(e,p,E,R,P,H,f,h);return;case"select":j=p=E=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":j=R;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&Jt(e,n,h,f,o,R)}n=E,r=p,o=j,z!=null?or(e,!!r,z,!1):!!o!=!!r&&(n!=null?or(e,!!r,n,!0):or(e,!!r,r?[]:"",!1));return;case"textarea":j=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Jt(e,n,p,h,o,f)}cu(e,z,j);return;case"option":for(var st in r)z=r[st],r.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st)&&(st==="selected"?e.selected=!1:Jt(e,n,st,null,o,z));for(R in o)z=o[R],j=r[R],o.hasOwnProperty(R)&&z!==j&&(z!=null||j!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Jt(e,n,R,z,o,j));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in r)z=r[dt],r.hasOwnProperty(dt)&&z!=null&&!o.hasOwnProperty(dt)&&Jt(e,n,dt,null,o,z);for(P in o)if(z=o[P],j=r[P],o.hasOwnProperty(P)&&z!==j&&(z!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Jt(e,n,P,z,o,j)}return;default:if(ea(n)){for(var Zt in r)z=r[Zt],r.hasOwnProperty(Zt)&&z!==void 0&&!o.hasOwnProperty(Zt)&&ad(e,n,Zt,void 0,o,z);for(H in o)z=o[H],j=r[H],!o.hasOwnProperty(H)||z===j||z===void 0&&j===void 0||ad(e,n,H,z,o,j);return}}for(var x in r)z=r[x],r.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Jt(e,n,x,null,o,z);for(Q in o)z=o[Q],j=r[Q],!o.hasOwnProperty(Q)||z===j||z==null&&j==null||Jt(e,n,Q,z,o,j)}function Qy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Qy(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],P=R.startTime;if(P>E)break;var H=R.transferSize,Q=R.initiatorType;H&&Qy(Q)&&(R=R.responseEnd,p+=H*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var od=null,ld=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function Xy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ud(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cd=null;function NS(){var e=window.event;return e&&e.type==="popstate"?e===cd?!1:(cd=e,!0):(cd=null,!1)}var Zy=typeof setTimeout=="function"?setTimeout:void 0,OS=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,VS=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(e){return $y.resolve(null).then(e).catch(MS)}:Zy;function MS(e){setTimeout(function(){throw e})}function Or(e){return e==="head"}function Wy(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ua(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")ol(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ol(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&ol(e.ownerDocument.body);r=h}while(r);Ua(n)}function t_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function hd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":hd(r),$s(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function xS(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function kS(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Vn(e.nextSibling),e===null))return null;return e}function e_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function fd(e){return e.data==="$?"||e.data==="$~"}function dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function US(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var md=null;function n_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Vn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function i_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function r_(e,n,r){switch(n=dc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ol(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);$s(e)}var Mn=new Map,s_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=W.d;W.d={f:LS,r:PS,D:zS,C:BS,L:jS,m:qS,X:FS,S:HS,M:GS};function LS(){var e=Ki.f(),n=sc();return e||n}function PS(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?Sp(n):Ki.r(e)}var Ma=typeof document>"u"?null:document;function a_(e,n,r){var o=Ma;if(o&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),s_.has(h)||(s_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),qe(n,"link",e),ve(n),o.head.appendChild(n)))}}function zS(e){Ki.D(e),a_("dns-prefetch",e,null)}function BS(e,n){Ki.C(e,n),a_("preconnect",e,n)}function jS(e,n,r){Ki.L(e,n,r);var o=Ma;if(o&&e&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+en(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+en(r.imageSizes)+'"]')):h+='[href="'+en(e)+'"]';var f=h;switch(n){case"style":f=xa(e);break;case"script":f=ka(e)}Mn.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Mn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ll(f))||n==="script"&&o.querySelector(ul(f))||(n=o.createElement("link"),qe(n,"link",e),ve(n),o.head.appendChild(n)))}}function qS(e,n){Ki.m(e,n);var r=Ma;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!Mn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Mn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ul(f)))return}o=r.createElement("link"),qe(o,"link",e),ve(o),r.head.appendChild(o)}}}function HS(e,n,r){Ki.S(e,n,r);var o=Ma;if(o&&e){var h=oi(o).hoistableStyles,f=xa(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(ll(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Mn.get(f))&&gd(e,r);var R=p=o.createElement("link");ve(R),qe(R,"link",e),R._p=new Promise(function(P,H){R.onload=P,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function FS(e,n){Ki.X(e,n);var r=Ma;if(r&&e){var o=oi(r).hoistableScripts,h=ka(e),f=o.get(h);f||(f=r.querySelector(ul(h)),f||(e=b({src:e,async:!0},n),(n=Mn.get(h))&&pd(e,n),f=r.createElement("script"),ve(f),qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function GS(e,n){Ki.M(e,n);var r=Ma;if(r&&e){var o=oi(r).hoistableScripts,h=ka(e),f=o.get(h);f||(f=r.querySelector(ul(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Mn.get(h))&&pd(e,n),f=r.createElement("script"),ve(f),qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function o_(e,n,r,o){var h=(h=gt.current)?mc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=xa(r.href),r=oi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=xa(r.href);var f=oi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ll(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Mn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Mn.set(e,r),f||KS(h,e,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(r),r=oi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function xa(e){return'href="'+en(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function l_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function KS(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),qe(n,"link",r),ve(n),e.head.appendChild(n))}function ka(e){return'[src="'+en(e)+'"]'}function ul(e){return"script[async]"+e}function u_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(r.href)+'"]');if(o)return n.instance=o,ve(o),o;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),qe(o,"style",h),gc(o,r.precedence,e),n.instance=o;case"stylesheet":h=xa(r.href);var f=e.querySelector(ll(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=l_(r),(h=Mn.get(h))&&gd(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),qe(f,"link",o),n.state.loading|=4,gc(f,r.precedence,e),n.instance=f;case"script":return f=ka(r.src),(h=e.querySelector(ul(f)))?(n.instance=h,ve(h),h):(o=r,(h=Mn.get(f))&&(o=b({},r),pd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),qe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,r.precedence,e));return n.instance}function gc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function c_(e,n,r){if(pc===null){var o=new Map,h=pc=new Map;h.set(r,o)}else h=pc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[si]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function h_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function YS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function f_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function QS(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=xa(o.href),f=n.querySelector(ll(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,ve(f);return}f=n.ownerDocument||n,o=l_(o),(h=Mn.get(h))&&gd(o,h),f=f.createElement("link"),ve(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),qe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=yc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var yd=0;function XS(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&yd===0&&(yd=62500*DS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>yd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(JS,e),_c=null,yc.call(e))}function JS(e,n){if(!(n.state.loading&4)){var r=_c.get(e);if(r)var o=r.get(null);else{r=new Map,_c.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var cl={$$typeof:yt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function ZS(e,n,r,o,h,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function d_(e,n,r,o,h,f,p,E,R,P,H,Q){return e=new ZS(e,n,r,p,R,P,H,Q,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),e.current=f,f.stateNode=e,n=Xh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Wh(f),e}function m_(e){return e?(e=fa,e):fa}function g_(e,n,r,o,h,f){h=m_(h),o.context===null?o.context=h:o.pendingContext=h,o=Er(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Tr(e,o,n),r!==null&&(ln(r,e,n),qo(r,e,n))}function p_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function _d(e,n){p_(e,n),(e=e.alternate)&&p_(e,n)}function y_(e){if(e.tag===13||e.tag===31){var n=Es(e,67108864);n!==null&&ln(n,e,67108864),_d(e,67108864)}}function __(e){if(e.tag===13||e.tag===31){var n=_n();n=ls(n);var r=Es(e,n);r!==null&&ln(r,e,n),_d(e,n)}}var Ec=!0;function $S(e,n,r,o){var h=q.T;q.T=null;var f=W.p;try{W.p=2,vd(e,n,r,o)}finally{W.p=f,q.T=h}}function WS(e,n,r,o){var h=q.T;q.T=null;var f=W.p;try{W.p=8,vd(e,n,r,o)}finally{W.p=f,q.T=h}}function vd(e,n,r,o){if(Ec){var h=Ed(o);if(h===null)sd(e,n,o,Tc,r),E_(e,o);else if(e1(h,e,n,r,o))o.stopPropagation();else if(E_(e,o),n&4&&-1<t1.indexOf(e)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ei(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-he(p);E.entanglements[1]|=R,p&=~R}Ei(f),(Ht&6)===0&&(ic=$e()+500,rl(0))}}break;case 31:case 13:E=Es(f,2),E!==null&&ln(E,f,2),sc(),_d(f,2)}if(f=Ed(o),f===null&&sd(e,n,o,Tc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else sd(e,n,o,null,r)}}function Ed(e){return e=An(e),Td(e)}var Tc=null;function Td(e){if(Tc=null,e=ai(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Tc=e,null}function v_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rs()){case fo:return 2;case mo:return 8;case sr:case Rh:return 32;case Wl:return 268435456;default:return 32}default:return 32}}var Sd=!1,Vr=null,Mr=null,xr=null,hl=new Map,fl=new Map,kr=[],t1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E_(e,n){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(n.pointerId)}}function dl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&y_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function e1(e,n,r,o,h){switch(n){case"focusin":return Vr=dl(Vr,e,n,r,o,h),!0;case"dragenter":return Mr=dl(Mr,e,n,r,o,h),!0;case"mouseover":return xr=dl(xr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return hl.set(f,dl(hl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,fl.set(f,dl(fl.get(f)||null,e,n,r,o,h)),!0}return!1}function T_(e){var n=ai(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,zn(e.priority,function(){__(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,zn(e.priority,function(){__(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Ed(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Ro=o,r.target.dispatchEvent(o),Ro=null}else return n=Sn(r),n!==null&&y_(n),e.blockedOn=r,!1;n.shift()}return!0}function S_(e,n,r){Sc(e)&&r.delete(n)}function n1(){Sd=!1,Vr!==null&&Sc(Vr)&&(Vr=null),Mr!==null&&Sc(Mr)&&(Mr=null),xr!==null&&Sc(xr)&&(xr=null),hl.forEach(S_),fl.forEach(S_)}function Ac(e,n){e.blockedOn===n&&(e.blockedOn=null,Sd||(Sd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,n1)))}var bc=null;function A_(e){bc!==e&&(bc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){bc===e&&(bc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Td(o||r)===null)continue;break}var f=Sn(r);f!==null&&(e.splice(n,3),n-=3,Ef(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ua(e){function n(R){return Ac(R,e)}Vr!==null&&Ac(Vr,e),Mr!==null&&Ac(Mr,e),xr!==null&&Ac(xr,e),hl.forEach(n),fl.forEach(n);for(var r=0;r<kr.length;r++){var o=kr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<kr.length&&(r=kr[0],r.blockedOn===null);)T_(r),r.blockedOn===null&&kr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[Ve]||null;if(typeof f=="function")p||A_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ve]||null)E=p.formAction;else if(Td(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),A_(r)}}}function b_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ad(e){this._internalRoot=e}wc.prototype.render=Ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=_n();g_(r,o,e,n,null,null)},wc.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;g_(e.current,2,null,e,null,null),sc(),n[ri]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=su();e={blockedOn:null,target:e,priority:n};for(var r=0;r<kr.length&&n!==0&&n<kr[r].priority;r++);kr.splice(r,0,e),r===0&&T_(e)}};var w_=t.version;if(w_!=="19.2.4")throw Error(a(527,w_,"19.2.4"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var i1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Ln=Rc.inject(i1),Le=Rc}catch{}}return gl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Vp,f=Mp,p=xp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=d_(e,1,!1,null,null,r,o,null,h,f,p,b_),e[ri]=n.current,rd(e),new Ad(n)},gl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Vp,p=Mp,E=xp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=d_(e,1,!0,n,r??null,o,h,R,f,p,E,b_),n.context=m_(null),r=n.current,o=_n(),o=ls(o),h=Er(o),h.callback=null,Tr(r,h,o),r=o,n.current.lanes=r,as(n,r),Ei(n),e[ri]=n.current,rd(e),new wc(n)},gl.version="19.2.4",gl}var k_;function d1(){if(k_)return Rd.exports;k_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Rd.exports=f1(),Rd.exports}var m1=d1();const g1=()=>{};var U_={};const lE=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},p1=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},uE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,v=_?s[l+2]:0,S=c>>2,b=(c&3)<<4|g>>4;let M=(g&15)<<2|v>>6,Y=v&63;_||(Y=64,d||(M=64)),a.push(i[S],i[b],i[M],i[Y])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(lE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):p1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const v=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||v==null||b==null)throw new y1;const M=c<<2|g>>4;if(a.push(M),v!==64){const Y=g<<4&240|v>>2;if(a.push(Y),b!==64){const tt=v<<6&192|b;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class y1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _1=function(s){const t=lE(s);return uE.encodeByteArray(t,!0)},Hc=function(s){return _1(s).replace(/\./g,"")},cE=function(s){try{return uE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function v1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const E1=()=>v1().__FIREBASE_DEFAULTS__,T1=()=>{if(typeof process>"u"||typeof U_>"u")return;const s=U_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},S1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&cE(s[1]);return t&&JSON.parse(t)},uh=()=>{try{return g1()||E1()||T1()||S1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},hE=s=>uh()?.emulatorHosts?.[s],A1=s=>{const t=hE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},fE=()=>uh()?.config,dE=s=>uh()?.[`_${s}`];class b1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function eo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mE(s){return(await fetch(s,{credentials:"include"})).ok}function w1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const Al={};function R1(){const s={prod:[],emulator:[]};for(const t of Object.keys(Al))Al[t]?s.emulator.push(t):s.prod.push(t);return s}function I1(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let L_=!1;function gE(s,t){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||Al[s]===t||Al[s]||L_)return;Al[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=R1().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,Y){M.setAttribute("width","24"),M.setAttribute("id",Y),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function v(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{L_=!0,d()},M}function S(M,Y){M.setAttribute("id",Y),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function b(){const M=I1(a),Y=i("text"),tt=document.getElementById(Y)||document.createElement("span"),it=i("learnmore"),et=document.getElementById(it)||document.createElement("a"),ft=i("preprendIcon"),_t=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const yt=M.element;g(yt),S(et,it);const Lt=v();_(_t,ft),yt.append(_t,tt,et,Lt),document.body.appendChild(yt)}c?(tt.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function D1(){const s=uh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function O1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function V1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function M1(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function x1(){return!D1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k1(){try{return typeof indexedDB=="object"}catch{return!1}}function U1(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const L1="FirebaseError";class ir extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=L1,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?P1(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ir(l,g,a)}}function P1(s,t){return s.replace(z1,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const z1=/\{\$([^}]+)}/g;function B1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Ls(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(P_(c)&&P_(d)){if(!Ls(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function P_(s){return s!==null&&typeof s=="object"}function Hl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function yl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function _l(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function j1(s,t){const i=new q1(s,t);return i.subscribe.bind(i)}class q1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");H1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Nd),l.error===void 0&&(l.error=Nd),l.complete===void 0&&(l.complete=Nd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Nd(){}function En(s){return s&&s._delegate?s._delegate:s}class Ps{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ms="[DEFAULT]";class F1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new b1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(K1(t))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Ms){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ms){return this.instances.has(t)}getOptions(t=Ms){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:G1(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ms){return this.component?this.component.multipleInstances?t:Ms:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function G1(s){return s===Ms?void 0:s}function K1(s){return s.instantiationMode==="EAGER"}class Y1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new F1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ot||(Ot={}));const Q1={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},X1=Ot.INFO,J1={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},Z1=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=J1[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pm{constructor(t){this.name=t,this._logLevel=X1,this._logHandler=Z1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Q1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const $1=(s,t)=>t.some(i=>s instanceof i);let z_,B_;function W1(){return z_||(z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tA(){return B_||(B_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pE=new WeakMap,Fd=new WeakMap,yE=new WeakMap,Od=new WeakMap,ym=new WeakMap;function eA(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(qr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&pE.set(i,s)}).catch(()=>{}),ym.set(t,s),t}function nA(s){if(Fd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Fd.set(s,t)}let Gd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Fd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||yE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function iA(s){Gd=s(Gd)}function rA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Vd(this),t,...i);return yE.set(a,t.sort?t.sort():[t]),qr(a)}:tA().includes(s)?function(...t){return s.apply(Vd(this),t),qr(pE.get(this))}:function(...t){return qr(s.apply(Vd(this),t))}}function sA(s){return typeof s=="function"?rA(s):(s instanceof IDBTransaction&&nA(s),$1(s,W1())?new Proxy(s,Gd):s)}function qr(s){if(s instanceof IDBRequest)return eA(s);if(Od.has(s))return Od.get(s);const t=sA(s);return t!==s&&(Od.set(s,t),ym.set(t,s)),t}const Vd=s=>ym.get(s);function aA(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=qr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(qr(d.result),_.oldVersion,_.newVersion,qr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const oA=["get","getKey","getAll","getAllKeys","count"],lA=["put","add","delete","clear"],Md=new Map;function j_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Md.get(t))return Md.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=lA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||oA.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&_.done]))[0]};return Md.set(t,c),c}iA(s=>({...s,get:(t,i,a)=>j_(t,i)||s.get(t,i,a),has:(t,i)=>!!j_(t,i)||s.has(t,i)}));class uA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(cA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function cA(s){return s.getComponent()?.type==="VERSION"}const Kd="@firebase/app",q_="0.14.9";const $i=new pm("@firebase/app"),hA="@firebase/app-compat",fA="@firebase/analytics-compat",dA="@firebase/analytics",mA="@firebase/app-check-compat",gA="@firebase/app-check",pA="@firebase/auth",yA="@firebase/auth-compat",_A="@firebase/database",vA="@firebase/data-connect",EA="@firebase/database-compat",TA="@firebase/functions",SA="@firebase/functions-compat",AA="@firebase/installations",bA="@firebase/installations-compat",wA="@firebase/messaging",RA="@firebase/messaging-compat",IA="@firebase/performance",CA="@firebase/performance-compat",DA="@firebase/remote-config",NA="@firebase/remote-config-compat",OA="@firebase/storage",VA="@firebase/storage-compat",MA="@firebase/firestore",xA="@firebase/ai",kA="@firebase/firestore-compat",UA="firebase",LA="12.10.0";const Yd="[DEFAULT]",PA={[Kd]:"fire-core",[hA]:"fire-core-compat",[dA]:"fire-analytics",[fA]:"fire-analytics-compat",[gA]:"fire-app-check",[mA]:"fire-app-check-compat",[pA]:"fire-auth",[yA]:"fire-auth-compat",[_A]:"fire-rtdb",[vA]:"fire-data-connect",[EA]:"fire-rtdb-compat",[TA]:"fire-fn",[SA]:"fire-fn-compat",[AA]:"fire-iid",[bA]:"fire-iid-compat",[wA]:"fire-fcm",[RA]:"fire-fcm-compat",[IA]:"fire-perf",[CA]:"fire-perf-compat",[DA]:"fire-rc",[NA]:"fire-rc-compat",[OA]:"fire-gcs",[VA]:"fire-gcs-compat",[MA]:"fire-fst",[kA]:"fire-fst-compat",[xA]:"fire-vertex","fire-js":"fire-js",[UA]:"fire-js-all"};const Fc=new Map,zA=new Map,Qd=new Map;function H_(s,t){try{s.container.addComponent(t)}catch(i){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Xa(s){const t=s.name;if(Qd.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;Qd.set(t,s);for(const i of Fc.values())H_(i,s);for(const i of zA.values())H_(i,s);return!0}function _m(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function vn(s){return s==null?!1:s.settings!==void 0}const BA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new ql("app","Firebase",BA);class jA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}const no=LA;function _E(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Yd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Hr.create("bad-app-name",{appName:String(l)});if(i||(i=fE()),!i)throw Hr.create("no-options");const c=Fc.get(l);if(c){if(Ls(i,c.options)&&Ls(a,c.config))return c;throw Hr.create("duplicate-app",{appName:l})}const d=new Y1(l);for(const _ of Qd.values())d.addComponent(_);const g=new jA(i,a,d);return Fc.set(l,g),g}function vE(s=Yd){const t=Fc.get(s);if(!t&&s===Yd&&fE())return _E();if(!t)throw Hr.create("no-app",{appName:s});return t}function Fr(s,t,i){let a=PA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}Xa(new Ps(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const qA="firebase-heartbeat-database",HA=1,Ol="firebase-heartbeat-store";let xd=null;function EE(){return xd||(xd=aA(qA,HA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ol)}catch(i){console.warn(i)}}}}).catch(s=>{throw Hr.create("idb-open",{originalErrorMessage:s.message})})),xd}async function FA(s){try{const i=(await EE()).transaction(Ol),a=await i.objectStore(Ol).get(TE(s));return await i.done,a}catch(t){if(t instanceof ir)$i.warn(t.message);else{const i=Hr.create("idb-get",{originalErrorMessage:t?.message});$i.warn(i.message)}}}async function F_(s,t){try{const a=(await EE()).transaction(Ol,"readwrite");await a.objectStore(Ol).put(t,TE(s)),await a.done}catch(i){if(i instanceof ir)$i.warn(i.message);else{const a=Hr.create("idb-set",{originalErrorMessage:i?.message});$i.warn(a.message)}}}function TE(s){return`${s.name}!${s.options.appId}`}const GA=1024,KA=30;class YA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new XA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=G_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>KA){const l=JA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){$i.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=G_(),{heartbeatsToSend:i,unsentEntries:a}=QA(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return $i.warn(t),""}}}function G_(){return new Date().toISOString().substring(0,10)}function QA(s,t=GA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),K_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),K_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class XA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k1()?U1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await FA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return F_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return F_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function K_(s){return Hc(JSON.stringify({version:2,heartbeats:s})).length}function JA(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function ZA(s){Xa(new Ps("platform-logger",t=>new uA(t),"PRIVATE")),Xa(new Ps("heartbeat",t=>new YA(t),"PRIVATE")),Fr(Kd,q_,s),Fr(Kd,q_,"esm2020"),Fr("fire-js","")}ZA("");var $A="firebase",WA="12.10.0";Fr($A,WA,"app");function SE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tb=SE,AE=new ql("auth","Firebase",SE());const Gc=new pm("@firebase/auth");function eb(s,...t){Gc.logLevel<=Ot.WARN&&Gc.warn(`Auth (${no}): ${s}`,...t)}function Mc(s,...t){Gc.logLevel<=Ot.ERROR&&Gc.error(`Auth (${no}): ${s}`,...t)}function Un(s,...t){throw Em(s,...t)}function Zn(s,...t){return Em(s,...t)}function vm(s,t,i){const a={...tb(),[t]:i};return new ql("auth","Firebase",a).create(t,{appName:s.name})}function Ji(s){return vm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nb(s,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Un(s,"argument-error"),vm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Em(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return AE.create(s,...t)}function mt(s,t,...i){if(!s)throw Em(t,...i)}function Qi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Mc(t),new Error(t)}function Wi(s,t){s||Qi(t)}function Xd(){return typeof self<"u"&&self.location?.href||""}function ib(){return Y_()==="http:"||Y_()==="https:"}function Y_(){return typeof self<"u"&&self.location?.protocol||null}function rb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ib()||O1()||"connection"in navigator)?navigator.onLine:!0}function sb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Fl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Wi(i>t,"Short delay should be less than long delay!"),this.isMobile=C1()||V1()}get(){return rb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tm(s,t){Wi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class bE{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ab={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ob=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lb=new Fl(3e4,6e4);function Wr(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ts(s,t,i,a,l={}){return wE(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Hl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const v={method:t,headers:_,...c};return N1()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&eo(s.emulatorConfig.host)&&(v.credentials="include"),bE.fetch()(await RE(s,s.config.apiHost,i,g),v)})}async function wE(s,t,i){s._canInitEmulator=!1;const a={...ab,...t};try{const l=new cb(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ic(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,v]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Ic(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Ic(s,"user-disabled",d);const S=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw vm(s,S,v);Un(s,S)}}catch(l){if(l instanceof ir)throw l;Un(s,"network-request-failed",{message:String(l)})}}async function Gl(s,t,i,a,l={}){const c=await ts(s,t,i,a,l);return"mfaPendingCredential"in c&&Un(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function RE(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Tm(s.config,l):`${s.config.apiScheme}://${l}`;return ob.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function ub(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Zn(this.auth,"network-request-failed")),lb.get())})}}function Ic(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Zn(s,t,a);return l.customData._tokenResponse=i,l}function Q_(s){return s!==void 0&&s.enterprise!==void 0}class hb{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return ub(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fb(s,t){return ts(s,"GET","/v2/recaptchaConfig",Wr(s,t))}async function db(s,t){return ts(s,"POST","/v1/accounts:delete",t)}async function Kc(s,t){return ts(s,"POST","/v1/accounts:lookup",t)}function bl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function mb(s,t=!1){const i=En(s),a=await i.getIdToken(t),l=Sm(a);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:bl(kd(l.auth_time)),issuedAtTime:bl(kd(l.iat)),expirationTime:bl(kd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function kd(s){return Number(s)*1e3}function Sm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const l=cE(i);return l?JSON.parse(l):(Mc("Failed to decode base64 JWT payload"),null)}catch(l){return Mc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function X_(s){const t=Sm(s);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Vl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ir&&gb(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function gb({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class pb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yc(s){const t=s.auth,i=await s.getIdToken(),a=await Vl(s,Kc(t,{idToken:i}));mt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?IE(l.providerUserInfo):[],d=_b(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,v=g?_:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(s,S)}async function yb(s){const t=En(s);await Yc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _b(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function IE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function vb(s,t){const i=await wE(s,{},async()=>{const a=Hl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await RE(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&eo(s.emulatorConfig.host)&&(_.credentials="include"),bE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Eb(s,t){return ts(s,"POST","/v2/accounts:revokeToken",Wr(s,t))}class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):X_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=X_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await vb(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Fa;return a&&(mt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(mt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Qi("not implemented")}}function Lr(s,t){mt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new pb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Jd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Vl(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return mb(this,t)}reload(){return yb(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Yc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vn(this.auth.app))return Promise.reject(Ji(this.auth));const t=await this.getIdToken();return await Vl(this,db(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:b,emailVerified:M,isAnonymous:Y,providerData:tt,stsTokenManager:it}=i;mt(b&&it,t,"internal-error");const et=Fa.fromJSON(this.name,it);mt(typeof b=="string",t,"internal-error"),Lr(a,t.name),Lr(l,t.name),mt(typeof M=="boolean",t,"internal-error"),mt(typeof Y=="boolean",t,"internal-error"),Lr(c,t.name),Lr(d,t.name),Lr(g,t.name),Lr(_,t.name),Lr(v,t.name),Lr(S,t.name);const ft=new Xn({uid:b,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:et,createdAt:v,lastLoginAt:S});return tt&&Array.isArray(tt)&&(ft.providerData=tt.map(_t=>({..._t}))),_&&(ft._redirectEventId=_),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new Fa;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Yc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?IE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Fa;g.updateFromIdToken(a);const _=new Xn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,v),_}}const J_=new Map;function Xi(s){Wi(s instanceof Function,"Expected a class definition");let t=J_.get(s);return t?(Wi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,J_.set(s,t),t)}class CE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}CE.type="NONE";const Z_=CE;function xc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ga{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=xc(this.userKey,l.apiKey,c),this.fullPersistenceKey=xc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Kc(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ga(Xi(Z_),t,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Xi(Z_);const d=xc(a,t.config.apiKey,t.name);let g=null;for(const v of i)try{const S=await v._get(d);if(S){let b;if(typeof S=="string"){const M=await Kc(t,{idToken:S}).catch(()=>{});if(!M)break;b=await Xn._fromGetAccountInfoResponse(t,M,S)}else b=Xn._fromJSON(t,S);v!==c&&(g=b),c=v;break}}catch{}const _=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ga(c,t,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Ga(c,t,a))}}function $_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(VE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(DE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xE(t))return"Blackberry";if(kE(t))return"Webos";if(NE(t))return"Safari";if((t.includes("chrome/")||OE(t))&&!t.includes("edge/"))return"Chrome";if(ME(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function DE(s=Ze()){return/firefox\//i.test(s)}function NE(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function OE(s=Ze()){return/crios\//i.test(s)}function VE(s=Ze()){return/iemobile/i.test(s)}function ME(s=Ze()){return/android/i.test(s)}function xE(s=Ze()){return/blackberry/i.test(s)}function kE(s=Ze()){return/webos/i.test(s)}function Am(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Tb(s=Ze()){return Am(s)&&!!window.navigator?.standalone}function Sb(){return M1()&&document.documentMode===10}function UE(s=Ze()){return Am(s)||ME(s)||kE(s)||xE(s)||/windows phone/i.test(s)||VE(s)}function LE(s,t=[]){let i;switch(s){case"Browser":i=$_(Ze());break;case"Worker":i=`${$_(Ze())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${no}/${a}`}class Ab{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function bb(s,t={}){return ts(s,"GET","/v2/passwordPolicy",Wr(s,t))}const wb=6;class Rb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??wb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Ib{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W_(this),this.idTokenSubscription=new W_(this),this.beforeStateQueue=new Ab(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Kc(this,{idToken:t}),a=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(vn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Yc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=sb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(vn(this.app))return Promise.reject(Ji(this));const i=t?En(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return vn(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return vn(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await bb(this),i=new Rb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ql("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Eb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=LE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&eb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function es(s){return En(s)}class W_{constructor(t){this.auth=t,this.observer=null,this.addObserver=j1(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cb(s){ch=s}function PE(s){return ch.loadJS(s)}function Db(){return ch.recaptchaEnterpriseScript}function Nb(){return ch.gapiScript}function Ob(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Vb{constructor(){this.enterprise=new Mb}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class Mb{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const xb="recaptcha-enterprise",zE="NO_RECAPTCHA";class kb{constructor(t){this.type=xb,this.auth=es(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{fb(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const v=new hb(_);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(_=>{g(_)})})}function l(c,d,g){const _=window.grecaptcha;Q_(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(v=>{d(v)}).catch(()=>{d(zE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Vb().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(g=>{if(!i&&Q_(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=Db();_.length!==0&&(_+=g),PE(_).then(()=>{l(g,c,d)}).catch(v=>{d(v)})}}).catch(g=>{d(g)})})}}async function tv(s,t,i,a=!1,l=!1){const c=new kb(s);let d;if(l)d=zE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const _=g.phoneEnrollmentInfo.phoneNumber,v=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const _=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return a?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Zd(s,t,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await tv(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await tv(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function Ub(s,t){const i=_m(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ls(c,t??{}))return l;Un(l,"already-initialized")}return i.initialize({options:t})}function Lb(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function Pb(s,t,i){const a=es(s);mt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=BE(t),{host:d,port:g}=zb(t),_=g===null?"":`:${g}`,v={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){mt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),mt(Ls(v,a.config.emulator)&&Ls(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,eo(d)?(mE(`${c}//${d}${_}`),gE("Auth",!0)):Bb()}function BE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function zb(s){const t=BE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:ev(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:ev(d)}}}function ev(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Bb(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class bm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Qi("not implemented")}_getIdTokenResponse(t){return Qi("not implemented")}_linkToIdToken(t,i){return Qi("not implemented")}_getReauthenticationResolver(t){return Qi("not implemented")}}async function jb(s,t){return ts(s,"POST","/v1/accounts:signUp",t)}async function qb(s,t){return Gl(s,"POST","/v1/accounts:signInWithPassword",Wr(s,t))}async function Hb(s,t){return Gl(s,"POST","/v1/accounts:signInWithEmailLink",Wr(s,t))}async function Fb(s,t){return Gl(s,"POST","/v1/accounts:signInWithEmailLink",Wr(s,t))}class Ml extends bm{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Ml(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Ml(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zd(t,i,"signInWithPassword",qb);case"emailLink":return Hb(t,{email:this._email,oobCode:this._password});default:Un(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zd(t,a,"signUpPassword",jb);case"emailLink":return Fb(t,{idToken:i,email:this._email,oobCode:this._password});default:Un(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ka(s,t){return Gl(s,"POST","/v1/accounts:signInWithIdp",Wr(s,t))}const Gb="http://localhost";class tr extends bm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new tr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Un("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new tr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ka(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ka(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ka(t,i)}buildRequest(){const t={requestUri:Gb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Hl(i)}return t}}function Kb(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yb(s){const t=yl(_l(s)).link,i=t?yl(_l(t)).deep_link_id:null,a=yl(_l(s)).deep_link_id;return(a?yl(_l(a)).link:null)||a||i||t||s}class wm{constructor(t){const i=yl(_l(t)),a=i.apiKey??null,l=i.oobCode??null,c=Kb(i.mode??null);mt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=Yb(t);try{return new wm(i)}catch{return null}}}class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(t,i){return Ml._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=wm.parseLink(i);return mt(a,"argument-error"),Ml._fromEmailAndCode(t,a.code,a.tenantId)}}io.PROVIDER_ID="password";io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Rm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ro extends Rm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class wl extends ro{static credentialFromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;return mt("providerId"in i&&"signInMethod"in i,"argument-error"),tr._fromParams(i)}credential(t){return this._credential({...t,nonce:t.rawNonce})}_credential(t){return mt(t.idToken||t.accessToken,"argument-error"),tr._fromParams({...t,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(t){return wl.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return wl.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a,oauthTokenSecret:l,pendingToken:c,nonce:d,providerId:g}=t;if(!a&&!l&&!i&&!c||!g)return null;try{return new wl(g)._credential({idToken:i,accessToken:a,nonce:d,pendingToken:c})}catch{return null}}}class Pr extends ro{constructor(){super("facebook.com")}static credential(t){return tr._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";class Yi extends ro{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return tr._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Yi.credentialFromTaggedObject(t)}static credentialFromError(t){return Yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Yi.credential(i,a)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";class zr extends ro{constructor(){super("github.com")}static credential(t){return tr._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";class Br extends ro{constructor(){super("twitter.com")}static credential(t,i){return tr._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Br.credential(i,a)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";async function Qb(s,t){return Gl(s,"POST","/v1/accounts:signUp",Wr(s,t))}class zs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Xn._fromIdTokenResponse(t,a,l),d=nv(a);return new zs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=nv(a);return new zs({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function nv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Qc extends ir{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Qc(t,i,a,l)}}function jE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Qc._fromErrorAndOperation(s,c,t,a):c})}async function Xb(s,t,i=!1){const a=await Vl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return zs._forOperation(s,"link",a)}async function Jb(s,t,i=!1){const{auth:a}=s;if(vn(a.app))return Promise.reject(Ji(a));const l="reauthenticate";try{const c=await Vl(s,jE(a,l,t,s),i);mt(c.idToken,a,"internal-error");const d=Sm(c.idToken);mt(d,a,"internal-error");const{sub:g}=d;return mt(s.uid===g,a,"user-mismatch"),zs._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Un(a,"user-mismatch"),c}}async function qE(s,t,i=!1){if(vn(s.app))return Promise.reject(Ji(s));const a="signIn",l=await jE(s,a,t),c=await zs._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function Zb(s,t){return qE(es(s),t)}async function HE(s){const t=es(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function $b(s,t,i){if(vn(s.app))return Promise.reject(Ji(s));const a=es(s),d=await Zd(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qb).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&HE(s),_}),g=await zs._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(g.user),g}function Wb(s,t,i){return vn(s.app)?Promise.reject(Ji(s)):Zb(En(s),io.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&HE(s),a})}function tw(s,t,i,a){return En(s).onIdTokenChanged(t,i,a)}function ew(s,t,i){return En(s).beforeAuthStateChanged(t,i)}function nw(s,t,i,a){return En(s).onAuthStateChanged(t,i,a)}function iw(s){return En(s).signOut()}const Xc="__sak";class FE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const rw=1e3,sw=10;class GE extends FE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Sb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,sw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},rw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}GE.type="LOCAL";const aw=GE;class KE extends FE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}KE.type="SESSION";const YE=KE;function ow(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class hh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new hh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,c)),_=await ow(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];function Im(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class lw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const v=Im("",20);l.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const M=b;if(M.data.eventId===v)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Si(){return window}function uw(s){Si().location.href=s}function QE(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function cw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hw(){return navigator?.serviceWorker?.controller||null}function fw(){return QE()?self:null}const XE="firebaseLocalStorageDb",dw=1,Jc="firebaseLocalStorage",JE="fbase_key";class Kl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function fh(s,t){return s.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function mw(){const s=indexedDB.deleteDatabase(XE);return new Kl(s).toPromise()}function $d(){const s=indexedDB.open(XE,dw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Jc,{keyPath:JE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Jc)?t(a):(a.close(),await mw(),t(await $d()))})})}async function iv(s,t,i){const a=fh(s,!0).put({[JE]:t,value:i});return new Kl(a).toPromise()}async function gw(s,t){const i=fh(s,!1).get(t),a=await new Kl(i).toPromise();return a===void 0?null:a.value}function rv(s,t){const i=fh(s,!0).delete(t);return new Kl(i).toPromise()}const pw=800,yw=3;class ZE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $d(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>yw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(fw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cw(),!this.activeServiceWorker)return;this.sender=new lw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||hw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $d();return await iv(t,Xc,"1"),await rv(t,Xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>iv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>gw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>rv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=fh(l,!1).getAll();return new Kl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZE.type="LOCAL";const _w=ZE;new Fl(3e4,6e4);function $E(s,t){return t?Xi(t):(mt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Cm extends bm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ka(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ka(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function vw(s){return qE(s.auth,new Cm(s),s.bypassAuthState)}function Ew(s){const{auth:t,user:i}=s;return mt(i,t,"internal-error"),Jb(i,new Cm(s),s.bypassAuthState)}async function Tw(s){const{auth:t,user:i}=s;return mt(i,t,"internal-error"),Xb(i,new Cm(s),s.bypassAuthState)}class WE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return vw;case"linkViaPopup":case"linkViaRedirect":return Tw;case"reauthViaPopup":case"reauthViaRedirect":return Ew;default:Un(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sw=new Fl(2e3,1e4);async function sv(s,t,i){if(vn(s.app))return Promise.reject(Zn(s,"operation-not-supported-in-this-environment"));const a=es(s);nb(s,t,Rm);const l=$E(a,i);return new xs(a,"signInViaPopup",t,l).executeNotNull()}class xs extends WE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Sw.get())};t()}}xs.currentPopupAction=null;const Aw="pendingRedirect",kc=new Map;class bw extends WE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=kc.get(this.auth._key());if(!t){try{const a=await ww(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}kc.set(this.auth._key(),t)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ww(s,t){const i=Cw(t),a=Iw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Rw(s,t){kc.set(s._key(),t)}function Iw(s){return Xi(s._redirectPersistence)}function Cw(s){return xc(Aw,s.config.apiKey,s.name)}async function Dw(s,t,i=!1){if(vn(s.app))return Promise.reject(Ji(s));const a=es(s),l=$E(a,t),d=await new bw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Nw=600*1e3;class Ow{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Vw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!tT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Zn(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Nw&&this.cachedEventUids.clear(),this.cachedEventUids.has(av(t))}saveEventToCache(t){this.cachedEventUids.add(av(t)),this.lastProcessedEventTime=Date.now()}}function av(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function tT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function Vw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tT(s);default:return!1}}async function Mw(s,t={}){return ts(s,"GET","/v1/projects",t)}const xw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kw=/^https?/;async function Uw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Mw(s);for(const i of t)try{if(Lw(i))return}catch{}Un(s,"unauthorized-domain")}function Lw(s){const t=Xd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!kw.test(i))return!1;if(xw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Pw=new Fl(3e4,6e4);function ov(){const s=Si().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function zw(s){return new Promise((t,i)=>{function a(){ov(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ov(),i(Zn(s,"network-request-failed"))},timeout:Pw.get()})}if(Si().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Si().gapi?.load)a();else{const l=Ob("iframefcb");return Si()[l]=()=>{gapi.load?a():i(Zn(s,"network-request-failed"))},PE(`${Nb()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Uc=null,t})}let Uc=null;function Bw(s){return Uc=Uc||zw(s),Uc}const jw=new Fl(5e3,15e3),qw="__/auth/iframe",Hw="emulator/auth/iframe",Fw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kw(s){const t=s.config;mt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Tm(t,Hw):`https://${s.config.authDomain}/${qw}`,a={apiKey:t.apiKey,appName:s.name,v:no},l=Gw.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Hl(a).slice(1)}`}async function Yw(s){const t=await Bw(s),i=Si().gapi;return mt(i,s,"internal-error"),t.open({where:document.body,url:Kw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Zn(s,"network-request-failed"),g=Si().setTimeout(()=>{c(d)},jw.get());function _(){Si().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const Qw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xw=500,Jw=600,Zw="_blank",$w="http://localhost";class lv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ww(s,t,i,a=Xw,l=Jw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...Qw,width:a.toString(),height:l.toString(),top:c,left:d},v=Ze().toLowerCase();i&&(g=OE(v)?Zw:i),DE(v)&&(t=t||$w,_.scrollbars="yes");const S=Object.entries(_).reduce((M,[Y,tt])=>`${M}${Y}=${tt},`,"");if(Tb(v)&&g!=="_self")return t2(t||"",g),new lv(null);const b=window.open(t||"",g,S);mt(b,s,"popup-blocked");try{b.focus()}catch{}return new lv(b)}function t2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const e2="__/auth/handler",n2="emulator/auth/handler",i2=encodeURIComponent("fac");async function uv(s,t,i,a,l,c){mt(s.config.authDomain,s,"auth-domain-config-required"),mt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:no,eventId:l};if(t instanceof Rm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",B1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,b]of Object.entries({}))d[S]=b}if(t instanceof ro){const S=t.getScopes().filter(b=>b!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const _=await s._getAppCheckToken(),v=_?`#${i2}=${encodeURIComponent(_)}`:"";return`${r2(s)}?${Hl(g).slice(1)}${v}`}function r2({config:s}){return s.emulator?Tm(s,n2):`https://${s.authDomain}/${e2}`}const Ud="webStorageSupport";class s2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YE,this._completeRedirectFn=Dw,this._overrideRedirectResult=Rw}async _openPopup(t,i,a,l){Wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await uv(t,i,a,Xd(),l);return Ww(t,c,Im())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await uv(t,i,a,Xd(),l);return uw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Wi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Yw(t),a=new Ow(t);return i.register("authEvent",l=>(mt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ud,{type:Ud},l=>{const c=l?.[0]?.[Ud];c!==void 0&&i(!!c),Un(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Uw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return UE()||NE()||Am()}}const a2=s2;var cv="@firebase/auth",hv="1.12.1";class o2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function l2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u2(s){Xa(new Ps("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LE(s)},v=new Ib(a,l,c,_);return Lb(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Xa(new Ps("auth-internal",t=>{const i=es(t.getProvider("auth").getImmediate());return(a=>new o2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(cv,hv,l2(s)),Fr(cv,hv,"esm2020")}const c2=300,h2=dE("authIdTokenMaxAge")||c2;let fv=null;const f2=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>h2)return;const l=i?.token;fv!==l&&(fv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function d2(s=vE()){const t=_m(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Ub(s,{popupRedirectResolver:a2,persistence:[_w,aw,YE]}),a=dE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=f2(c.toString());ew(i,d,()=>d(i.currentUser)),tw(i,g=>d(g))}}const l=hE("auth");return l&&Pb(i,`http://${l}`),i}function m2(){return document.getElementsByTagName("head")?.[0]??document}Cb({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Zn("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",m2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u2("Browser");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gr,eT;(function(){var s;function t(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,D,k){for(var w=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)w[Pt-2]=arguments[Pt];return A.prototype[D].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)V[D]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],D=C.g[2];let k=C.g[3],w;w=A+(k^I&(D^k))+V[0]+3614090360&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(D^A&(I^D))+V[1]+3905402710&4294967295,k=A+(w<<12&4294967295|w>>>20),w=D+(I^k&(A^I))+V[2]+606105819&4294967295,D=k+(w<<17&4294967295|w>>>15),w=I+(A^D&(k^A))+V[3]+3250441966&4294967295,I=D+(w<<22&4294967295|w>>>10),w=A+(k^I&(D^k))+V[4]+4118548399&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(D^A&(I^D))+V[5]+1200080426&4294967295,k=A+(w<<12&4294967295|w>>>20),w=D+(I^k&(A^I))+V[6]+2821735955&4294967295,D=k+(w<<17&4294967295|w>>>15),w=I+(A^D&(k^A))+V[7]+4249261313&4294967295,I=D+(w<<22&4294967295|w>>>10),w=A+(k^I&(D^k))+V[8]+1770035416&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(D^A&(I^D))+V[9]+2336552879&4294967295,k=A+(w<<12&4294967295|w>>>20),w=D+(I^k&(A^I))+V[10]+4294925233&4294967295,D=k+(w<<17&4294967295|w>>>15),w=I+(A^D&(k^A))+V[11]+2304563134&4294967295,I=D+(w<<22&4294967295|w>>>10),w=A+(k^I&(D^k))+V[12]+1804603682&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(D^A&(I^D))+V[13]+4254626195&4294967295,k=A+(w<<12&4294967295|w>>>20),w=D+(I^k&(A^I))+V[14]+2792965006&4294967295,D=k+(w<<17&4294967295|w>>>15),w=I+(A^D&(k^A))+V[15]+1236535329&4294967295,I=D+(w<<22&4294967295|w>>>10),w=A+(D^k&(I^D))+V[1]+4129170786&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^D&(A^I))+V[6]+3225465664&4294967295,k=A+(w<<9&4294967295|w>>>23),w=D+(A^I&(k^A))+V[11]+643717713&4294967295,D=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(D^k))+V[0]+3921069994&4294967295,I=D+(w<<20&4294967295|w>>>12),w=A+(D^k&(I^D))+V[5]+3593408605&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^D&(A^I))+V[10]+38016083&4294967295,k=A+(w<<9&4294967295|w>>>23),w=D+(A^I&(k^A))+V[15]+3634488961&4294967295,D=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(D^k))+V[4]+3889429448&4294967295,I=D+(w<<20&4294967295|w>>>12),w=A+(D^k&(I^D))+V[9]+568446438&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^D&(A^I))+V[14]+3275163606&4294967295,k=A+(w<<9&4294967295|w>>>23),w=D+(A^I&(k^A))+V[3]+4107603335&4294967295,D=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(D^k))+V[8]+1163531501&4294967295,I=D+(w<<20&4294967295|w>>>12),w=A+(D^k&(I^D))+V[13]+2850285829&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^D&(A^I))+V[2]+4243563512&4294967295,k=A+(w<<9&4294967295|w>>>23),w=D+(A^I&(k^A))+V[7]+1735328473&4294967295,D=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(D^k))+V[12]+2368359562&4294967295,I=D+(w<<20&4294967295|w>>>12),w=A+(I^D^k)+V[5]+4294588738&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^D)+V[8]+2272392833&4294967295,k=A+(w<<11&4294967295|w>>>21),w=D+(k^A^I)+V[11]+1839030562&4294967295,D=k+(w<<16&4294967295|w>>>16),w=I+(D^k^A)+V[14]+4259657740&4294967295,I=D+(w<<23&4294967295|w>>>9),w=A+(I^D^k)+V[1]+2763975236&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^D)+V[4]+1272893353&4294967295,k=A+(w<<11&4294967295|w>>>21),w=D+(k^A^I)+V[7]+4139469664&4294967295,D=k+(w<<16&4294967295|w>>>16),w=I+(D^k^A)+V[10]+3200236656&4294967295,I=D+(w<<23&4294967295|w>>>9),w=A+(I^D^k)+V[13]+681279174&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^D)+V[0]+3936430074&4294967295,k=A+(w<<11&4294967295|w>>>21),w=D+(k^A^I)+V[3]+3572445317&4294967295,D=k+(w<<16&4294967295|w>>>16),w=I+(D^k^A)+V[6]+76029189&4294967295,I=D+(w<<23&4294967295|w>>>9),w=A+(I^D^k)+V[9]+3654602809&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^D)+V[12]+3873151461&4294967295,k=A+(w<<11&4294967295|w>>>21),w=D+(k^A^I)+V[15]+530742520&4294967295,D=k+(w<<16&4294967295|w>>>16),w=I+(D^k^A)+V[2]+3299628645&4294967295,I=D+(w<<23&4294967295|w>>>9),w=A+(D^(I|~k))+V[0]+4096336452&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~D))+V[7]+1126891415&4294967295,k=A+(w<<10&4294967295|w>>>22),w=D+(A^(k|~I))+V[14]+2878612391&4294967295,D=k+(w<<15&4294967295|w>>>17),w=I+(k^(D|~A))+V[5]+4237533241&4294967295,I=D+(w<<21&4294967295|w>>>11),w=A+(D^(I|~k))+V[12]+1700485571&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~D))+V[3]+2399980690&4294967295,k=A+(w<<10&4294967295|w>>>22),w=D+(A^(k|~I))+V[10]+4293915773&4294967295,D=k+(w<<15&4294967295|w>>>17),w=I+(k^(D|~A))+V[1]+2240044497&4294967295,I=D+(w<<21&4294967295|w>>>11),w=A+(D^(I|~k))+V[8]+1873313359&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~D))+V[15]+4264355552&4294967295,k=A+(w<<10&4294967295|w>>>22),w=D+(A^(k|~I))+V[6]+2734768916&4294967295,D=k+(w<<15&4294967295|w>>>17),w=I+(k^(D|~A))+V[13]+1309151649&4294967295,I=D+(w<<21&4294967295|w>>>11),w=A+(D^(I|~k))+V[4]+4149444226&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~D))+V[11]+3174756917&4294967295,k=A+(w<<10&4294967295|w>>>22),w=D+(A^(k|~I))+V[2]+718787259&4294967295,D=k+(w<<15&4294967295|w>>>17),w=I+(k^(D|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<A;){if(D==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<A;)if(V[D++]=C.charCodeAt(k++),D==this.blockSize){l(this,V),D=0;break}}else for(;k<A;)if(V[D++]=C[k++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[A++]=this.g[I]>>>V&255;return C};function c(C,A){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function d(C,A){this.h=A;const I=[];let V=!0;for(let D=C.length-1;D>=0;D--){const k=C[D]|0;V&&k==A||(I[D]=k,V=!1)}this.g=I}var g={};function _(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return et(v(-C));const A=[];let I=1;for(let V=0;C>=I;V++)A[V]=C/I|0,I*=4294967296;return new d(A,0)}function S(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return et(S(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(A,8));let V=b;for(let k=0;k<C.length;k+=8){var D=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+D),A);D<8?(D=v(Math.pow(A,D)),V=V.j(D).add(v(w))):(V=V.j(I),V=V.add(v(w)))}return V}var b=_(0),M=_(1),Y=_(16777216);s=d.prototype,s.m=function(){if(it(this))return-et(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(tt(this))return"0";if(it(this))return"-"+et(this).toString(C);const A=v(Math.pow(C,6));var I=this;let V="";for(;;){const D=Lt(I,A).g;I=ft(I,D.j(A));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=D,tt(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function tt(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function it(C){return C.h==-1}s.l=function(C){return C=ft(this,C),it(C)?-1:tt(C)?0:1};function et(C){const A=C.g.length,I=[];for(let V=0;V<A;V++)I[V]=~C.g[V];return new d(I,~C.h).add(M)}s.abs=function(){return it(this)?et(this):this},s.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let D=0;D<=A;D++){let k=V+(this.i(D)&65535)+(C.i(D)&65535),w=(k>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=w>>>16,k&=65535,w&=65535,I[D]=w<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ft(C,A){return C.add(et(A))}s.j=function(C){if(tt(this)||tt(C))return b;if(it(this))return it(C)?et(this).j(et(C)):et(et(this).j(C));if(it(C))return et(this.j(et(C)));if(this.l(Y)<0&&C.l(Y)<0)return v(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const k=this.i(V)>>>16,w=this.i(V)&65535,Pt=C.i(D)>>>16,ce=C.i(D)&65535;I[2*V+2*D]+=w*ce,_t(I,2*V+2*D),I[2*V+2*D+1]+=k*ce,_t(I,2*V+2*D+1),I[2*V+2*D+1]+=w*Pt,_t(I,2*V+2*D+1),I[2*V+2*D+2]+=k*Pt,_t(I,2*V+2*D+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new d(I,0)};function _t(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function yt(C,A){this.g=C,this.h=A}function Lt(C,A){if(tt(A))throw Error("division by zero");if(tt(C))return new yt(b,b);if(it(C))return A=Lt(et(C),A),new yt(et(A.g),et(A.h));if(it(A))return A=Lt(C,et(A)),new yt(et(A.g),A.h);if(C.g.length>30){if(it(C)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=A;V.l(C)<=0;)I=Wt(I),V=Wt(V);var D=At(I,1),k=At(V,1);for(V=At(V,2),I=At(I,2);!tt(V);){var w=k.add(V);w.l(C)<=0&&(D=D.add(I),k=w),V=At(V,1),I=At(I,1)}return A=ft(C,D.j(A)),new yt(D,A)}for(D=b;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=v(I),w=k.j(A);it(w)||w.l(C)>0;)I-=V,k=v(I),w=k.j(A);tt(k)&&(k=M),D=D.add(k),C=ft(C,w)}return new yt(D,C)}s.B=function(C){return Lt(this,C).h},s.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function Wt(C){const A=C.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function At(C,A){const I=A>>5;A%=32;const V=C.g.length-I,D=[];for(let k=0;k<V;k++)D[k]=A>0?C.i(k+I)>>>A|C.i(k+I+1)<<32-A:C.i(k+I);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,eT=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,Gr=d}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nT,vl,iT,Lc,Wd,rT,sT,aT;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in y))break t;y=y[U]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,y){return u.call.apply(u.bind,arguments)}function v(u,m,y){return v=_,v.apply(null,arguments)}function S(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var $=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)$[bt-2]=arguments[bt];return m.prototype[U].apply(T,$)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var y=typeof U;if(y=y!="object"?y:U?Array.isArray(U)?"array":y:"null",y=="array"||y=="object"&&typeof U.length=="number"){y=u.length||0;const B=U.length||0;u.length=y+B;for(let $=0;$<B;$++)u[y+$]=U[$]}else u.push(U)}}class it{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,y){const T=yt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var yt=new it(()=>new Lt,u=>u.reset());class Lt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,At=!1,C=new _t,A=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(I)}};function I(){for(var u;u=ft();){try{u.h.call(u.g)}catch(y){et(y)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}At=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Pt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(Pt,D),Pt.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Pt.Z.h.call(this)},Pt.prototype.h=function(){Pt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),q=0;function W(u,m,y,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=U,this.key=++q,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function zt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function O(u){const m={};for(const y in u)m[y]=u[y];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(u,m){let y,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(y in T)u[y]=T[y];for(let B=0;B<G.length;B++)y=G[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function nt(u){this.src=u,this.g={},this.h=0}nt.prototype.add=function(u,m,y,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const $=gt(u,m,T,U);return $>-1?(m=u[$],y||(m.fa=!1)):(m=new W(m,this.src,B,!!T,U),m.fa=y,u.push(m)),m};function at(u,m){const y=m.type;if(y in u.g){var T=u.g[y],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(ut(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function gt(u,m,y,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==T)return U}return-1}var St="closure_lm_"+(Math.random()*1e6|0),Ie={};function ie(u,m,y,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ie(u,m[B],y,T,U);return null}return y=ho(y),u&&u[ce]?u.J(m,y,g(T)?!!T.capture:!1,U):ns(u,m,y,!1,T,U)}function ns(u,m,y,T,U,B){if(!m)throw Error("Invalid event type");const $=g(U)?!!U.capture:!!U;let bt=is(u);if(bt||(u[St]=bt=new nt(u)),y=bt.add(m,y,T,$,B),y.proxy)return y;if(T=Ys(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)k||(U=$),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ys(){function u(y){return m.call(u.src,u.listener,y)}const m=uo;return u}function Qs(u,m,y,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Qs(u,m[B],y,T,U);else T=g(T)?!!T.capture:!!T,y=ho(y),u&&u[ce]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],y=gt(m,y,T,U),y>-1&&(ut(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=is(u))&&(m=u.g[m.toString()],u=-1,m&&(u=gt(m,y,T,U)),(y=u>-1?m[u]:null)&&Xs(y))}function Xs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ce])at(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Wn(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=is(m))?(at(y,u),y.h==0&&(y.src=null,m[St]=null)):ut(u)}}}function Wn(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function uo(u,m){if(u.da)u=!0;else{m=new Pt(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&Xs(u),u=y.call(T,m)}return u}function is(u){return u=u[St],u instanceof nt?u:null}var co="__closure_events_fn_"+(Math.random()*1e9>>>0);function ho(u){return typeof u=="function"?u:(u[co]||(u[co]=function(m){return u.handleEvent(m)}),u[co])}function pe(){V.call(this),this.i=new nt(this),this.M=this,this.G=null}b(pe,V),pe.prototype[ce]=!0,pe.prototype.removeEventListener=function(u,m,y,T){Qs(this,u,m,y,T)};function Ce(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),K(m,U)}U=!0;let B,$;if(y)for($=y.length-1;$>=0;$--)B=m.g=y[$],U=rr(B,T,!0,m)&&U;if(B=m.g=u,U=rr(B,T,!0,m)&&U,U=rr(B,T,!1,m)&&U,y)for($=0;$<y.length;$++)B=m.g=y[$],U=rr(B,T,!1,m)&&U}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)ut(y[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},pe.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function rr(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const $=m[B];if($&&!$.da&&$.capture==y){const bt=$.listener,fe=$.ha||$.src;$.fa&&at(u.i,$),U=bt.call(fe,T)!==!1&&U}}return U&&!T.defaultPrevented}function wh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function $l(u){u.g=wh(()=>{u.g=null,u.i&&(u.i=!1,$l(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends V{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(u){V.call(this),this.h=u,this.g={}}b(rs,V);var fo=[];function mo(u){xt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Xs(m)},u),u.g={}}rs.prototype.N=function(){rs.Z.N.call(this),mo(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sr=d.JSON.stringify,Rh=d.JSON.parse,Wl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function eu(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){D.call(this,"d")}b(Le,D);function Tn(){D.call(this,"c")}b(Tn,D);var he={},nu=null;function Js(){return nu=nu||new pe}he.Ia="serverreachability";function iu(u){D.call(this,he.Ia,u)}b(iu,D);function ti(u){const m=Js();Ce(m,new iu(m))}he.STAT_EVENT="statevent";function ss(u,m){D.call(this,he.STAT_EVENT,u),this.stat=m}b(ss,D);function ye(u){const m=Js();Ce(m,new ss(m,u))}he.Ja="timingevent";function ei(u,m){D.call(this,he.Ja,u),this.size=m}b(ei,D);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Ih(u,m,y,T,U,B){u.info(function(){if(u.g)if(B){var $="",bt=B.split("&");for(let qt=0;qt<bt.length;qt++){var fe=bt[qt].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const wn=re.split("_");$=wn.length>=2&&wn[1]=="type"?$+(re+"="+fe+"&"):$+(re+"=redacted&")}}}else $=null;else $=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+y+`
`+$})}function ru(u,m,y,T,U,B,$){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+y+`
`+B+" "+$})}function ii(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ch(u,y)+(T?" "+T:"")})}function as(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function Ch(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var y=B[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let $=1;$<T.length;$++)T[$]=""}}}}return sr(B)}catch{return m}}var os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},po;function ls(){}b(ls,tu),ls.prototype.g=function(){return new XMLHttpRequest},po=new ls;function Ci(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function zn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var _e={},Ve={};function ri(u,m,y){u.M=1,u.A=us(Ee(m)),u.u=y,u.R=!0,Zs(u,null)}function Zs(u,m){u.F=Date.now(),si(u),u.B=Ee(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ea(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Bn,u.g=Eu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new $e(v(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(fo[0]=U.toString()),U=fo);for(let B=0;B<U.length;B++){const $=ie(y,U[B],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Ih(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const bt=Hn(this.g),fe=this.g.ya(),qt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||bt!=4||fe==7||(fe==8||qt<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var y=Dh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,ye(12),cn(this),Sn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<y.length;)if(re=ou(this,y),re==Ve){bt==4&&(this.m=4,ye(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ye(15),ii(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,re,null),oi(this,re);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||y.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,y,"[Invalid Chunked Response]"),cn(this),Sn(this);else if(y.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Oo($),$.P=!0,ye(11))}}else ii(this.i,this.l,y,null),oi(this,y);bt==4&&cn(this),this.o&&!this.K&&(bt==4?pu(this.j,this):(this.o=!1,si(this)))}else Ni(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),cn(this),Sn(this)}}}catch{}};function Dh(u){if(!au(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let y="";const T=m.length,U=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,y+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Ve:(y=Number(m.substring(y,T)),isNaN(y)?_e:(T+=1,T+y>m.length?Ve:(m=m.slice(T,T+y),u.C=T+y,m)))}zn.prototype.cancel=function(){this.K=!0,cn(this)};function si(u){u.T=Date.now()+u.H,$s(u,u.H)}function $s(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(v(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(as(this.i,this.B),this.M!=2&&(ti(),ye(17)),cn(this),this.m=2,Sn(this)):$s(this,this.T-u)};function Sn(u){u.j.I==0||u.K||pu(u.j,u)}function cn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,mo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||ui(y.h,u))){if(!u.L&&ui(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)aa(y),dr(y);else break t;ps(y),ye(18)}}else y.xa=U[1],0<y.xa-y.K&&U[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ni(v(y.Va,y),6e3));li(y.h)<=1&&y.ta&&(y.ta=void 0)}else gi(y,11)}else if((u.L||y.g==u)&&aa(y),!w(m))for(U=y.Ba.g.parse(m),m=0;m<U.length;m++){let qt=U[m];const re=qt[0];if(!(re<=y.K))if(y.K=re,qt=qt[1],y.I==2)if(qt[0]=="c"){y.M=qt[1],y.ba=qt[2];const wn=qt[3];wn!=null&&(y.ka=wn,y.j.info("VER="+y.ka));const pi=qt[4];pi!=null&&(y.za=pi,y.j.info("SVER="+y.za));const Fn=qt[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(T=1.5*Fn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Gn=u.g;if(Gn){const ys=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ys){var B=T.h;B.g||ys.indexOf("spdy")==-1&&ys.indexOf("quic")==-1&&ys.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(vo(B,B.h),B.h=null))}if(T.G){const oa=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(T.wa=oa,Gt(T.J,T.G,oa))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var $=u;if(T.na=vu(T,T.L?T.ba:null,T.W),$.L){Eo(T.h,$);var bt=$,fe=T.O;fe&&(bt.H=fe),bt.D&&(ai(bt),si(bt)),T.g=$}else mu(T);y.i.length>0&&mi(y)}else qt[0]!="stop"&&qt[0]!="close"||gi(y,7);else y.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?gi(y,7):Do(y):qt[0]!="noop"&&y.l&&y.l.qa(qt),y.A=0)}}ti(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function yo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _o(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vo(u,m){u.g?u.g.add(m):u.h=m}function Eo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yo.prototype.cancel=function(){if(this.i=To(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function To(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return Y(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ws(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let U,B=null;T>=0?(U=u[y].substring(0,T),B=u[y].substring(T+1)):U=u[y],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,ar(this,u.u),this.h=u.h,So(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,Me(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),ar(this,m[4]),this.h=ci(m[5]||"",!0),So(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new lr(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(cs(m,ta,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(cs(m,ta,!0),"@"),u.push(Ci(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(cs(y,y.charAt(0)=="/"?Ao:uu,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",cs(y,cu)),u.join("")},hn.prototype.resolve=function(u){const m=Ee(this);let y=!!u.j;y?Me(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)ar(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let $=0;$<U.length;){const bt=U[$++];bt=="."?T&&$==U.length&&B.push(""):bt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&$==U.length&&B.push("")):(B.push(bt),T=!0)}T=B.join("/")}else T=U}return y?m.h=T:y=u.i.toString()!=="",y?So(m,fu(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Ee(u){return new hn(u)}function Me(u,m,y){u.j=y?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ar(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function So(u,m,y){m instanceof lr?(u.i=m,na(u.i,u.l)):(y||(m=cs(m,or)),u.i=new lr(m,u.l))}function Gt(u,m,y){u.i.set(m,y)}function us(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function cs(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,en),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ta=/[#\/\?@]/g,uu=/[#\?:]/g,Ao=/[#\?]/g,or=/[#\?@]/g,cu=/#/g;function lr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ws(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=lr.prototype,s.add=function(u,m){nn(this),this.i=null,u=ur(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function hu(u,m){nn(u),m=ur(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bo(u,m){return nn(u),m=ur(u,m),u.g.has(m)}s.forEach=function(u,m){nn(this),this.g.forEach(function(y,T){y.forEach(function(U){u.call(m,U,T,this)},this)},this)};function wo(u,m){nn(u);let y=[];if(typeof m=="string")bo(u,m)&&(y=y.concat(u.g.get(ur(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}s.set=function(u,m){return nn(this),this.i=null,u=ur(this,u),bo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=wo(this,u),u.length>0?String(u[0]):m):m};function ea(u,m,y){hu(u,m),y.length>0&&(u.i=null,u.g.set(ur(u,m),Y(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const U=Ci(y);y=wo(this,y);for(let B=0;B<y.length;B++){let $=U;y[B]!==""&&($+="="+Ci(y[B])),u.push($)}}return this.i=u.join("&")};function fu(u){const m=new lr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ur(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function na(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(y,T){const U=T.toLowerCase();T!=U&&(hu(this,T),ea(this,U,y))},u)),u.j=m}function jn(u,m){const y=new Pn;if(d.Image){const T=new Image;T.onload=S(An,y,"TestLoadImage: loaded",!0,m,T),T.onerror=S(An,y,"TestLoadImage: error",!1,m,T),T.onabort=S(An,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(An,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ro(u,m){const y=new Pn,T=new AbortController,U=setTimeout(()=>{T.abort(),An(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?An(y,"TestPingServer: ok",!0,m):An(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),An(y,"TestPingServer: error",!1,m)})}function An(u,m,y,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(y)}catch{}}function cr(){this.g=new Wl}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(hi,tu),hi.prototype.g=function(){return new hs(this.i,this.h)};function hs(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(hs,pe),s=hs.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ia(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ia(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hr(this):qn(this),this.readyState==3&&ia(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,hr(this))},s.Na=function(u){this.g&&(this.response=u,hr(this))},s.ga=function(){this.g&&hr(this)};function hr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return xt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function fs(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=bn(y),typeof u=="string"?y!=null&&Ci(y):Gt(u,m,y))}function Qt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Qt,pe);var fi=/^https?$/i,Io=["POST","PUT"];s=Qt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():po.g(),this.g.onreadystatechange=M(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){ds(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)y.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Io,m,void 0)>=0)||T||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,$]of y)this.g.setRequestHeader(B,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){ds(this,B)}};function ds(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Co(u),Di(u)}function Co(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ce(this,"complete"),Ce(this,"abort"),Di(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Qt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?ms(this):this.Xa())},s.Xa=function(){ms(this)};function ms(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ce(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=B===0){let $=String(u.D).match(lu)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),T=!fi.test($?$.toLowerCase():"")}y=T}if(y)Ce(u,"complete"),Ce(u,"success");else{u.o=6;try{var U=Hn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Co(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Ce(u,"ready");try{y.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rh(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var y=su(u[T]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[U]||[];m[U]=B,B.push(y)}zt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function fr(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yo(u&&u.concurrentRequestLimit),this.Ba=new cr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=fr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,y,T){ye(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=vu(this,null,this.W),mi(this)};function Do(u){if(ra(u),u.I==3){var m=u.V++,y=Ee(u.J);if(Gt(y,"SID",u.M),Gt(y,"RID",m),Gt(y,"TYPE","terminate"),gs(u,y),m=new zn(u,u.j,m),m.M=2,m.A=us(Ee(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}_u(u)}function dr(u){u.g&&(Oo(u),u.g.cancel(),u.g=null)}function ra(u){dr(u),u.v&&(d.clearTimeout(u.v),u.v=null),aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!_o(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||A(),At||(Wt(),At=!0),C.add(m,u),u.D=0}}function sa(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(v(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new zn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),K(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=du(this,U,m),y=Ee(this.J),Gt(y,"RID",u),Gt(y,"CVER",22),this.G&&Gt(y,"X-HTTP-Session-Id",this.G),gs(this,y),B&&(this.R?m="headers="+Ci(bn(B))+"&"+m:this.u&&fs(y,this.u,B)),vo(this.h,U),this.Ra&&Gt(y,"TYPE","init"),this.S?(Gt(y,"$req",m),Gt(y,"SID","null"),U.U=!0,ri(U,y,null)):ri(U,y,m),this.I=2}}else this.I==3&&(u?No(this,u):this.i.length==0||_o(this.h)||No(this))};function No(u,m){var y;m?y=m.l:y=u.V++;const T=Ee(u.J);Gt(T,"SID",u.M),Gt(T,"RID",y),Gt(T,"AID",u.K),gs(u,T),u.u&&u.o&&fs(T,u.u,u.o),y=new zn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vo(u.h,y),ri(y,T,m)}function gs(u,m){u.H&&xt(u.H,function(y,T){Gt(m,T,y)}),u.l&&xt({},function(y,T){Gt(m,T,y)})}function du(u,m,y){y=Math.min(u.i.length,y);const T=u.l?v(u.l.Ka,u.l,u):null;t:{var U=u.i;let bt=-1;for(;;){const fe=["count="+y];bt==-1?y>0?(bt=U[0].g,fe.push("ofs="+bt)):bt=0:fe.push("ofs="+bt);let qt=!0;for(let re=0;re<y;re++){var B=U[re].g;const wn=U[re].map;if(B-=bt,B<0)bt=Math.max(0,U[re].g-100),qt=!1;else try{B="req"+B+"_"||"";try{var $=wn instanceof Map?wn:Object.entries(wn);for(const[pi,Fn]of $){let Gn=Fn;g(Fn)&&(Gn=sr(Fn)),fe.push(B+pi+"="+encodeURIComponent(Gn))}}catch(pi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),pi}}catch{T&&T(wn)}}if(qt){$=fe.join("&");break t}}$=void 0}return u=u.i.splice(0,y),m.G=u,$}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||A(),At||(Wt(),At=!0),C.add(m,u),u.A=0}}function ps(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(v(u.Da,u),yu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),dr(this),gu(this))};function Oo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),gs(u,m),u.u&&u.o&&fs(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=us(Ee(m)),y.u=null,y.R=!0,Zs(y,u)}s.Va=function(){this.C!=null&&(this.C=null,dr(this),ps(this),ye(19))};function aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var y=null;if(u.g==m){aa(u),Oo(u),u.g=null;var T=2}else if(ui(u.h,m))y=m.G,Eo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Js(),Ce(T,new ei(T,y)),mi(u)}else mu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&sa(u,m)||T==2&&ps(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),U){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function yu(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var y=v(u.bb,u),T=u.Ua;const U=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(T,"https"),us(T),U?jn(T.toString(),y):Ro(T.toString(),y)}else ye(2);u.I=0,u.l&&u.l.pa(m),_u(u),ra(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=To(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,y){var T=y instanceof hn?Ee(y):new hn(y);if(T.g!="")m&&(T.g=m+"."+T.g),ar(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new hn(null);T&&Me(B,T),m&&(B.g=m),U&&ar(B,U),y&&(B.h=y),T=B}return y=u.G,m=u.wa,y&&m&&Gt(T,y,m),Gt(T,"VER",u.ka),gs(u,T),T}function Eu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Qt(new hi({ab:y})):new Qt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function mr(){}mr.prototype.g=function(u,m){return new We(u,m)};function We(u,m){pe.call(this),this.g=new fr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}b(We,pe),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Do(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=sr(u),u=y);m.i.push(new ve(m.Ya++,u)),m.I==3&&mi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,We.Z.N.call(this)};function Su(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Su,Le);function Au(){Tn.call(this),this.status=1}b(Au,Tn);function Oi(u){this.g=u}b(Oi,Tu),Oi.prototype.ra=function(){Ce(this.g,"a")},Oi.prototype.qa=function(u){Ce(this.g,new Su(u))},Oi.prototype.pa=function(u){Ce(this.g,new Au)},Oi.prototype.oa=function(){Ce(this.g,"b")},mr.prototype.createWebChannel=mr.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,aT=function(){return new mr},sT=function(){return Js()},rT=he,Wd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},os.NO_ERROR=0,os.TIMEOUT=8,os.HTTP_ERROR=6,Lc=os,go.COMPLETE="complete",iT=go,eu.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",pe.prototype.listen=pe.prototype.J,vl=eu,Qt.prototype.listenOnce=Qt.prototype.K,Qt.prototype.getLastError=Qt.prototype.Ha,Qt.prototype.getLastErrorCode=Qt.prototype.ya,Qt.prototype.getStatus=Qt.prototype.ca,Qt.prototype.getResponseJson=Qt.prototype.La,Qt.prototype.getResponseText=Qt.prototype.la,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Fa,nT=Qt}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let so="12.10.0";function g2(s){so=s}const Bs=new pm("@firebase/firestore");function Ba(){return Bs.logLevel}function rt(s,...t){if(Bs.logLevel<=Ot.DEBUG){const i=t.map(Dm);Bs.debug(`Firestore (${so}): ${s}`,...i)}}function er(s,...t){if(Bs.logLevel<=Ot.ERROR){const i=t.map(Dm);Bs.error(`Firestore (${so}): ${s}`,...i)}}function js(s,...t){if(Bs.logLevel<=Ot.WARN){const i=t.map(Dm);Bs.warn(`Firestore (${so}): ${s}`,...i)}}function Dm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function pt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,oT(s,a,i)}function oT(s,t,i){let a=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw er(a),new Error(a)}function Ft(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||oT(t,l,a)}function Tt(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ir{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class lT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class p2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class y2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class _2{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Kr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Kr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new lT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class v2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class E2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new v2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new mv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function S2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Nm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=S2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Vt(s,t){return s<t?-1:s>t?1:0}function tm(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Ld(l)===Ld(c)?Vt(l,c):Ld(l)?1:-1}return Vt(s.length,t.length)}const A2=55296,b2=57343;function Ld(s){const t=s.charCodeAt(0);return t>=A2&&t<=b2}function Ja(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const gv="__name__";class Ti{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ti.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const a=Ti.isNumericId(t),l=Ti.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ti.extractNumericId(t).compare(Ti.extractNumericId(i)):tm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gr.fromString(t.substring(4,t.length-2))}}class ae extends Ti{construct(t,i,a){return new ae(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ae(i)}static emptyPath(){return new ae([])}}const w2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Ti{construct(t,i,a){return new Ge(t,i,a)}static isValidIdentifier(t){return w2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gv}static keyField(){return new Ge([gv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new lt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new lt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ae.fromString(t))}static fromName(t){return new ht(ae.fromString(t).popFirst(5))}static empty(){return new ht(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ae.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ae(t.slice()))}}function R2(s,t,i){if(!i)throw new lt(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function I2(s,t,i,a){if(t===!0&&a===!0)throw new lt(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function pv(s){if(!ht.isDocumentKey(s))throw new lt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function uT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Om(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function xl(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new lt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Om(s);throw new lt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Re(s,t){const i={typeString:s};return t&&(i.value=t),i}function Yl(s,t){if(!uT(s))throw new lt(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new lt(J.INVALID_ARGUMENT,i);return!0}const yv=-62135596800,_v=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*_v);return new ne(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<yv)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_v}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Yl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-yv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Re("string",ne._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ne(0,0))}static max(){return new vt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const kl=-1;function C2(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new ne(i+1,0):new ne(i,a));return new Yr(l,ht.empty(),t)}function D2(s){return new Yr(s.readTime,s.key,kl)}class Yr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Yr(vt.min(),ht.empty(),kl)}static max(){return new Yr(vt.max(),ht.empty(),kl)}}function N2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(s.documentKey,t.documentKey),i!==0?i:Vt(s.largestBatchId,t.largestBatchId))}const O2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ao(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==O2)throw s;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const v=_;i(t[v]).next((S=>{d[v]=S,++g,g===c&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function M2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function oo(s){return s.name==="IndexedDbTransactionError"}class dh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}dh.ce=-1;const Vm=-1;function mh(s){return s==null}function Zc(s){return s===0&&1/s==-1/0}function x2(s){return typeof s=="number"&&Number.isInteger(s)&&!Zc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const cT="";function k2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=vv(t)),t=U2(s.get(i),t);return vv(t)}function U2(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case cT:i+="";break;default:i+=c}}return i}function vv(s){return s+cT+""}function Ev(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Hs(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function hT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Fe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Tv(this.data.getIterator())}getIteratorFrom(t){return new Tv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Oe(this.comparator);return i.data=t,i}}class Tv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Jn([])}unionWith(t){let i=new Oe(Ge.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Jn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ja(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class fT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new fT("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const L2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(s){if(Ft(!!s,39018),typeof s=="string"){let t=0;const i=L2.exec(s);if(Ft(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Xr(s){return typeof s=="string"?Ke.fromBase64String(s):Ke.fromUint8Array(s)}const dT="server_timestamp",mT="__type__",gT="__previous_value__",pT="__local_write_time__";function Mm(s){return(s?.mapValue?.fields||{})[mT]?.stringValue===dT}function gh(s){const t=s.mapValue.fields[gT];return Mm(t)?gh(t):t}function Ul(s){const t=Qr(s.mapValue.fields[pT].timestampValue);return new ne(t.seconds,t.nanos)}class P2{constructor(t,i,a,l,c,d,g,_,v,S,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=S,this.apiKey=b}}const $c="(default)";class Ll{constructor(t,i){this.projectId=t,this.database=i||$c}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===$c}isEqual(t){return t instanceof Ll&&t.projectId===this.projectId&&t.database===this.database}}function z2(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new lt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(s.options.projectId,t)}const yT="__type__",B2="__max__",Nc={mapValue:{}},_T="__vector__",Wc="value";function Jr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Mm(s)?4:q2(s)?9007199254740991:j2(s)?10:11:pt(28295,{value:s})}function Ri(s,t){if(s===t)return!0;const i=Jr(s);if(i!==Jr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ul(s).isEqual(Ul(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Qr(l.timestampValue),g=Qr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Xr(l.bytesValue).isEqual(Xr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),g=ge(c.doubleValue);return d===g?Zc(d)===Zc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return Ja(s.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Ev(d)!==Ev(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Ri(d[_],g[_])))return!1;return!0})(s,t);default:return pt(52216,{left:s})}}function Pl(s,t){return(s.values||[]).find((i=>Ri(i,t)))!==void 0}function Za(s,t){if(s===t)return 0;const i=Jr(s),a=Jr(t);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,t);case 3:return Sv(s.timestampValue,t.timestampValue);case 4:return Sv(Ul(s),Ul(t));case 5:return tm(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=Xr(c),_=Xr(d);return g.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const S=Vt(g[v],_[v]);if(S!==0)return S}return Vt(g.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Vt(ge(c.latitude),ge(d.latitude));return g!==0?g:Vt(ge(c.longitude),ge(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Av(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},v=g[Wc]?.arrayValue,S=_[Wc]?.arrayValue,b=Vt(v?.values?.length||0,S?.values?.length||0);return b!==0?b:Av(v,S)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),v=d.fields||{},S=Object.keys(v);_.sort(),S.sort();for(let b=0;b<_.length&&b<S.length;++b){const M=tm(_[b],S[b]);if(M!==0)return M;const Y=Za(g[_[b]],v[S[b]]);if(Y!==0)return Y}return Vt(_.length,S.length)})(s.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function Sv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Vt(s,t);const i=Qr(s),a=Qr(t),l=Vt(i.seconds,a.seconds);return l!==0?l:Vt(i.nanos,a.nanos)}function Av(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Za(i[l],a[l]);if(c)return c}return Vt(i.length,a.length)}function $a(s){return em(s)}function em(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Qr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Xr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ht.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=em(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${em(i.fields[d])}`;return l+"}"})(s.mapValue):pt(61005,{value:s})}function Pc(s){switch(Jr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(s);return t?16+Pc(t):16;case 5:return 2*s.stringValue.length;case 6:return Xr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Pc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Hs(a.fields,((c,d)=>{l+=c.length+Pc(d)})),l})(s.mapValue);default:throw pt(13486,{value:s})}}function nm(s){return!!s&&"integerValue"in s}function xm(s){return!!s&&"arrayValue"in s}function bv(s){return!!s&&"nullValue"in s}function wv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function zc(s){return!!s&&"mapValue"in s}function j2(s){return(s?.mapValue?.fields||{})[yT]?.stringValue===_T}function Rl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Hs(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Rl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Rl(s.arrayValue.values[i]);return t}return{...s}}function q2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===B2}class xn{constructor(t){this.value=t}static empty(){return new xn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!zc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rl(i)}setAll(t){let i=Ge.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Rl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Hs(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new xn(Rl(this.value))}}function vT(s){const t=[];return Hs(s.fields,((i,a)=>{const l=new Ge([i]);if(zc(a)){const c=vT(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Jn(t)}class Je{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,vt.min(),vt.min(),vt.min(),xn.empty(),0)}static newFoundDocument(t,i,a,l){return new Je(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new Je(t,2,i,vt.min(),vt.min(),xn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,vt.min(),vt.min(),xn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(t,i){this.position=t,this.inclusive=i}}function Rv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=Za(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Iv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ri(s.position[i],t.position[i]))return!1;return!0}class eh{constructor(t,i="asc"){this.field=t,this.dir=i}}function H2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class ET{}class Ne extends ET{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new G2(t,i,a):i==="array-contains"?new Q2(t,a):i==="in"?new X2(t,a):i==="not-in"?new J2(t,a):i==="array-contains-any"?new Z2(t,a):new Ne(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new K2(t,a):new Y2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Za(i,this.value)):i!==null&&Jr(this.value)===Jr(i)&&this.matchesComparison(Za(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends ET{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ii(t,i)}matches(t){return TT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TT(s){return s.op==="and"}function ST(s){return F2(s)&&TT(s)}function F2(s){for(const t of s.filters)if(t instanceof Ii)return!1;return!0}function im(s){if(s instanceof Ne)return s.field.canonicalString()+s.op.toString()+$a(s.value);if(ST(s))return s.filters.map((t=>im(t))).join(",");{const t=s.filters.map((i=>im(i))).join(",");return`${s.op}(${t})`}}function AT(s,t){return s instanceof Ne?(function(a,l){return l instanceof Ne&&a.op===l.op&&a.field.isEqual(l.field)&&Ri(a.value,l.value)})(s,t):s instanceof Ii?(function(a,l){return l instanceof Ii&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&AT(d,l.filters[g])),!0):!1})(s,t):void pt(19439)}function bT(s){return s instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${$a(i.value)}`})(s):s instanceof Ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(bT).join(" ,")+"}"})(s):"Filter"}class G2 extends Ne{constructor(t,i,a){super(t,i,a),this.key=ht.fromName(a.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class K2 extends Ne{constructor(t,i){super(t,"in",i),this.keys=wT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Y2 extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=wT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function wT(s,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class Q2 extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return xm(i)&&Pl(i.arrayValue,this.value)}}class X2 extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Pl(this.value.arrayValue,i)}}class J2 extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Pl(this.value.arrayValue,i)}}class Z2 extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!xm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Pl(this.value.arrayValue,a)))}}class $2{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Cv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new $2(s,t,i,a,l,c,d)}function km(s){const t=Tt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>im(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),mh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>$a(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>$a(a))).join(",")),t.Te=i}return t.Te}function Um(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!H2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!AT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Iv(s.startAt,t.startAt)&&Iv(s.endAt,t.endAt)}function rm(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class ph{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function W2(s,t,i,a,l,c,d,g){return new ph(s,t,i,a,l,c,d,g)}function Lm(s){return new ph(s)}function Dv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function tR(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function eR(s){return s.collectionGroup!==null}function Il(s){const t=Tt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Oe(Ge.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new eh(c,a))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new eh(Ge.keyField(),a))}return t.Ie}function Ai(s){const t=Tt(s);return t.Ee||(t.Ee=nR(t,Il(s))),t.Ee}function nR(s,t){if(s.limitType==="F")return Cv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new eh(l.field,c)}));const i=s.endAt?new th(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new th(s.startAt.position,s.startAt.inclusive):null;return Cv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function sm(s,t,i){return new ph(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function yh(s,t){return Um(Ai(s),Ai(t))&&s.limitType===t.limitType}function RT(s){return`${km(Ai(s))}|lt:${s.limitType}`}function ja(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>bT(l))).join(", ")}]`),mh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>$a(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>$a(l))).join(",")),`Target(${a})`})(Ai(s))}; limitType=${s.limitType})`}function _h(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ht.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Il(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,_){const v=Rv(d,g,_);return d.inclusive?v<=0:v<0})(a.startAt,Il(a),l)||a.endAt&&!(function(d,g,_){const v=Rv(d,g,_);return d.inclusive?v>=0:v>0})(a.endAt,Il(a),l))})(s,t)}function iR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function IT(s){return(t,i)=>{let a=!1;for(const l of Il(s)){const c=rR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function rR(s,t,i){const a=s.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),v=g.data.field(c);return _!==null&&v!==null?Za(_,v):pt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:s.dir})}}class Fs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Hs(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return hT(this.inner)}size(){return this.innerSize}}const sR=new oe(ht.comparator);function nr(){return sR}const CT=new oe(ht.comparator);function El(...s){let t=CT;for(const i of s)t=t.insert(i.key,i);return t}function DT(s){let t=CT;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function ks(){return Cl()}function NT(){return Cl()}function Cl(){return new Fs((s=>s.toString()),((s,t)=>s.isEqual(t)))}const aR=new oe(ht.comparator),oR=new Oe(ht.comparator);function Mt(...s){let t=oR;for(const i of s)t=t.add(i);return t}const lR=new Oe(Vt);function uR(){return lR}function Pm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function OT(s){return{integerValue:""+s}}function cR(s,t){return x2(t)?OT(t):Pm(s,t)}class vh{constructor(){this._=void 0}}function hR(s,t,i){return s instanceof nh?(function(l,c){const d={fields:{[mT]:{stringValue:dT},[pT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Mm(c)&&(c=gh(c)),c&&(d.fields[gT]=c),{mapValue:d}})(i,t):s instanceof zl?MT(s,t):s instanceof Bl?xT(s,t):(function(l,c){const d=VT(l,c),g=Nv(d)+Nv(l.Ae);return nm(d)&&nm(l.Ae)?OT(g):Pm(l.serializer,g)})(s,t)}function fR(s,t,i){return s instanceof zl?MT(s,t):s instanceof Bl?xT(s,t):i}function VT(s,t){return s instanceof ih?(function(a){return nm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class nh extends vh{}class zl extends vh{constructor(t){super(),this.elements=t}}function MT(s,t){const i=kT(t);for(const a of s.elements)i.some((l=>Ri(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Bl extends vh{constructor(t){super(),this.elements=t}}function xT(s,t){let i=kT(t);for(const a of s.elements)i=i.filter((l=>!Ri(l,a)));return{arrayValue:{values:i}}}class ih extends vh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Nv(s){return ge(s.integerValue||s.doubleValue)}function kT(s){return xm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function dR(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof zl&&l instanceof zl||a instanceof Bl&&l instanceof Bl?Ja(a.elements,l.elements,Ri):a instanceof ih&&l instanceof ih?Ri(a.Ae,l.Ae):a instanceof nh&&l instanceof nh})(s.transform,t.transform)}class mR{constructor(t,i){this.version=t,this.transformResults=i}}class Zi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Zi}static exists(t){return new Zi(void 0,t)}static updateTime(t){return new Zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Eh{}function UT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new PT(s.key,Zi.none()):new Ql(s.key,s.data,Zi.none());{const i=s.data,a=xn.empty();let l=new Oe(Ge.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Gs(s.key,a,new Jn(l.toArray()),Zi.none())}}function gR(s,t,i){s instanceof Ql?(function(l,c,d){const g=l.value.clone(),_=Vv(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof Gs?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Vv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(LT(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Dl(s,t,i,a){return s instanceof Ql?(function(c,d,g,_){if(!Bc(c.precondition,d))return g;const v=c.value.clone(),S=Mv(c.fieldTransforms,_,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,t,i,a):s instanceof Gs?(function(c,d,g,_){if(!Bc(c.precondition,d))return g;const v=Mv(c.fieldTransforms,_,d),S=d.data;return S.setAll(LT(c)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,a):(function(c,d,g){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function pR(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=VT(a.transform,l||null);c!=null&&(i===null&&(i=xn.empty()),i.set(a.field,c))}return i||null}function Ov(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ja(a,l,((c,d)=>dR(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Ql extends Eh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Gs extends Eh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function LT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Vv(s,t,i){const a=new Map;Ft(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,fR(d,g,i[l]))}return a}function Mv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,hR(c,d,t))}return a}class PT extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yR extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _R{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&gR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Dl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Dl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=NT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=UT(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&Ja(this.mutations,t.mutations,((i,a)=>Ov(i,a)))&&Ja(this.baseMutations,t.baseMutations,((i,a)=>Ov(i,a)))}}class zm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return aR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new zm(t,i,a,l)}}class vR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ER{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,Ut;function TR(s){switch(s){case J.OK:return pt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function zT(s){if(s===void 0)return er("GRPC error has no .code"),J.UNKNOWN;switch(s){case we.OK:return J.OK;case we.CANCELLED:return J.CANCELLED;case we.UNKNOWN:return J.UNKNOWN;case we.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case we.INTERNAL:return J.INTERNAL;case we.UNAVAILABLE:return J.UNAVAILABLE;case we.UNAUTHENTICATED:return J.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case we.NOT_FOUND:return J.NOT_FOUND;case we.ALREADY_EXISTS:return J.ALREADY_EXISTS;case we.PERMISSION_DENIED:return J.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case we.ABORTED:return J.ABORTED;case we.OUT_OF_RANGE:return J.OUT_OF_RANGE;case we.UNIMPLEMENTED:return J.UNIMPLEMENTED;case we.DATA_LOSS:return J.DATA_LOSS;default:return pt(39323,{code:s})}}(Ut=we||(we={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function SR(){return new TextEncoder}const AR=new Gr([4294967295,4294967295],0);function xv(s){const t=SR().encode(s),i=new eT;return i.update(t),new Uint8Array(i.digest())}function kv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Gr([i,a],0),new Gr([l,c],0)]}class Bm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Tl(`Invalid padding: ${i}`);if(a<0)throw new Tl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Gr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Gr.fromNumber(a)));return l.compare(AR)===1&&(l=new Gr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=xv(t),[a,l]=kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Bm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=xv(t),[a,l]=kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Th{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Th(vt.min(),l,new oe(Vt),nr(),Mt())}}class Xl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Xl(a,i,Mt(),Mt(),Mt())}}class jc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class BT{constructor(t,i){this.targetId=t,this.Ce=i}}class jT{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Uv{constructor(){this.ve=0,this.Fe=Lv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:pt(38017,{changeType:c})}})),new Xl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Lv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class bR{constructor(t){this.Ge=t,this.ze=new Map,this.je=nr(),this.He=Oc(),this.Je=Oc(),this.Ze=new oe(Vt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(rm(c))if(a===0){const d=new ht(c.path);this.et(i,d,Je.newNoDocument(d,vt.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Xr(a).toUint8Array()}catch(_){if(_ instanceof fT)return js("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Bm(d,l,c)}catch(_){return js(_ instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&rm(g.target)){const _=new ht(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Je.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Mt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Th(t,i,this.Ze,this.je,a);return this.je=nr(),this.He=Oc(),this.Je=Oc(),this.Ze=new oe(Vt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Uv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Oe(Vt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Oe(Vt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Uv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Oc(){return new oe(ht.comparator)}function Lv(){return new oe(ht.comparator)}const wR={asc:"ASCENDING",desc:"DESCENDING"},RR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IR={and:"AND",or:"OR"};class CR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function am(s,t){return s.useProto3Json||mh(t)?t:{value:t}}function rh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function DR(s,t){return rh(s,t.toTimestamp())}function bi(s){return Ft(!!s,49232),vt.fromTimestamp((function(i){const a=Qr(i);return new ne(a.seconds,a.nanos)})(s))}function jm(s,t){return om(s,t).canonicalString()}function om(s,t){const i=(function(l){return new ae(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function HT(s){const t=ae.fromString(s);return Ft(QT(t),10190,{key:t.toString()}),t}function lm(s,t){return jm(s.databaseId,t.path)}function Pd(s,t){const i=HT(t);if(i.get(1)!==s.databaseId.projectId)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ht(GT(i))}function FT(s,t){return jm(s.databaseId,t)}function NR(s){const t=HT(s);return t.length===4?ae.emptyPath():GT(t)}function um(s){return new ae(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function GT(s){return Ft(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Pv(s,t,i){return{name:lm(s,t),fields:i.value.mapValue.fields}}function OR(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:pt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(v,S){return v.useProto3Json?(Ft(S===void 0||typeof S=="string",58123),Ke.fromBase64String(S||"")):(Ft(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ke.fromUint8Array(S||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(v){const S=v.code===void 0?J.UNKNOWN:zT(v.code);return new lt(S,v.message||"")})(d);i=new jT(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Pd(s,a.document.name),c=bi(a.document.updateTime),d=a.document.createTime?bi(a.document.createTime):vt.min(),g=new xn({mapValue:{fields:a.document.fields}}),_=Je.newFoundDocument(l,c,d,g),v=a.targetIds||[],S=a.removedTargetIds||[];i=new jc(v,S,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Pd(s,a.document),c=a.readTime?bi(a.readTime):vt.min(),d=Je.newNoDocument(l,c),g=a.removedTargetIds||[];i=new jc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Pd(s,a.document),c=a.removedTargetIds||[];i=new jc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new ER(l,c),g=a.targetId;i=new BT(g,d)}}return i}function VR(s,t){let i;if(t instanceof Ql)i={update:Pv(s,t.key,t.value)};else if(t instanceof PT)i={delete:lm(s,t.key)};else if(t instanceof Gs)i={update:Pv(s,t.key,t.data),updateMask:jR(t.fieldMask)};else{if(!(t instanceof yR))return pt(16599,{dt:t.type});i={verify:lm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ih)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw pt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:DR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(s,t.precondition)),i}function MR(s,t){return s&&s.length>0?(Ft(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?bi(l.updateTime):bi(c);return d.isEqual(vt.min())&&(d=bi(c)),new mR(d,l.transformResults||[])})(i,t)))):[]}function xR(s,t){return{documents:[FT(s,t.path)]}}function kR(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=FT(s,l);const c=(function(v){if(v.length!==0)return YT(Ii.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((S=>(function(M){return{field:qa(M.field),direction:PR(M.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=am(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:l}}function UR(s){let t=NR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ft(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(b){const M=KT(b);return M instanceof Ii&&ST(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((M=>(function(tt){return new eh(Ha(tt.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let M;return M=typeof b=="object"?b.value:b,mh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(b){const M=!!b.before,Y=b.values||[];return new th(Y,M)})(i.startAt));let v=null;return i.endAt&&(v=(function(b){const M=!b.before,Y=b.values||[];return new th(Y,M)})(i.endAt)),W2(t,l,d,c,g,"F",_,v)}function LR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function KT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ha(i.unaryFilter.field);return Ne.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ha(i.unaryFilter.field);return Ne.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ha(i.unaryFilter.field);return Ne.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ne.create(Ha(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ii.create(i.compositeFilter.filters.map((a=>KT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(s):pt(30097,{filter:s})}function PR(s){return wR[s]}function zR(s){return RR[s]}function BR(s){return IR[s]}function qa(s){return{fieldPath:s.canonicalString()}}function Ha(s){return Ge.fromServerFormat(s.fieldPath)}function YT(s){return s instanceof Ne?(function(i){if(i.op==="=="){if(wv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NAN"}};if(bv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(wv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NAN"}};if(bv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(i.field),op:zR(i.op),value:i.value}}})(s):s instanceof Ii?(function(i){const a=i.getFilters().map((l=>YT(l)));return a.length===1?a[0]:{compositeFilter:{op:BR(i.op),filters:a}}})(s):pt(54877,{filter:s})}function jR(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function QT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function XT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class jr{constructor(t,i,a,l,c=vt.min(),d=vt.min(),g=Ke.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new jr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class qR{constructor(t){this.yt=t}}function HR(s){const t=UR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?sm(t,t.limit,"L"):t}class FR{constructor(){this.Sn=new GR}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Yr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Yr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class GR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Oe(ae.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Oe(ae.comparator)).toArray()}}const zv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JT=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(JT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Wa{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Wa(0)}static ar(){return new Wa(-1)}}const Bv="LruGarbageCollector",KR=1048576;function jv([s,t],[i,a]){const l=Vt(s,i);return l===0?Vt(t,a):l}class YR{constructor(t){this.Pr=t,this.buffer=new Oe(jv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();jv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class QR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){rt(Bv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){oo(i)?rt(Bv,"Ignoring IndexedDB error during garbage collection: ",i):await ao(i)}await this.Ar(3e5)}))}}class XR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(dh.ce);const a=new YR(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(zv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,g,_,v;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,g=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(v=Date.now(),Ba()<=Ot.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${b} documents in `+(v-_)+`ms
Total Duration: ${v-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function JR(s,t){return new XR(s,t)}class ZR{constructor(){this.changes=new Fs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class $R{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class WR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Dl(a.mutation,l,Jn.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const l=ks();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=El();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=ks();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=nr();const d=Cl(),g=(function(){return Cl()})();return i.forEach(((_,v)=>{const S=a.get(v.key);l.has(v.key)&&(S===void 0||S.mutation instanceof Gs)?c=c.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),Dl(S.mutation,v,S.mutation.getFieldMask(),ne.now())):d.set(v.key,Jn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((v,S)=>d.set(v,S))),i.forEach(((v,S)=>g.set(v,new $R(S,d.get(v)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Cl();let l=new oe(((d,g)=>d-g)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let S=a.get(_)||Jn.empty();S=g.applyToLocalView(v,S),a.set(_,S);const b=(l.get(g.batchId)||Mt()).add(_);l=l.insert(g.batchId,b)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,S=_.value,b=NT();S.forEach((M=>{if(!c.has(M)){const Y=UT(i.get(M),a.get(M));Y!==null&&b.set(M,Y),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,b))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return tR(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):eR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(ks());let g=kl,_=c;return d.next((v=>X.forEach(v,((S,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(t,S).next((M=>{_=_.insert(S,M)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,_,v,Mt()))).next((S=>({batchId:g,changes:DT(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((a=>{let l=El();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=El();return this.indexManager.getCollectionParents(t,c).next((g=>X.forEach(g,(_=>{const v=(function(b,M){return new ph(M,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next((S=>{S.forEach(((b,M)=>{d=d.insert(b,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,Je.newInvalidDocument(S)))}));let g=El();return d.forEach(((_,v)=>{const S=c.get(_);S!==void 0&&Dl(S.mutation,v,Jn.empty(),ne.now()),_h(i,v)&&(g=g.insert(_,v))})),g}))}}class tI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:bi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:HR(l.bundledQuery),readTime:bi(l.readTime)}})(i)),X.resolve()}}class eI{constructor(){this.overlays=new oe(ht.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=ks();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=ks(),c=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new oe(((v,S)=>v-S));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let S=c.get(v.largestBatchId);S===null&&(S=ks(),c=c.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const g=ks(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,S)=>g.set(v,S))),!(g.size()>=l)););return X.resolve(g)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new vR(i,a));let c=this.Lr.get(i);c===void 0&&(c=Mt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class nI{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class qm{constructor(){this.kr=new Oe(ke.Kr),this.qr=new Oe(ke.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new ke(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new ke(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new ht(new ae([])),a=new ke(i,t),l=new ke(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ht(new ae([])),a=new ke(i,t),l=new ke(i,t+1);let c=Mt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ke(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class ke{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ht.comparator(t.key,i.key)||Vt(t.Hr,i.Hr)}static Ur(t,i){return Vt(t.Hr,i.Hr)||ht.comparator(t.key,i.key)}}class iI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Oe(ke.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new _R(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new ke(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Vm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new ke(i,0),l=new ke(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Oe(Vt);return i.forEach((l=>{const c=new ke(l,0),d=new ke(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ht.isDocumentKey(c)||(c=c.child(""));const d=new ke(new ht(c),0);let g=new Oe(Vt);return this.Jr.forEachWhile((_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(g=g.add(_.Hr)),!0)}),d),X.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new ke(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new ke(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class rI{constructor(t){this.ti=t,this.docs=(function(){return new oe(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=nr();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=nr();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||N2(D2(S),a)<=0||(l.has(S.key)||_h(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){pt(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new sI(this)}getSize(t){return X.resolve(this.size)}}class sI extends ZR{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class aI{constructor(t){this.persistence=t,this.ri=new Fs((i=>km(i)),Um),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new qm,this.targetCount=0,this.oi=Wa._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new Wa(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class ZT{constructor(t,i){this._i={},this.overlays={},this.ai=new dh(0),this.ui=!1,this.ui=!0,this.ci=new nI,this.referenceDelegate=t(this),this.li=new aI(this),this.indexManager=new FR,this.remoteDocumentCache=(function(l){return new rI(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new qR(i),this.Pi=new tI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new eI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new iI(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new oI(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class oI extends V2{constructor(t){super(),this.currentSequenceNumber=t}}class Hm{constructor(t){this.persistence=t,this.Ri=new qm,this.Ai=null}static Vi(t){return new Hm(t)}get di(){if(this.Ai)return this.Ai;throw pt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=ht.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.fi=new Fs((a=>k2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=JR(this,i)}static Vi(t,i){return new sh(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Fm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Mt(),l=Mt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Fm(t,i.fromCache,a,l)}}class lI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class uI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return x1()?8:M2(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new lI;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Ba()<=Ot.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Ba()<=Ot.DEBUG&&rt("QueryEngine","Query:",ja(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ba()<=Ot.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(i))):X.resolve())}gs(t,i){if(Dv(i))return X.resolve(null);let a=Ai(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=sm(i,null,"F"),a=Ai(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Mt(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((_=>{const v=this.bs(i,g);return this.Ss(i,v,d,_.readTime)?this.gs(t,sm(i,null,"F")):this.Ds(t,v,i,_)}))))})))))}ps(t,i,a,l){return Dv(i)||l.isEqual(vt.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(Ba()<=Ot.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ja(i)),this.Ds(t,d,i,C2(l,kl)).next((g=>g)))}))}bs(t,i){let a=new Oe(IT(t));return i.forEach(((l,c)=>{_h(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Ba()<=Ot.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",ja(i)),this.fs.getDocumentsMatchingQuery(t,i,Yr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Gm="LocalStore",cI=3e8;class hI{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new oe(Vt),this.Fs=new Fs((c=>km(c)),Um),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new WR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function fI(s,t,i,a){return new hI(s,t,i,a)}async function $T(s,t){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=Mt();for(const v of l){d.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of c){g.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function dI(s,t){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,v,S){const b=v.batch,M=b.keys();let Y=X.resolve();return M.forEach((tt=>{Y=Y.next((()=>S.getEntry(_,tt))).next((it=>{const et=v.docVersions.get(tt);Ft(et!==null,48541),it.version.compareTo(et)<0&&(b.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),S.addEntry(it)))}))})),Y.next((()=>g.mutationQueue.removeMutationBatch(_,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Mt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function WT(s){const t=Tt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function mI(s,t){const i=Tt(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];t.targetChanges.forEach(((S,b)=>{const M=l.get(b);if(!M)return;g.push(i.li.removeMatchingKeys(c,S.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,b))));let Y=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?Y=Y.withResumeToken(Ke.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):S.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(S.resumeToken,a)),l=l.insert(b,Y),(function(it,et,ft){return it.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=cI?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(M,Y,S)&&g.push(i.li.updateTargetData(c,Y))}));let _=nr(),v=Mt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(gI(c,d,t.documentUpdates).next((S=>{_=S.Bs,v=S.Ls}))),!a.isEqual(vt.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(S)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(i.vs=l,c)))}function gI(s,t,i){let a=Mt(),l=Mt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=nr();return i.forEach(((g,_)=>{const v=c.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(vt.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):rt(Gm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function pI(s,t){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Vm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function yI(s,t){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new jr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function cm(s,t,i){const a=Tt(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!oo(d))throw d;rt(Gm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function qv(s,t,i){const a=Tt(s);let l=vt.min(),c=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,S){const b=Tt(_),M=b.Fs.get(S);return M!==void 0?X.resolve(b.vs.get(M)):b.li.getTargetData(v,S)})(a,d,Ai(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Mt()))).next((g=>(_I(a,iR(t),g),{documents:g,ks:c})))))}function _I(s,t,i){let a=s.Ms.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class Hv{constructor(){this.activeTargetIds=uR()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class vI{constructor(){this.vo=new Hv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Hv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class EI{Mo(t){}shutdown(){}}const Fv="ConnectivityMonitor";class Gv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){rt(Fv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){rt(Fv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function hm(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const zd="RestConnection",TI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class SI{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===$c?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=hm(),g=this.Qo(t,i.toUriEncodedString());rt(zd,`Sending RPC '${t}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:v}=new URL(g),S=eo(v);return this.zo(t,g,_,a,S).then((b=>(rt(zd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw js(zd,`RPC '${t}' ${d} failed with error: `,b,"url: ",g,"request:",a),b}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=TI[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class AI{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Qe="WebChannelConnection",pl=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Ya extends SI{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ya.c_){const t=sT();pl(t,rT.STAT_EVENT,(i=>{i.stat===Wd.PROXY?rt(Qe,"STAT_EVENT: detected buffering proxy"):i.stat===Wd.NOPROXY&&rt(Qe,"STAT_EVENT: detected no buffering proxy")})),Ya.c_=!0}}zo(t,i,a,l,c){const d=hm();return new Promise(((g,_)=>{const v=new nT;v.setWithCredentials(!0),v.listenOnce(iT.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Lc.NO_ERROR:const b=v.getResponseJson();rt(Qe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),g(b);break;case Lc.TIMEOUT:rt(Qe,`RPC '${t}' ${d} timed out`),_(new lt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const M=v.getStatus();if(rt(Qe,`RPC '${t}' ${d} failed with status:`,M,"response text:",v.getResponseText()),M>0){let Y=v.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const tt=Y?.error;if(tt&&tt.status&&tt.message){const it=(function(ft){const _t=ft.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(_t)>=0?_t:J.UNKNOWN})(tt.status);_(new lt(it,tt.message))}else _(new lt(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new lt(J.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{rt(Qe,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);rt(Qe,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=hm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const v=c.join("");rt(Qe,`Creating RPC '${t}' stream ${l}: ${v}`,g);const S=d.createWebChannel(v,g);this.I_(S);let b=!1,M=!1;const Y=new AI({Ho:tt=>{M?rt(Qe,`Not sending because RPC '${t}' stream ${l} is closed:`,tt):(b||(rt(Qe,`Opening RPC '${t}' stream ${l} transport.`),S.open(),b=!0),rt(Qe,`RPC '${t}' stream ${l} sending:`,tt),S.send(tt))},Jo:()=>S.close()});return pl(S,vl.EventType.OPEN,(()=>{M||(rt(Qe,`RPC '${t}' stream ${l} transport opened.`),Y.i_())})),pl(S,vl.EventType.CLOSE,(()=>{M||(M=!0,rt(Qe,`RPC '${t}' stream ${l} transport closed`),Y.o_(),this.E_(S))})),pl(S,vl.EventType.ERROR,(tt=>{M||(M=!0,js(Qe,`RPC '${t}' stream ${l} transport errored. Name:`,tt.name,"Message:",tt.message),Y.o_(new lt(J.UNAVAILABLE,"The operation could not be completed")))})),pl(S,vl.EventType.MESSAGE,(tt=>{if(!M){const it=tt.data[0];Ft(!!it,16349);const et=it,ft=et?.error||et[0]?.error;if(ft){rt(Qe,`RPC '${t}' stream ${l} received error:`,ft);const _t=ft.status;let yt=(function(At){const C=we[At];if(C!==void 0)return zT(C)})(_t),Lt=ft.message;_t==="NOT_FOUND"&&Lt.includes("database")&&Lt.includes("does not exist")&&Lt.includes(this.databaseId.database)&&js(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),yt===void 0&&(yt=J.INTERNAL,Lt="Unknown error status: "+_t+" with message "+ft.message),M=!0,Y.o_(new lt(yt,Lt)),S.close()}else rt(Qe,`RPC '${t}' stream ${l} received:`,it),Y.__(it)}})),Ya.u_(),setTimeout((()=>{Y.s_()}),0),Y}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return aT()}}function bI(s){return new Ya(s)}function Bd(){return typeof document<"u"?document:null}function Sh(s){return new CR(s,!0)}Ya.c_=!1;class t0{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Kv="PersistentStream";class e0{constructor(t,i,a,l,c,d,g,_){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new t0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(er(i.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new lt(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(Kv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(rt(Kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wI extends e0{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=OR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?bi(d.readTime):vt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=um(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=rm(_)?{documents:xR(c,_)}:{query:kR(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=qT(c,d.resumeToken);const v=am(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=rh(c,d.snapshotVersion.toTimestamp());const v=am(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,t);const a=LR(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=um(this.serializer),i.removeTarget=t,this.K_(i)}}class RI extends e0{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=MR(t.writeResults,t.commitTime),a=bi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=um(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>VR(this.serializer,a)))};this.K_(i)}}class II{}class CI extends II{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,om(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(J.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,om(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function DI(s,t,i,a){return new CI(s,t,i,a)}class NI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(er(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qs="RemoteStore";class OI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Ks(this)&&(rt(qs,"Restarting streams for network reachability change."),await(async function(_){const v=Tt(_);v.Ea.add(4),await Jl(v),v.Va.set("Unknown"),v.Ea.delete(4),await Ah(v)})(this))}))})),this.Va=new NI(a,l)}}async function Ah(s){if(Ks(s))for(const t of s.Ra)await t(!0)}async function Jl(s){for(const t of s.Ra)await t(!1)}function n0(s,t){const i=Tt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Xm(i)?Qm(i):lo(i).O_()&&Ym(i,t))}function Km(s,t){const i=Tt(s),a=lo(i);i.Ia.delete(t),a.O_()&&i0(i,t),i.Ia.size===0&&(a.O_()?a.L_():Ks(i)&&i.Va.set("Unknown"))}function Ym(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}lo(s).Z_(t)}function i0(s,t){s.da.$e(t),lo(s).X_(t)}function Qm(s){s.da=new bR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),lo(s).start(),s.Va.ua()}function Xm(s){return Ks(s)&&!lo(s).x_()&&s.Ia.size>0}function Ks(s){return Tt(s).Ea.size===0}function r0(s){s.da=void 0}async function VI(s){s.Va.set("Online")}async function MI(s){s.Ia.forEach(((t,i)=>{Ym(s,t)}))}async function xI(s,t){r0(s),Xm(s)?(s.Va.ha(t),Qm(s)):s.Va.set("Unknown")}async function kI(s,t,i){if(s.Va.set("Online"),t instanceof jT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,t)}catch(a){rt(qs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ah(s,a)}else if(t instanceof jc?s.da.Xe(t):t instanceof BT?s.da.st(t):s.da.tt(t),!i.isEqual(vt.min()))try{const a=await WT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(v);S&&c.Ia.set(v,S.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,v)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(Ke.EMPTY_BYTE_STRING,S.snapshotVersion)),i0(c,_);const b=new jr(S.target,_,v,S.sequenceNumber);Ym(c,b)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){rt(qs,"Failed to raise snapshot:",a),await ah(s,a)}}async function ah(s,t,i){if(!oo(t))throw t;s.Ea.add(1),await Jl(s),s.Va.set("Offline"),i||(i=()=>WT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt(qs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ah(s)}))}function s0(s,t){return t().catch((i=>ah(s,i,t)))}async function bh(s){const t=Tt(s),i=Zr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Vm;for(;UI(t);)try{const l=await pI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,LI(t,l)}catch(l){await ah(t,l)}a0(t)&&o0(t)}function UI(s){return Ks(s)&&s.Ta.length<10}function LI(s,t){s.Ta.push(t);const i=Zr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function a0(s){return Ks(s)&&!Zr(s).x_()&&s.Ta.length>0}function o0(s){Zr(s).start()}async function PI(s){Zr(s).ra()}async function zI(s){const t=Zr(s);for(const i of s.Ta)t.ea(i.mutations)}async function BI(s,t,i){const a=s.Ta.shift(),l=zm.from(a,t,i);await s0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await bh(s)}async function jI(s,t){t&&Zr(s).Y_&&await(async function(a,l){if((function(d){return TR(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();Zr(a).B_(),await s0(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await bh(a)}})(s,t),a0(s)&&o0(s)}async function Yv(s,t){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),rt(qs,"RemoteStore received new credentials");const a=Ks(i);i.Ea.add(3),await Jl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ah(i)}async function qI(s,t){const i=Tt(s);t?(i.Ea.delete(2),await Ah(i)):t||(i.Ea.add(2),await Jl(i),i.Va.set("Unknown"))}function lo(s){return s.ma||(s.ma=(function(i,a,l){const c=Tt(i);return c.sa(),new wI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:VI.bind(null,s),Yo:MI.bind(null,s),t_:xI.bind(null,s),J_:kI.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Xm(s)?Qm(s):s.Va.set("Unknown")):(await s.ma.stop(),r0(s))}))),s.ma}function Zr(s){return s.fa||(s.fa=(function(i,a,l){const c=Tt(i);return c.sa(),new RI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:PI.bind(null,s),t_:jI.bind(null,s),ta:zI.bind(null,s),na:BI.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await bh(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(qs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Jm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new Jm(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(s,t){if(er("AsyncQueue",`${t}: ${s}`),oo(s))return new lt(J.UNAVAILABLE,`${t}: ${s}`);throw s}class Qa{static emptySet(t){return new Qa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=El(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Qa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Qv{constructor(){this.ga=new oe(ht.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class to{constructor(t,i,a,l,c,d,g,_,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new to(t,i,Qa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class HI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class FI{constructor(){this.queries=Xv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Tt(i),c=l.queries;l.queries=Xv(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(a)}))})(this,new lt(J.ABORTED,"Firestore shutting down"))}}function Xv(){return new Fs((s=>RT(s)),yh)}async function GI(s,t){const i=Tt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new HI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Zm(d,`Initialization of query '${ja(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&$m(i)}async function KI(s,t){const i=Tt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function YI(s,t){const i=Tt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(a=!0);d.wa=l}}a&&$m(i)}function QI(s,t,i){const a=Tt(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function $m(s){s.Ca.forEach((t=>{t.next()}))}var fm,Jv;(Jv=fm||(fm={})).Ma="default",Jv.Cache="cache";class XI{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new to(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==fm.Cache}}class l0{constructor(t){this.key=t}}class u0{constructor(t){this.key=t}}class JI{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Mt(),this.mutatedKeys=Mt(),this.eu=IT(t),this.tu=new Qa(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Qv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,b)=>{const M=l.get(S),Y=_h(this.query,b)?b:null,tt=!!M&&this.mutatedKeys.has(M.key),it=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let et=!1;M&&Y?M.data.isEqual(Y.data)?tt!==it&&(a.track({type:3,doc:Y}),et=!0):this.su(M,Y)||(a.track({type:2,doc:Y}),et=!0,(_&&this.eu(Y,_)>0||v&&this.eu(Y,v)<0)&&(g=!0)):!M&&Y?(a.track({type:0,doc:Y}),et=!0):M&&!Y&&(a.track({type:1,doc:M}),et=!0,(_||v)&&(g=!0)),et&&(Y?(d=d.add(Y),c=it?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,b)=>(function(Y,tt){const it=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:et})}};return it(Y)-it(tt)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,v=_!==this.Xa;return this.Xa=_,d.length!==0||v?{snapshot:new to(this.query,t.tu,c,d,t.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Qv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new u0(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new l0(a))})),i}cu(t){this.Za=t.ks,this.Ya=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Wm="SyncEngine";class ZI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class $I{constructor(t){this.key=t,this.hu=!1}}class WI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fs((g=>RT(g)),yh),this.Iu=new Map,this.Eu=new Set,this.Ru=new oe(ht.comparator),this.Au=new Map,this.Vu=new qm,this.du={},this.mu=new Map,this.fu=Wa.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tC(s,t,i=!0){const a=g0(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await c0(a,t,i,!0),l}async function eC(s,t){const i=g0(s);await c0(i,t,!0,!1)}async function c0(s,t,i,a){const l=await yI(s.localStore,Ai(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await nC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&n0(s.remoteStore,l),g}async function nC(s,t,i,a,l){s.pu=(b,M,Y)=>(async function(it,et,ft,_t){let yt=et.view.ru(ft);yt.Ss&&(yt=await qv(it.localStore,et.query,!1).then((({documents:C})=>et.view.ru(C,yt))));const Lt=_t&&_t.targetChanges.get(et.targetId),Wt=_t&&_t.targetMismatches.get(et.targetId)!=null,At=et.view.applyChanges(yt,it.isPrimaryClient,Lt,Wt);return $v(it,et.targetId,At.au),At.snapshot})(s,b,M,Y);const c=await qv(s.localStore,t,!0),d=new JI(t,c.ks),g=d.ru(c.documents),_=Xl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),v=d.applyChanges(g,s.isPrimaryClient,_);$v(s,i,v.au);const S=new ZI(t,i,d);return s.Tu.set(t,S),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),v.snapshot}async function iC(s,t,i){const a=Tt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!yh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await cm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Km(a.remoteStore,l.targetId),dm(a,l.targetId)})).catch(ao)):(dm(a,l.targetId),await cm(a.localStore,l.targetId,!0))}async function rC(s,t){const i=Tt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Km(i.remoteStore,a.targetId))}async function sC(s,t,i){const a=fC(s);try{const l=await(function(d,g){const _=Tt(d),v=ne.now(),S=g.reduce(((Y,tt)=>Y.add(tt.key)),Mt());let b,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let tt=nr(),it=Mt();return _.xs.getEntries(Y,S).next((et=>{tt=et,tt.forEach(((ft,_t)=>{_t.isValidDocument()||(it=it.add(ft))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Y,tt))).next((et=>{b=et;const ft=[];for(const _t of g){const yt=pR(_t,b.get(_t.key).overlayedDocument);yt!=null&&ft.push(new Gs(_t.key,yt,vT(yt.value.mapValue),Zi.exists(!0)))}return _.mutationQueue.addMutationBatch(Y,v,ft,g)})).next((et=>{M=et;const ft=et.applyToLocalDocumentSet(b,it);return _.documentOverlayCache.saveOverlays(Y,et.batchId,ft)}))})).then((()=>({batchId:M.batchId,changes:DT(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let v=d.du[d.currentUser.toKey()];v||(v=new oe(Vt)),v=v.insert(g,_),d.du[d.currentUser.toKey()]=v})(a,l.batchId,i),await Zl(a,l.changes),await bh(a.remoteStore)}catch(l){const c=Zm(l,"Failed to persist write");i.reject(c)}}async function h0(s,t){const i=Tt(s);try{const a=await mI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Zl(i,a,t)}catch(a){await ao(a)}}function Zv(s,t,i){const a=Tt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Tt(d);_.onlineState=g;let v=!1;_.queries.forEach(((S,b)=>{for(const M of b.ba)M.va(g)&&(v=!0)})),v&&$m(_)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function aC(s,t,i){const a=Tt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new oe(ht.comparator);d=d.insert(c,Je.newNoDocument(c,vt.min()));const g=Mt().add(c),_=new Th(vt.min(),new Map,new oe(Vt),d,g);await h0(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(t),tg(a)}else await cm(a.localStore,t,!1).then((()=>dm(a,t,i))).catch(ao)}async function oC(s,t){const i=Tt(s),a=t.batch.batchId;try{const l=await dI(i.localStore,t);d0(i,a,null),f0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Zl(i,l)}catch(l){await ao(l)}}async function lC(s,t,i){const a=Tt(s);try{const l=await(function(d,g){const _=Tt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let S;return _.mutationQueue.lookupMutationBatch(v,g).next((b=>(Ft(b!==null,37113),S=b.keys(),_.mutationQueue.removeMutationBatch(v,b)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,S,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S))).next((()=>_.localDocuments.getDocuments(v,S)))}))})(a.localStore,t);d0(a,t,i),f0(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Zl(a,l)}catch(l){await ao(l)}}function f0(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function d0(s,t,i){const a=Tt(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function dm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||m0(s,a)}))}function m0(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Km(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),tg(s))}function $v(s,t,i){for(const a of i)a instanceof l0?(s.Vu.addReference(a.key,t),uC(s,a)):a instanceof u0?(rt(Wm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||m0(s,a.key)):pt(19791,{wu:a})}function uC(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(rt(Wm,"New document in limbo: "+i),s.Eu.add(a),tg(s))}function tg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ht(ae.fromString(t)),a=s.fu.next();s.Au.set(a,new $I(i)),s.Ru=s.Ru.insert(i,a),n0(s.remoteStore,new jr(Ai(Lm(i.path)),a,"TargetPurposeLimboResolution",dh.ce))}}async function Zl(s,t,i){const a=Tt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,t,i).then((v=>{if((v||i)&&a.isPrimaryClient){const S=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(v){l.push(v);const S=Fm.Es(_.targetId,v);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(_,v){const S=Tt(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(v,(M=>X.forEach(M.Ts,(Y=>S.persistence.referenceDelegate.addReference(b,M.targetId,Y))).next((()=>X.forEach(M.Is,(Y=>S.persistence.referenceDelegate.removeReference(b,M.targetId,Y)))))))))}catch(b){if(!oo(b))throw b;rt(Gm,"Failed to update sequence numbers: "+b)}for(const b of v){const M=b.targetId;if(!b.fromCache){const Y=S.vs.get(M),tt=Y.snapshotVersion,it=Y.withLastLimboFreeSnapshotVersion(tt);S.vs=S.vs.insert(M,it)}}})(a.localStore,c))}async function cC(s,t){const i=Tt(s);if(!i.currentUser.isEqual(t)){rt(Wm,"User change. New user:",t.toKey());const a=await $T(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new lt(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Zl(i,a.Ns)}}function hC(s,t){const i=Tt(s),a=i.Au.get(t);if(a&&a.hu)return Mt().add(a.key);{let l=Mt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function g0(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=h0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aC.bind(null,t),t.Pu.J_=YI.bind(null,t.eventManager),t.Pu.yu=QI.bind(null,t.eventManager),t}function fC(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lC.bind(null,t),t}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return fI(this.persistence,new uI,t.initialUser,this.serializer)}Cu(t){return new ZT(Hm.Vi,this.serializer)}Du(t){return new vI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class dC extends oh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new QR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new ZT((a=>sh.Vi(a,i)),this.serializer)}}class mm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Zv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=cC.bind(null,this.syncEngine),await qI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new FI})()}createDatastore(t){const i=Sh(t.databaseInfo.databaseId),a=bI(t.databaseInfo);return DI(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new OI(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Zv(this.syncEngine,i,0)),(function(){return Gv.v()?new Gv:new EI})())}createSyncEngine(t,i){return(function(l,c,d,g,_,v,S){const b=new WI(l,c,d,g,_,v);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);rt(qs,"RemoteStore shutting down."),a.Ea.add(5),await Jl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mm.provider={build:()=>new mm};class mC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):er("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const $r="FirestoreClient";class gC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt($r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt($r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Zm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function jd(s,t){s.asyncQueue.verifyOperationInProgress(),rt($r,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await $T(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Wv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await pC(s);rt($r,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Yv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Yv(t.remoteStore,l))),s._onlineComponents=t}async function pC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt($r,"Using user provided OfflineComponentProvider");try{await jd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;js("Error using user provided cache. Falling back to memory cache: "+i),await jd(s,new oh)}}else rt($r,"Using default OfflineComponentProvider"),await jd(s,new dC(void 0));return s._offlineComponents}async function p0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt($r,"Using user provided OnlineComponentProvider"),await Wv(s,s._uninitializedComponentsProvider._online)):(rt($r,"Using default OnlineComponentProvider"),await Wv(s,new mm))),s._onlineComponents}function yC(s){return p0(s).then((t=>t.syncEngine))}async function _C(s){const t=await p0(s),i=t.eventManager;return i.onListen=tC.bind(null,t.syncEngine),i.onUnlisten=iC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=eC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=rC.bind(null,t.syncEngine),i}function vC(s,t,i={}){const a=new Kr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,v){const S=new mC({next:M=>{S.Nu(),d.enqueueAndForget((()=>KI(c,b)));const Y=M.docs.has(g);!Y&&M.fromCache?v.reject(new lt(J.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&M.fromCache&&_&&_.source==="server"?v.reject(new lt(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(M)},error:M=>v.reject(M)}),b=new XI(Lm(g.path),S,{includeMetadataChanges:!0,Ka:!0});return GI(c,b)})(await _C(s),s.asyncQueue,t,i,a))),a.promise}function EC(s,t){const i=new Kr;return s.asyncQueue.enqueueAndForget((async()=>sC(await yC(s),t,i))),i.promise}function y0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const TC="ComponentProvider",tE=new Map;function SC(s,t,i,a,l){return new P2(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,y0(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const _0="firestore.googleapis.com",eE=!0;class nE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_0,this.ssl=eE}else this.host=t.host,this.ssl=t.ssl??eE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=JT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<KR)throw new lt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}I2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y0(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class eg{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new p2;switch(a.type){case"firstParty":return new E2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=tE.get(i);a&&(rt(TC,"Removing Datastore"),tE.delete(i),a.terminate())})(this),Promise.resolve()}}function AC(s,t,i,a={}){s=xl(s,eg);const l=eo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(mE(`https://${g}`),gE("Firestore",!0)),c.host!==_0&&c.host!==g&&js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:a};if(!Ls(_,d)&&(s._setSettings(_),a.mockUserToken)){let v,S;if(typeof a.mockUserToken=="string")v=a.mockUserToken,S=Xe.MOCK_USER;else{v=w1(a.mockUserToken,s._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new lt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Xe(b)}s._authCredentials=new y2(new lT(v,S))}}class ng{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ng(this.firestore,t,this._query)}}class Ue{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ue(this.firestore,t,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Yl(i,Ue._jsonSchema))return new Ue(t,a||null,new ht(ae.fromString(i.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:Re("string",Ue._jsonSchemaVersion),referencePath:Re("string")};class jl extends ng{constructor(t,i,a){super(t,i,Lm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ue(this.firestore,null,new ht(t))}withConverter(t){return new jl(this.firestore,t,this._path)}}function La(s,t,...i){if(s=En(s),arguments.length===1&&(t=Nm.newId()),R2("doc","path",t),s instanceof eg){const a=ae.fromString(t,...i);return pv(a),new Ue(s,null,new ht(a))}{if(!(s instanceof Ue||s instanceof jl))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ae.fromString(t,...i));return pv(a),new Ue(s.firestore,s instanceof jl?s.converter:null,new ht(a))}}const iE="AsyncQueue";class rE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new t0(this,"async_queue_retry"),this._c=()=>{const a=Bd();a&&rt(iE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Bd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Bd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Kr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!oo(t))throw t;rt(iE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,er("INTERNAL UNHANDLED ERROR: ",sE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Jm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:sE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function sE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class ig extends eg{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new rE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new rE(t),this._firestoreClient=void 0,await t}}}function bC(s,t){const i=typeof s=="object"?s:vE(),a=typeof s=="string"?s:$c,l=_m(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=A1("firestore");c&&AC(l,...c)}return l}function v0(s){if(s._terminated)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||wC(s),s._firestoreClient}function wC(s){const t=s._freezeSettings(),i=SC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new gC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kn(Ke.fromBase64String(t))}catch(i){throw new lt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new kn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Yl(t,kn._jsonSchema))return kn.fromBase64String(t.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Re("string",kn._jsonSchemaVersion),bytes:Re("string")};class E0{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class T0{constructor(t){this._methodName=t}}class wi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(t){if(Yl(t,wi._jsonSchema))return new wi(t.latitude,t.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Re("string",wi._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class $n{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:$n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Yl(t,$n._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new $n(t.vectorValues);throw new lt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$n._jsonSchemaVersion="firestore/vectorValue/1.0",$n._jsonSchema={type:Re("string",$n._jsonSchemaVersion),vectorValues:Re("object")};const RC=/^__.*__$/;class IC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Gs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ql(t,this.data,i,this.fieldTransforms)}}function S0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{dataSource:s})}}class rg{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new rg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return lh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(S0(this.dataSource)&&RC.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class CC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Sh(t)}createContext(t,i,a,l=!1){return new rg({dataSource:t,methodName:i,targetDoc:a,path:Ge.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DC(s){const t=s._freezeSettings(),i=Sh(s._databaseId);return new CC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function NC(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);R0("Data must be an object, but it was:",d,a);const g=b0(a,d);let _,v;if(c.merge)_=new Jn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const b of c.mergeFields){const M=sg(t,b,i);if(!d.contains(M))throw new lt(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);MC(S,M)||S.push(M)}_=new Jn(S),v=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,v=d.fieldTransforms;return new IC(new xn(g),_,v)}function A0(s,t){if(w0(s=En(s)))return R0("Unsupported field value:",t,s),b0(s,t);if(s instanceof T0)return(function(a,l){if(!S0(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let _=A0(g,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=En(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return cR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ne.fromDate(a);return{timestampValue:rh(l.serializer,c)}}if(a instanceof ne){const c=new ne(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:rh(l.serializer,c)}}if(a instanceof wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof kn)return{bytesValue:qT(l.serializer,a._byteString)};if(a instanceof Ue){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:jm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof $n)return(function(d,g){const _=d instanceof $n?d.toArray():d;return{mapValue:{fields:{[yT]:{stringValue:_T},[Wc]:{arrayValue:{values:_.map((S=>{if(typeof S!="number")throw g.createError("VectorValues must only contain numeric values.");return Pm(g.serializer,S)}))}}}}}})(a,l);if(XT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Om(a)}`)})(s,t)}function b0(s,t){const i={};return hT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hs(s,((a,l)=>{const c=A0(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function w0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ne||s instanceof wi||s instanceof kn||s instanceof Ue||s instanceof T0||s instanceof $n||XT(s))}function R0(s,t,i){if(!w0(i)||!uT(i)){const a=Om(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function sg(s,t,i){if((t=En(t))instanceof E0)return t._internalPath;if(typeof t=="string")return VC(s,t);throw lh("Field path arguments must be of type string or ",s,!1,void 0,i)}const OC=new RegExp("[~\\*/\\[\\]]");function VC(s,t,i){if(t.search(OC)>=0)throw lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new E0(...t.split("."))._internalPath}catch{throw lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function lh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new lt(J.INVALID_ARGUMENT,g+s+_)}function MC(s,t){return s.some((i=>i.isEqual(t)))}class xC{convertValue(t,i="none"){switch(Jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Hs(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Wc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new $n(i)}convertGeoPoint(t){return new wi(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=gh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ul(t));default:return null}}convertTimestamp(t){const i=Qr(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ae.fromString(t);Ft(QT(a),9688,{name:t});const l=new Ll(a.get(1),a.get(3)),c=new ht(a.popFirst(5));return l.isEqual(i)||er(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class kC extends xC{constructor(t){super(),this.firestore=t}convertBytes(t){return new kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ue(this.firestore,null,i)}}const aE="@firebase/firestore",oE="4.12.0";class I0{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new UC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(sg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class UC extends I0{data(){return super.data()}}function LC(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class Sl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Us extends I0{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(sg("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Us._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Us._jsonSchemaVersion="firestore/documentSnapshot/1.0",Us._jsonSchema={type:Re("string",Us._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class qc extends Us{data(t={}){return super.data(t)}}class Nl{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Sl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new qc(this._firestore,this._userDataWriter,a.key,a,new Sl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Sl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Sl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,S=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:PC(g.type),doc:_,oldIndex:v,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Nl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function PC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:s})}}Nl._jsonSchemaVersion="firestore/querySnapshot/1.0",Nl._jsonSchema={type:Re("string",Nl._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};function qd(s){s=xl(s,Ue);const t=xl(s.firestore,ig),i=v0(t);return vC(i,s._key).then((a=>BC(t,s,a)))}function Hd(s,t,i){s=xl(s,Ue);const a=xl(s.firestore,ig),l=LC(s.converter,t),c=DC(a);return zC(a,[NC(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Zi.none())])}function zC(s,t){const i=v0(s);return EC(i,t)}function BC(s,t,i){const a=i.docs.get(t._key),l=new kC(s);return new Us(s,l,t._key,a,new Sl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){g2(no),Xa(new Ps("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new ig(new _2(a.getProvider("auth-internal")),new T2(d,a.getProvider("app-check-internal")),z2(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Fr(aE,oE,t),Fr(aE,oE,"esm2020")})();const jC={apiKey:"AIzaSyA7Uogd5ajbhSh3javgyQtg_dD369qSdDM",authDomain:"tejadashboard-afa75.firebaseapp.com",projectId:"tejadashboard-afa75",storageBucket:"tejadashboard-afa75.firebasestorage.app",messagingSenderId:"571810249669",appId:"1:571810249669:web:05342792054de54ef069ac"},C0=_E(jC),Pa=d2(C0),za=bC(C0);function qC(){const[s,t]=He.useState("landing"),[i,a]=He.useState(null),[l,c]=He.useState(null),[d,g]=He.useState(""),[_,v]=He.useState(!1),[S,b]=He.useState(!1),[M,Y]=He.useState(""),[tt,it]=He.useState(""),[et,ft]=He.useState(""),[_t,yt]=He.useState(""),[Lt,Wt]=He.useState(""),[At,C]=He.useState("email"),[A,I]=He.useState(""),[V,D]=He.useState(""),[k,w]=He.useState(""),Pt=()=>g("");He.useEffect(()=>{const K=setTimeout(()=>b(!0),5e3),nt=nw(Pa,async at=>{clearTimeout(K);try{if(at){const gt=await qd(La(za,"users",at.uid));if(gt.exists())c(gt.data());else{const St=(at.displayName||"User").split(" ");c({firstName:St[0],lastName:St[1]||""})}a(at),t("home")}else a(null),c(null),t("landing")}catch{if(at){const gt=(at.displayName||"User").split(" ");c({firstName:gt[0],lastName:gt[1]||""}),a(at),t("home")}else t("landing")}finally{b(!0)}});return()=>{clearTimeout(K),nt()}},[]);const ce=async()=>{v(!0),Pt();try{const K=new Yi,at=(await sv(Pa,K)).user;if(!(await qd(La(za,"users",at.uid))).exists()){const St=(at.displayName||"User").split(" ");await Hd(La(za,"users",at.uid),{firstName:St[0],lastName:St[1]||"",email:at.email,contactMethod:"email",provider:"google",createdAt:new Date().toISOString()})}}catch(K){g(K.message.includes("popup-closed")?"Sign-in cancelled.":K.message)}v(!1)},q=async()=>{v(!0),Pt();try{const K=new wl("apple.com"),at=(await sv(Pa,K)).user;if(!(await qd(La(za,"users",at.uid))).exists()){const St=(at.displayName||"Apple User").split(" ");await Hd(La(za,"users",at.uid),{firstName:St[0],lastName:St[1]||"",email:at.email||"",contactMethod:"email",provider:"apple",createdAt:new Date().toISOString()})}}catch(K){g(K.message.includes("popup-closed")?"Sign-in cancelled.":K.message)}v(!1)},W=async()=>{if(!tt||!et){g("Please fill all fields");return}v(!0),Pt();try{await Wb(Pa,tt,et)}catch{g("Invalid email or password.")}v(!1)},ut=async()=>{if(!_t||!Lt||!k){g("Please fill all required fields.");return}if(At==="email"&&!A){g("Please enter your email.");return}if(At==="phone"&&!V){g("Please enter your phone number.");return}if(k.length<6){g("Password must be at least 6 characters.");return}v(!0),Pt();try{const K=At==="email"?A:`${V.replace(/\D/g,"")}@phone.teja.app`,nt=await $b(Pa,K,k);await Hd(La(za,"users",nt.user.uid),{firstName:_t,lastName:Lt,contactMethod:At,email:At==="email"?A:null,phone:At==="phone"?V:null,provider:"email",createdAt:new Date().toISOString()})}catch(K){K.code==="auth/email-already-in-use"?g("This email is already registered. Try logging in."):K.code==="auth/invalid-email"?g("Please enter a valid email address."):g(K.message)}v(!1)},xt=async()=>{await iw(Pa),Y(""),it(""),ft(""),yt(""),Wt(""),I(""),D(""),w("")},zt=`
    @import url('https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:ital,wght@0,300;0,400;0,500;1,300&display=swap');

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'DM Sans', sans-serif; background: #0a0a0f; color: #e8e6ff; min-height: 100vh; }

    .app {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background:
        radial-gradient(ellipse at 20% 50%, #1a0533 0%, transparent 55%),
        radial-gradient(ellipse at 80% 20%, #001233 0%, transparent 50%),
        radial-gradient(ellipse at 60% 80%, #0d1f0a 0%, transparent 50%),
        #0a0a0f;
      padding: 20px;
    }

    .card {
      background: rgba(255,255,255,0.04);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 24px;
      padding: 48px 44px;
      width: 100%;
      max-width: 440px;
      box-shadow: 0 32px 80px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.1);
      animation: slideUp 0.4s cubic-bezier(0.16,1,0.3,1);
    }

    @keyframes slideUp {
      from { opacity: 0; transform: translateY(24px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .logo {
      font-family: 'Syne', sans-serif;
      font-weight: 800;
      font-size: 28px;
      letter-spacing: -1px;
      background: linear-gradient(135deg, #a78bfa, #60a5fa, #34d399);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 8px;
    }

    .subtitle { font-size: 14px; color: rgba(255,255,255,0.35); margin-bottom: 40px; font-weight: 300; }

    h2 { font-family: 'Syne', sans-serif; font-weight: 700; font-size: 22px; margin-bottom: 6px; color: #f0eeff; }
    .desc { font-size: 14px; color: rgba(255,255,255,0.4); margin-bottom: 32px; }

    .btn-primary {
      width: 100%; padding: 14px 20px; border-radius: 12px; border: none;
      font-family: 'DM Sans', sans-serif; font-size: 15px; font-weight: 500;
      cursor: pointer; transition: all 0.2s; margin-bottom: 12px; display: block;
    }
    .btn-login { background: linear-gradient(135deg, #7c3aed, #4f46e5); color: white; box-shadow: 0 8px 24px rgba(124,58,237,0.4); }
    .btn-login:hover { transform: translateY(-1px); box-shadow: 0 12px 32px rgba(124,58,237,0.55); }
    .btn-signup { background: transparent; color: #a78bfa; border: 1px solid rgba(167,139,250,0.3); }
    .btn-signup:hover { background: rgba(167,139,250,0.08); border-color: rgba(167,139,250,0.6); }

    .social-btn {
      width: 100%; padding: 13px 20px; border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.1); background: rgba(255,255,255,0.05);
      color: #e8e6ff; font-family: 'DM Sans', sans-serif; font-size: 14px;
      cursor: pointer; display: flex; align-items: center; gap: 12px;
      margin-bottom: 10px; transition: all 0.2s;
    }
    .social-btn:hover:not(:disabled) { background: rgba(255,255,255,0.09); border-color: rgba(255,255,255,0.2); transform: translateY(-1px); }
    .social-btn:disabled { opacity: 0.5; cursor: not-allowed; }

    .divider { display: flex; align-items: center; gap: 12px; margin: 20px 0; color: rgba(255,255,255,0.2); font-size: 12px; }
    .divider::before, .divider::after { content: ''; flex: 1; height: 1px; background: rgba(255,255,255,0.1); }

    .input-group { margin-bottom: 14px; }
    .label { font-size: 11px; color: rgba(255,255,255,0.35); margin-bottom: 6px; font-weight: 500; letter-spacing: 0.8px; text-transform: uppercase; display: block; }
    .input {
      width: 100%; padding: 13px 16px; border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.1); background: rgba(255,255,255,0.05);
      color: #e8e6ff; font-family: 'DM Sans', sans-serif; font-size: 14px;
      outline: none; transition: border-color 0.2s, background 0.2s;
    }
    .input:focus { border-color: rgba(167,139,250,0.5); background: rgba(255,255,255,0.07); }
    .input::placeholder { color: rgba(255,255,255,0.22); }

    .input-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 14px; }
    .input-row .input { margin-bottom: 0; }

    .contact-toggle { display: flex; border: 1px solid rgba(255,255,255,0.1); border-radius: 10px; overflow: hidden; margin-bottom: 14px; }
    .toggle-opt { flex: 1; padding: 11px; text-align: center; font-size: 13px; cursor: pointer; transition: all 0.2s; color: rgba(255,255,255,0.35); border: none; background: transparent; font-family: 'DM Sans', sans-serif; }
    .toggle-opt.active { background: rgba(124,58,237,0.25); color: #a78bfa; font-weight: 500; }

    .btn-submit {
      width: 100%; padding: 14px 20px; border-radius: 12px; border: none;
      background: linear-gradient(135deg, #7c3aed, #4f46e5); color: white;
      font-family: 'DM Sans', sans-serif; font-size: 15px; font-weight: 500;
      cursor: pointer; margin-top: 8px; transition: all 0.2s;
      box-shadow: 0 8px 24px rgba(124,58,237,0.35); display: flex; align-items: center; justify-content: center; gap: 8px;
    }
    .btn-submit:hover:not(:disabled) { transform: translateY(-1px); box-shadow: 0 12px 32px rgba(124,58,237,0.5); }
    .btn-submit:disabled { opacity: 0.5; cursor: not-allowed; }

    .back-btn {
      background: none; border: none; color: rgba(255,255,255,0.35); font-size: 13px;
      cursor: pointer; display: flex; align-items: center; gap: 6px; margin-bottom: 28px;
      padding: 0; transition: color 0.2s; font-family: 'DM Sans', sans-serif;
    }
    .back-btn:hover { color: rgba(255,255,255,0.7); }

    .error { color: #f87171; font-size: 13px; margin-top: 12px; text-align: center; padding: 10px; background: rgba(248,113,113,0.08); border-radius: 8px; }

    .spinner { width: 16px; height: 16px; border: 2px solid rgba(255,255,255,0.3); border-top-color: white; border-radius: 50%; animation: spin 0.6s linear infinite; }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* Home */
    .home-card { text-align: center; }
    .home-header { display: flex; justify-content: flex-end; margin-bottom: 24px; }
    .logout-btn {
      padding: 9px 20px; border-radius: 10px; border: 1px solid rgba(248,113,113,0.3);
      background: rgba(248,113,113,0.08); color: #f87171; font-family: 'DM Sans', sans-serif;
      font-size: 13px; cursor: pointer; transition: all 0.2s;
    }
    .logout-btn:hover { background: rgba(248,113,113,0.15); border-color: rgba(248,113,113,0.5); }

    .avatar {
      width: 88px; height: 88px; border-radius: 50%;
      background: linear-gradient(135deg, #7c3aed, #4f46e5, #2563eb);
      display: flex; align-items: center; justify-content: center;
      font-family: 'Syne', sans-serif; font-size: 34px; font-weight: 700; color: white;
      margin: 0 auto 24px;
      box-shadow: 0 16px 48px rgba(124,58,237,0.5);
    }

    .welcome-text {
      font-family: 'Syne', sans-serif; font-size: 34px; font-weight: 800;
      background: linear-gradient(135deg, #a78bfa, #60a5fa, #34d399);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
      margin-bottom: 8px; line-height: 1.2;
    }

    .home-sub { color: rgba(255,255,255,0.4); font-size: 14px; margin-bottom: 36px; }

    .info-box {
      padding: 18px 20px; background: rgba(255,255,255,0.03);
      border-radius: 14px; border: 1px solid rgba(255,255,255,0.07);
      color: rgba(255,255,255,0.45); font-size: 13px; line-height: 1.7; text-align: left;
    }
    .info-box code { color: #a78bfa; font-size: 12px; }

    /* Splash loader */
    .splash { display: flex; align-items: center; justify-content: center; min-height: 100vh; background: #0a0a0f; }
    .splash-logo { font-family: 'Syne', sans-serif; font-weight: 800; font-size: 36px; background: linear-gradient(135deg, #a78bfa, #60a5fa, #34d399); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; animation: pulse 1.5s ease-in-out infinite; }
    @keyframes pulse { 0%,100% { opacity: 1; } 50% { opacity: 0.4; } }

    @media (max-width: 480px) {
      .card { padding: 36px 24px; }
      .welcome-text { font-size: 28px; }
    }
  `,O=l?.firstName||i?.displayName?.split(" ")[0]||i?.email?.split("@")[0]||"User",G=l?.lastName||i?.displayName?.split(" ").slice(1).join(" ")||"";return S?Z.jsxs(Z.Fragment,{children:[Z.jsx("style",{children:zt}),Z.jsxs("div",{className:"app",children:[s==="landing"&&Z.jsxs("div",{className:"card",children:[Z.jsx("div",{className:"logo",children:" teja"}),Z.jsx("div",{className:"subtitle",children:"Your space. Your identity."}),Z.jsx("h2",{children:"Welcome"}),Z.jsx("p",{className:"desc",children:"Sign in or create a new account to continue."}),Z.jsx("button",{className:"btn-primary btn-login",onClick:()=>{t("login"),Pt()},children:"Log In"}),Z.jsx("button",{className:"btn-primary btn-signup",onClick:()=>{t("signup"),Pt()},children:"Create Account"})]}),s==="login"&&Z.jsxs("div",{className:"card",children:[Z.jsx("button",{className:"back-btn",onClick:()=>{t("landing"),Y(""),Pt()},children:" Back"}),Z.jsx("h2",{children:"Sign In"}),Z.jsx("p",{className:"desc",children:"Choose how you'd like to continue"}),Z.jsxs("button",{className:"social-btn",onClick:ce,disabled:_,children:[Z.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",children:[Z.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),Z.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),Z.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),Z.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),Z.jsxs("button",{className:"social-btn",onClick:q,disabled:_,children:[Z.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"white",children:Z.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.7 9.05 7.4c1.33.07 2.24.74 3.02.78 1.16-.24 2.27-.93 3.51-.84 1.47.12 2.59.64 3.33 1.65-3.04 1.84-2.31 5.81.55 6.97-.65 1.67-1.52 3.32-2.41 4.32zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),"Continue with Apple"]}),M!=="emailphone"&&Z.jsxs("button",{className:"social-btn",onClick:()=>Y("emailphone"),children:[Z.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(255,255,255,0.55)",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[Z.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),Z.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Continue with Email / Phone"]}),M==="emailphone"&&Z.jsxs("div",{style:{animation:"slideUp 0.3s ease"},children:[Z.jsx("div",{className:"divider",children:"enter credentials"}),Z.jsxs("div",{className:"input-group",children:[Z.jsx("label",{className:"label",children:"Email"}),Z.jsx("input",{className:"input",type:"email",placeholder:"you@example.com",value:tt,onChange:K=>it(K.target.value),onKeyDown:K=>K.key==="Enter"&&W()})]}),Z.jsxs("div",{className:"input-group",children:[Z.jsx("label",{className:"label",children:"Password"}),Z.jsx("input",{className:"input",type:"password",placeholder:"Your password",value:et,onChange:K=>ft(K.target.value),onKeyDown:K=>K.key==="Enter"&&W()})]}),Z.jsxs("button",{className:"btn-submit",onClick:W,disabled:_,children:[_&&Z.jsx("span",{className:"spinner"}),"Sign In"]})]}),_&&M!=="emailphone"&&Z.jsxs("p",{style:{textAlign:"center",color:"rgba(255,255,255,0.35)",fontSize:13,marginTop:14,display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[Z.jsx("span",{className:"spinner"})," Signing in..."]}),d&&Z.jsx("div",{className:"error",children:d})]}),s==="signup"&&Z.jsxs("div",{className:"card",children:[Z.jsx("button",{className:"back-btn",onClick:()=>{t("landing"),Pt()},children:" Back"}),Z.jsx("h2",{children:"Create Account"}),Z.jsx("p",{className:"desc",children:"Fill in your details to get started"}),Z.jsxs("div",{className:"input-row",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"label",children:"First Name"}),Z.jsx("input",{className:"input",placeholder:"Jane",value:_t,onChange:K=>yt(K.target.value)})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"label",children:"Last Name"}),Z.jsx("input",{className:"input",placeholder:"Doe",value:Lt,onChange:K=>Wt(K.target.value)})]})]}),Z.jsx("label",{className:"label",style:{marginBottom:8},children:"Contact Method"}),Z.jsxs("div",{className:"contact-toggle",children:[Z.jsx("button",{className:`toggle-opt ${At==="email"?"active":""}`,onClick:()=>C("email"),children:" Email"}),Z.jsx("button",{className:`toggle-opt ${At==="phone"?"active":""}`,onClick:()=>C("phone"),children:" Phone"})]}),Z.jsx("div",{className:"input-group",children:At==="email"?Z.jsxs(Z.Fragment,{children:[Z.jsx("label",{className:"label",children:"Email Address"}),Z.jsx("input",{className:"input",type:"email",placeholder:"you@example.com",value:A,onChange:K=>I(K.target.value)})]}):Z.jsxs(Z.Fragment,{children:[Z.jsx("label",{className:"label",children:"Phone Number"}),Z.jsx("input",{className:"input",type:"tel",placeholder:"+91 98765 43210",value:V,onChange:K=>D(K.target.value)})]})}),Z.jsxs("div",{className:"input-group",children:[Z.jsx("label",{className:"label",children:"Password"}),Z.jsx("input",{className:"input",type:"password",placeholder:"At least 6 characters",value:k,onChange:K=>w(K.target.value),onKeyDown:K=>K.key==="Enter"&&ut()})]}),Z.jsxs("button",{className:"btn-submit",onClick:ut,disabled:_,children:[_&&Z.jsx("span",{className:"spinner"}),"Create Account"]}),d&&Z.jsx("div",{className:"error",children:d})]}),s==="home"&&Z.jsxs("div",{className:"card home-card",children:[Z.jsx("div",{className:"home-header",children:Z.jsx("button",{className:"logout-btn",onClick:xt,children:"Sign Out"})}),Z.jsx("div",{className:"avatar",children:O[0]?.toUpperCase()||"U"}),Z.jsxs("div",{className:"welcome-text",children:["Welcome,",Z.jsx("br",{}),O,"!"]}),Z.jsxs("p",{className:"home-sub",children:[O," ",G,"  You're all set "]}),Z.jsxs("div",{className:"info-box",children:[" Firebase is active. Your profile is saved in Firestore at ",Z.jsxs("code",{children:["users/",i?.uid?.slice(0,8),""]}),Z.jsx("br",{}),"Refresh the page  you'll stay logged in automatically."]})]})]})]}):Z.jsxs(Z.Fragment,{children:[Z.jsx("style",{children:zt}),Z.jsx("div",{className:"splash",children:Z.jsx("div",{className:"splash-logo",children:" teja"})})]})}m1.createRoot(document.getElementById("root")).render(Z.jsx(He.StrictMode,{children:Z.jsx(qC,{})}));
